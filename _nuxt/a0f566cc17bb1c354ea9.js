/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{252:function(t,e,n){"use strict";var r,o=(r=n(290))&&"object"==typeof r&&"default"in r?r.default:r;o.registerVersion("firebase","7.16.0","app"),t.exports=o},290:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,c=n(792),h=n(291),component=n(338),f=n(339),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),d=new h.ErrorFactory("app","Firebase",l),v=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),y=new f.Logger("@firebase/app"),m=function(){function t(t,e,n){var r,o,f=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=h.deepCopy(t),this.container=new component.ComponentContainer(e.name),this._addComponent(new component.Component("app",(function(){return f}),"PUBLIC"));try{for(var l=c.__values(this.firebase_.INTERNAL.components.values()),d=l.next();!d.done;d=l.next()){var v=d.value;this._addComponent(v)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(component){try{this.container.addComponent(component)}catch(t){y.debug("Component "+component.name+" failed to register with FirebaseApp "+this.name,t)}},t.prototype._addOrOverwriteComponent=function(component){this.container.addOrOverwriteComponent(component)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw d.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var w=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!=typeof o||null===o){o={name:o}}var c=o;void 0===c.name&&(c.name="[DEFAULT]");var f=c.name;if("string"!=typeof f||!f)throw d.create("bad-app-name",{appName:String(f)});if(h.contains(e,f))throw d.create("duplicate-app",{appName:f});var l=new t(n,c,r);return e[f]=l,l},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=v[t])&&void 0!==r?r:t;n&&(o+="-"+n);var c=o.match(/\s|\//),h=e.match(/\s|\//);if(c||h){var f=['Unable to register library "'+o+'" with version "'+e+'":'];return c&&f.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),c&&h&&f.push("and"),h&&f.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void y.warn(f.join(" "))}l(new component.Component(o+"-version",(function(){return{library:o,version:e}}),"VERSION"))},setLogLevel:f.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw d.create("invalid-log-argument",{appName:name});f.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.16.0",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function o(t){if(t=t||"[DEFAULT]",!h.contains(e,t))throw d.create("no-app",{appName:t});return e[t]}function l(component){var f,l,v=component.name;if(n.has(v))return y.debug("There were multiple attempts to register component "+v+"."),"PUBLIC"===component.type?r[v]:null;if(n.set(v,component),"PUBLIC"===component.type){var m=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[v])throw d.create("invalid-app-argument",{appName:v});return t[v]()};void 0!==component.serviceProps&&h.deepExtend(m,component.serviceProps),r[v]=m,t.prototype[v]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,v);return n.apply(this,component.multipleInstances?t:[])}}try{for(var w=c.__values(Object.keys(e)),_=w.next();!_.done;_=w.next()){var I=_.value;e[I]._addComponent(component)}}catch(t){f={error:t}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(f)throw f.error}}return"PUBLIC"===component.type?r[v]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,r}(m);return e.INTERNAL=c.__assign(c.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){h.deepExtend(e,t)},createSubscribe:h.createSubscribe,ErrorFactory:h.ErrorFactory,deepExtend:h.deepExtend}),e}(),_=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var component=t.getComponent();return"VERSION"===(null==component?void 0:component.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(h.isBrowser()&&void 0!==self.firebase){y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var I=self.firebase.SDK_VERSION;I&&I.indexOf("LITE")>=0&&y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var E=w.initializeApp;w.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h.isNode()&&y.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),E.apply(void 0,t)};var T=w;!function(t,e){t.INTERNAL.registerComponent(new component.Component("platform-logger",(function(t){return new _(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.8",e),t.registerVersion("fire-js","")}(T),e.default=T,e.firebase=T},291:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(793),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(t,e){if(!t)throw h(e)},h=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},f=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,c=i+2<input.length,h=c?input[i+2]:0,f=n>>2,l=(3&n)<<4|o>>4,d=(15&o)<<2|h>>6,v=63&h;c||(v=64,r||(d=64)),output.push(e[f],e[l],e[d],e[v])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(f(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var c=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(c=t[n++]))<<12|(63&(h=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{c=t[n++];var h=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&h)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,c=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==c)throw Error();var h=n<<2|r>>4;if(output.push(h),64!==o){var f=r<<4&240|o>>2;if(output.push(f),64!==c){var l=o<<6&192|c;output.push(l)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},d=function(t){try{return l.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=v(t[e],source[e]));return t}var y=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function w(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}var _=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,I.prototype.create),r}return r.__extends(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code){for(var data=[],t=1;t<arguments.length;t++)data[t-1]=arguments[t];for(var e=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?E(template,e):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new _(n,o),h=0,f=Object.keys(e);h<f.length;h++){var l=f[h];"_"!==l.slice(-1)&&(l in c&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),c[l]=e[l])}return c},t}();function E(template,data){return template.replace(T,(function(t,e){var n=data[e];return null!=n?String(n):"<"+e+"?>"}))}var T=/\{\$([^}]+)}/g;function A(t){return JSON.parse(t)}var N=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=A(d(r[0])||""),e=A(d(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}};var S=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],h=this.chain_[2],f=this.chain_[3],l=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=f^b&(h^f),c=1518500249):(o=b^h^f,c=1859775393):i<60?(o=b&h|f&(b|h),c=2400959708):(o=b^h^f,c=3395469782);r=(a<<5|a>>>27)+o+l+c+n[i]&4294967295;l=f,f=h,h=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<e;){if(0===c)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[c]=t.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),c},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function P(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=y,e.ErrorFactory=I,e.FirebaseError=_,e.Sha1=S,e.assert=c,e.assertionError=h,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=d,e.base64Encode=function(t){var e=f(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new O(t,e);return n.subscribe.bind(n)},e.decode=N,e.deepCopy=function(t){return v(void 0,t)},e.deepExtend=v,e.errorPrefix=P,e.getUA=m,e.isAdmin=function(t){var e=N(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return m().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())},e.isNode=w,e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!w()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return m().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=N(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=N(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),o=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},e.issuedAtTime=function(t){var e=N(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=A,e.map=function(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var c=o[r];n(c[0],c[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;i++,c(i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(P(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(P(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(P(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(21))},292:function(t,e,n){"use strict";n(795)},293:function(t,e,n){"use strict";n(798)},338:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(794),o=n(291),c=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),h=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,o=e.optional,c=this.normalizeInstanceIdentifier(n);try{var h=this.getOrInitializeService(c);if(!h){if(o)return null;throw Error("Service "+this.name+" is not available")}return h}catch(t){if(o)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(component){var t,e;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var n=r.__values(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var c=r.__read(o.value,2),h=c[0],f=c[1],l=this.normalizeInstanceIdentifier(h);try{var d=this.getOrInitializeService(l);f.resolve(d)}catch(t){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var f=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(component){var t=this.getProvider(component.name);if(t.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);t.setComponent(component)},t.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new h(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=c,e.ComponentContainer=f,e.Provider=h},339:function(t,e,n){"use strict";function r(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}var o;n.r(e),n.d(e,"LogLevel",(function(){return c})),n.d(e,"Logger",(function(){return y})),n.d(e,"setLogLevel",(function(){return m})),n.d(e,"setUserLogHandler",(function(){return w}));var c,h=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(c||(c={}));var f={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},l=c.INFO,d=((o={})[c.DEBUG]="log",o[c.VERBOSE]="log",o[c.INFO]="info",o[c.WARN]="warn",o[c.ERROR]="error",o),v=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var c=(new Date).toISOString(),h=d[e];if(!h)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[h].apply(console,r(["["+c+"]  "+t.name+":"],n))}},y=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=v,this._userLogHandler=null,h.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in c))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?f[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.DEBUG],t)),this._logHandler.apply(this,r([this,c.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.VERBOSE],t)),this._logHandler.apply(this,r([this,c.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.INFO],t)),this._logHandler.apply(this,r([this,c.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.WARN],t)),this._logHandler.apply(this,r([this,c.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.ERROR],t)),this._logHandler.apply(this,r([this,c.ERROR],t))},t}();function m(t){h.forEach((function(e){e.setLogLevel(t)}))}function w(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=f[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var o=[],h=2;h<arguments.length;h++)o[h-2]=arguments[h];var f=o.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:c[n].toLowerCase(),message:f,args:o,type:e.name})}},r=0,o=h;r<o.length;r++){n(o[r])}}},792:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return h})),n.d(e,"__decorate",(function(){return f})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return d})),n.d(e,"__awaiter",(function(){return v})),n.d(e,"__generator",(function(){return y})),n.d(e,"__createBinding",(function(){return m})),n.d(e,"__exportStar",(function(){return w})),n.d(e,"__values",(function(){return _})),n.d(e,"__read",(function(){return I})),n.d(e,"__spread",(function(){return E})),n.d(e,"__spreadArrays",(function(){return T})),n.d(e,"__await",(function(){return A})),n.d(e,"__asyncGenerator",(function(){return N})),n.d(e,"__asyncDelegator",(function(){return S})),n.d(e,"__asyncValues",(function(){return O})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return P})),n.d(e,"__importDefault",(function(){return D})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return R}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function h(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function f(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function l(t,e){return function(n,r){e(n,r,t)}}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(o,c){function h(t){try{l(r.next(t))}catch(t){c(t)}}function f(t){try{l(r.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(h,f)}l((r=r.apply(t,e||[])).next())}))}function y(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(h){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,h])}}}function m(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function w(t,e){for(var p in t)"default"===p||e.hasOwnProperty(p)||(e[p]=t[p])}function _(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(I(arguments[i]));return t}function T(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function N(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof A?Promise.resolve(n.value.v).then(c,h):f(q[0][2],n)}catch(t){f(q[0][3],t)}var n}function c(t){o("next",t)}function h(t){o("throw",t)}function f(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function S(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:A(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=_(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function D(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},793:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return h})),n.d(e,"__decorate",(function(){return f})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return d})),n.d(e,"__awaiter",(function(){return v})),n.d(e,"__generator",(function(){return y})),n.d(e,"__createBinding",(function(){return m})),n.d(e,"__exportStar",(function(){return w})),n.d(e,"__values",(function(){return _})),n.d(e,"__read",(function(){return I})),n.d(e,"__spread",(function(){return E})),n.d(e,"__spreadArrays",(function(){return T})),n.d(e,"__await",(function(){return A})),n.d(e,"__asyncGenerator",(function(){return N})),n.d(e,"__asyncDelegator",(function(){return S})),n.d(e,"__asyncValues",(function(){return O})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return P})),n.d(e,"__importDefault",(function(){return D})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return R}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function h(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function f(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function l(t,e){return function(n,r){e(n,r,t)}}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(o,c){function h(t){try{l(r.next(t))}catch(t){c(t)}}function f(t){try{l(r.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(h,f)}l((r=r.apply(t,e||[])).next())}))}function y(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(h){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,h])}}}function m(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function w(t,e){for(var p in t)"default"===p||e.hasOwnProperty(p)||(e[p]=t[p])}function _(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(I(arguments[i]));return t}function T(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function N(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof A?Promise.resolve(n.value.v).then(c,h):f(q[0][2],n)}catch(t){f(q[0][3],t)}var n}function c(t){o("next",t)}function h(t){o("throw",t)}function f(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function S(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:A(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=_(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function D(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},794:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return h})),n.d(e,"__decorate",(function(){return f})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return d})),n.d(e,"__awaiter",(function(){return v})),n.d(e,"__generator",(function(){return y})),n.d(e,"__createBinding",(function(){return m})),n.d(e,"__exportStar",(function(){return w})),n.d(e,"__values",(function(){return _})),n.d(e,"__read",(function(){return I})),n.d(e,"__spread",(function(){return E})),n.d(e,"__spreadArrays",(function(){return T})),n.d(e,"__await",(function(){return A})),n.d(e,"__asyncGenerator",(function(){return N})),n.d(e,"__asyncDelegator",(function(){return S})),n.d(e,"__asyncValues",(function(){return O})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return P})),n.d(e,"__importDefault",(function(){return D})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return R}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function h(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function f(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function l(t,e){return function(n,r){e(n,r,t)}}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(o,c){function h(t){try{l(r.next(t))}catch(t){c(t)}}function f(t){try{l(r.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(h,f)}l((r=r.apply(t,e||[])).next())}))}function y(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(h){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,h])}}}function m(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function w(t,e){for(var p in t)"default"===p||e.hasOwnProperty(p)||(e[p]=t[p])}function _(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(I(arguments[i]));return t}function T(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function N(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof A?Promise.resolve(n.value.v).then(c,h):f(q[0][2],n)}catch(t){f(q[0][3],t)}var n}function c(t){o("next",t)}function h(t){o("throw",t)}function f(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function S(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:A(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=_(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function D(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},795:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(796),c=(r=n(290))&&"object"==typeof r&&"default"in r?r.default:r,h=n(339),i=n(291),f=n(797),s=n(338),u=c.SDK_VERSION,a=new h.Logger("@firebase/firestore");function l(){return a.logLevel}function d(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(a.logLevel<=h.LogLevel.DEBUG){var n=e.map(y);a.debug.apply(a,o.__spreadArrays(["Firestore ("+u+"): "+t],n))}}function v(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(a.logLevel<=h.LogLevel.ERROR){var n=e.map(y);a.error.apply(a,o.__spreadArrays(["Firestore ("+u+"): "+t],n))}}function y(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function p(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function m(t,e){t||p()}function w(t,e){return t}function _(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var g=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function I(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function b(t){return t+"\0"}var T=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},A=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return I(this.projectId,t.projectId)||I(this.database,t.database)},t}();function N(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var k=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];if(this.u(s,t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){S(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];t(s,u)}}))},t.prototype._=function(){return O(this.l)},t}(),P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error),x=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new D(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new D(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new D(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?I(this.nanoseconds,t.nanoseconds):I(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),R=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new x(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),C=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&p(),void 0===n?n=t.length-e:n>t.length-e&&p(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.prototype.N=function(){return this.F().join("/")},e.prototype.toString=function(){return this.N()},e.$=function(t){if(t.indexOf("//")>=0)throw new D(P.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.k=function(){return new e([])},e}(C),j=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.M=function(t){return j.test(t)},e.prototype.N=function(){return this.F().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.N()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.B=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new D(P.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new D(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new D(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new D(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.k=function(){return new e([])},e}(C),V=function(){function t(t){this.path=t}return t.q=function(e){return new t(L.$(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===L.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return L.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new L(e.slice()))},t}();function U(t){return null==t}function F(t){return-0===t&&1/t==-1/0}function B(t){return"number"==typeof t&&Number.isInteger(t)&&!F(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var G=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.K=null};function z(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new G(t,e,n,r,i,o,s)}function q(t){var e=w(t);if(null===e.K){var n=e.path.N();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.N()+t.op.toString()+Lt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.N()+e.dir;var e})).join(","),U(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=wn(e.startAt)),e.endAt&&(n+="|ub:",n+=wn(e.endAt)),e.K=n}return e.K}function H(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!An(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],!(i instanceof pn&&o instanceof pn&&i.op===o.op&&i.field.isEqual(o.field)&&Dt(i.value,o.value)))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!In(t.startAt,e.startAt)&&In(t.endAt,e.endAt)}function W(t){return V.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}var K=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.G,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return I(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();K.Y=new K("");var X,Y,J=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=R.min()),void 0===o&&(o=R.min()),void 0===s&&(s=K.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),Q=function(t){this.count=t};function $(t){switch(t){case P.OK:return p();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return p()}}function Z(t){if(void 0===t)return v("GRPC error has no .code"),P.UNKNOWN;switch(t){case X.OK:return P.OK;case X.CANCELLED:return P.CANCELLED;case X.UNKNOWN:return P.UNKNOWN;case X.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case X.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case X.INTERNAL:return P.INTERNAL;case X.UNAVAILABLE:return P.UNAVAILABLE;case X.UNAUTHENTICATED:return P.UNAUTHENTICATED;case X.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case X.NOT_FOUND:return P.NOT_FOUND;case X.ALREADY_EXISTS:return P.ALREADY_EXISTS;case X.PERMISSION_DENIED:return P.PERMISSION_DENIED;case X.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case X.ABORTED:return P.ABORTED;case X.OUT_OF_RANGE:return P.OUT_OF_RANGE;case X.UNIMPLEMENTED:return P.UNIMPLEMENTED;case X.DATA_LOSS:return P.DATA_LOSS;default:return p()}}(Y=X||(X={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,nt.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new et(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new et(this.root,t,this.P,!1)},t.prototype.ct=function(){return new et(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},t.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw p();if(this.right.At())throw p();var t=this.left.bt();if(t!==this.right.bt())throw p();return t+(this.At()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.st=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw p()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());var it=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new ot(this.data.at())},t.prototype.ut=function(t){return new ot(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.F=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),ot=function(){function t(t){this.Ft=t}return t.prototype.dt=function(){return this.Ft.dt().key},t.prototype.wt=function(){return this.Ft.wt()},t}(),st=new tt(V.P);function rt(){return st}function at(){return rt()}var ut=new tt(V.P);function ct(){return ut}var ht=new tt(V.P),ft=new it(V.P);function lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ft,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pt=new it(I);function vt(){return pt}var yt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||V.P(e.key,n.key)}:function(t,e){return V.P(t.key,e.key)},this.Nt=ct(),this.$t=new tt(this.P)}return t.kt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Nt.get(t)},t.prototype.get=function(t){return this.Nt.get(t)},t.prototype.first=function(){return this.$t.it()},t.prototype.last=function(){return this.$t.rt()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Nt.nt(t.key,t),e.$t.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Nt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.at(),r=e.$t.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.Nt=e,r.$t=n,r},t}(),gt=function(){function t(){this.xt=new tt(V.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);n?0!==t.type&&3===n.type?this.xt=this.xt.nt(e,t):3===t.type&&1!==n.type?this.xt=this.xt.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):p():this.xt=this.xt.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.xt.ot((function(e,n){t.push(n)})),t},t}(),dt=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.Bt=s,this.qt=u}return t.Ut=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,yt.kt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Lt.isEqual(t.Lt)&&un(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),mt=function(){function t(t,e,n,r,i){this.X=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,bt.zt(e,n)),new t(R.min(),r,vt(),rt(),lt())},t}(),bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(K.Y,n,lt(),lt(),lt())},t}(),wt=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},_t=function(t,e){this.targetId=t,this.ee=e},It=function(t,e,n,r){void 0===n&&(n=K.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Et=function(){function t(){this.ne=0,this.se=Nt(),this.ie=K.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=lt(),e=lt(),n=lt();return this.se.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:p()}})),new bt(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=Nt()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),Tt=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=rt(),this.Ae=At(),this.Re=new it(I)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof rn?this.Ve(r,t.te):t.te instanceof on&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ge(s,t.key,t.te)}},t.prototype.ye=function(t){var e=this;this.pe(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:p()}}))},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(W(i))if(0===n){var o=new V(i.path);this.ge(e,o,new on(o,R.min()))}else m(1===n);else this.Fe(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.Ne=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&W(o.target)){var s=new V(o.target.path);null!==e.me.get(s)||e.$e(i,s)||e.ge(i,s,new on(s,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=lt();this.Ae.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.J||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new mt(t,n,this.Re,this.me,r);return this.me=rt(),this.Ae=At(),this.Re=new it(I),i},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.ke(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.$e(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.ke(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new Et,this.Ie.set(t,e)),e},t.prototype.ke=function(t){var e=this.Ae.get(t);return e||(e=new it(I),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new Et),this.Ee.xe(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},t}();function At(){return new tt(V.P)}function Nt(){return new tt(V.P)}function St(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ot(t){var e=jt(t.mapValue.fields.__local_write_time__.timestampValue);return new x(e.seconds,e.nanos)}var kt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?St(t)?4:10:p()}function Dt(t,e){var n=Pt(t);if(n!==Pt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ot(t).isEqual(Ot(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jt(t.timestampValue),r=jt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vt(t.bytesValue).isEqual(Vt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Mt(t.geoPointValue.latitude)===Mt(e.geoPointValue.latitude)&&Mt(t.geoPointValue.longitude)===Mt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Mt(t.integerValue)===Mt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Mt(t.doubleValue),r=Mt(e.doubleValue);return n===r?F(n)===F(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],Dt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(N(n)!==N(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dt(n[i],r[i])))return!1;return!0}(t,e);default:return p()}}function xt(t,e){return void 0!==(t.values||[]).find((function(t){return Dt(t,e)}))}function Rt(t,e){var n=Pt(t),r=Pt(e);if(n!==r)return I(n,r);switch(n){case 0:return 0;case 1:return I(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Mt(t.integerValue||t.doubleValue),r=Mt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ct(t.timestampValue,e.timestampValue);case 4:return Ct(Ot(t),Ot(e));case 5:return I(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vt(t),r=Vt(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return I(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=I(Mt(t.latitude),Mt(e.latitude));return 0!==n?n:I(Mt(t.longitude),Mt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Rt(n[i],r[i]);if(o)return o}return I(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=I(r[s],o[s]);if(0!==u)return u;var a=Rt(n[r[s]],i[o[s]]);if(0!==a)return a}return I(r.length,o.length)}(t.mapValue,e.mapValue);default:throw p()}}function Ct(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return I(t,e);var n=jt(t),r=jt(e),i=I(n.seconds,r.seconds);return 0!==i?i:I(n.nanos,r.nanos)}function Lt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=jt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vt(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,V.q(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):p();var n,r}(t)}function jt(t){if(m(!!t),"string"==typeof t){var e=0,n=kt.exec(t);if(m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vt(t){return"string"==typeof t?K.fromBase64String(t):K.fromUint8Array(t)}function Ut(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.N()}}function Ft(t){return!!t&&"integerValue"in t}function qt(t){return!!t&&"arrayValue"in t}function Bt(t){return!!t&&"nullValue"in t}function Gt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zt(t){return!!t&&"mapValue"in t}var Ht={asc:"ASCENDING",desc:"DESCENDING"},Wt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kt=function(t,e){this.s=t,this.Oe=e};function Xt(t){return{integerValue:""+t}}function Yt(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F(e)?"-0":e}}function Jt(t,e){return B(e)?Xt(e):Yt(t,e)}function Qt(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function $t(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function Zt(t,e){return Qt(t,e.A())}function te(t){return m(!!t),R.I(function(t){var e=jt(t);return new x(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new L(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).N()}function ne(t){var e=L.$(t);return m(_e(e)),e}function re(t,e){return ee(t.s,e.path)}function ie(t,e){var n=ne(e);return m(n.get(1)===t.s.projectId),m(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new V(ue(n))}function oe(t,e){return ee(t.s,e)}function se(t){var e=ne(t);return 4===e.length?L.k():ue(e)}function ae(t){return new L(["projects",t.s.projectId,"databases",t.s.database]).N()}function ue(t){return m(t.length>4&&"documents"===t.get(4)),t.g(5)}function ce(t,e,n){return{name:re(t,e),fields:n.proto.mapValue.fields}}function he(t,e){var n;if(e instanceof He)n={update:ce(t,e.key,e.value)};else if(e instanceof Qe)n={delete:re(t,e.key)};else if(e instanceof We)n={update:ce(t,e.key,e.data),updateMask:we(e.Le)};else if(e instanceof Xe)n={transform:{document:re(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ne)return{fieldPath:e.field.N(),setToServerValue:"REQUEST_TIME"};if(n instanceof Se)return{fieldPath:e.field.N(),appendMissingElements:{values:n.elements}};if(n instanceof ke)return{fieldPath:e.field.N(),removeAllFromArray:{values:n.elements}};if(n instanceof De)return{fieldPath:e.field.N(),increment:n.Be};throw p()}(0,t)}))}};else{if(!(e instanceof $e))return p();n={verify:re(t,e.key)}}return e.Ue.qe||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Zt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:p()}(t,e.Ue)),n}function fe(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Me.updateTime(te(t.updateTime)):void 0!==t.exists?Me.exists(t.exists):Me.Qe()}(e.currentDocument):Me.Qe();if(e.update){e.update.name;var r=ie(t,e.update.name),i=new Ze({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new Ce(e.map((function(t){return M.B(t)})))}(e.updateMask);return new We(r,i,o,n)}return new He(r,i,n)}if(e.delete){var s=ie(t,e.delete);return new Qe(s,n)}if(e.transform){var u=ie(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)m("REQUEST_TIME"===e.setToServerValue),n=new Ne;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Se(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ke(i)}else"increment"in e?n=new De(t,e.increment):p();var o=M.B(e.fieldPath);return new Le(o,n)}(t,e)}));return m(!0===n.exists),new Xe(u,a)}if(e.verify){var c=ie(t,e.verify);return new $e(c,n)}return p()}function le(t,e){return{documents:[oe(t,e.path)]}}function pe(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oe(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return t instanceof pn?function(t){if("=="===t.op){if(Gt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NAN"}};if(Bt(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:ye(t.field),op:(e=t.op,Wt[e]),value:t.value}};var e}(t):p()}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:ye((e=t).field),direction:(n=e.dir,Ht[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Oe||U(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=de(e.startAt)),e.endAt&&(n.structuredQuery.endAt=de(e.endAt)),n}function de(t){return{before:t.before,values:t.position}}function ve(t){var e=!!t.before,n=t.values||[];return new bn(n,e)}function ye(t){return{fieldPath:t.N()}}function ge(t){return M.B(t.fieldPath)}function me(t){return pn.create(ge(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return p()}}(t.fieldFilter.op),t.fieldFilter.value)}function be(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ge(t.unaryFilter.field);return pn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ge(t.unaryFilter.field);return pn.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return p()}}function we(t){var e=[];return t.fields.forEach((function(t){return e.push(t.N())})),{fieldPaths:e}}function _e(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ie=function(){this.je=void 0};function Ee(t,e,n){return t instanceof Ne?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Se?Oe(t,e):t instanceof ke?Pe(t,e):function(t,e){var n=Ae(t,e),r=xe(n)+xe(t.Be);return Ft(n)&&Ft(t.Be)?Xt(r):Yt(t.serializer,r)}(t,e)}function Te(t,e,n){return t instanceof Se?Oe(t,e):t instanceof ke?Pe(t,e):n}function Ae(t,e){return t instanceof De?Ft(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e}(Ie),Se=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o.__extends(e,t),e}(Ie);function Oe(t,e){for(var n=Re(e),r=function(t){n.some((function(e){return Dt(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ke=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o.__extends(e,t),e}(Ie);function Pe(t,e){for(var n=Re(e),r=function(t){n=n.filter((function(e){return!Dt(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var De=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Be=n,r}return o.__extends(e,t),e}(Ie);function xe(t){return Mt(t.integerValue||t.doubleValue)}function Re(t){return qt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ce=function(){function t(t){this.fields=t,t.sort(M.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Le=function(t,e){this.field=t,this.transform=e},je=function(t,e){this.version=t,this.transformResults=e},Me=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ve(t,e){return void 0!==t.updateTime?e instanceof rn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rn}var Ue=function(){};function Fe(t,e,n){return t instanceof He?function(t,e,n){return new rn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof We?function(t,e,n){if(!Ve(t.Ue,e))return new sn(t.key,n.version);var r=Ke(t,e);return new rn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Xe?function(t,e,n){if(m(null!=n.transformResults),!Ve(t.Ue,e))return new sn(t.key,n.version);var r=Ye(t,e),i=function(t,e,n){var r=[];m(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof rn&&(u=e.field(o.field)),r.push(Te(s,u,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Je(t,r.data(),i);return new rn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new on(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qe(t,e,n,r){return t instanceof He?function(t,e){if(!Ve(t.Ue,e))return e;var n=ze(e);return new rn(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof We?function(t,e){if(!Ve(t.Ue,e))return e;var n=ze(e),r=Ke(t,e);return new rn(t.key,n,r,{Ge:!0})}(t,e):t instanceof Xe?function(t,e,n,r){if(!Ve(t.Ue,e))return e;var i=Ye(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof rn&&(c=n.field(u.field)),null===c&&r instanceof rn&&(c=r.field(u.field)),i.push(Ee(a,c,e))}return i}(t.fieldTransforms,n,e,r),s=Je(t,i.data(),o);return new rn(t.key,i.version,s,{Ge:!0})}(t,e,r,n):function(t,e){return Ve(t.Ue,e)?new on(t.key,R.min()):e}(t,e)}function Be(t,e){return t instanceof Xe?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof rn?e.field(o.field):void 0,u=Ae(o.transform,s||null);null!=u&&(n=null==n?(new tn).set(o.field,u):n.set(o.field,u))}return n?n.ze():null}(t,e):null}function Ge(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Se&&e instanceof Se||t instanceof ke&&e instanceof ke?E(t.elements,e.elements,Dt):t instanceof De&&e instanceof De?Dt(t.Be,e.Be):t instanceof Ne&&e instanceof Ne}(t.transform,e.transform)}(t,e)})))}function ze(t){return t instanceof rn?t.version:R.min()}var He=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return o.__extends(e,t),e}(Ue),We=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Le=r,o.Ue=i,o.type=1,o}return o.__extends(e,t),e}(Ue);function Ke(t,e){return function(t,e){var n=new tn(e);return t.Le.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ze()}(t,e instanceof rn?e.data():Ze.empty())}var Xe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=Me.exists(!0),r}return o.__extends(e,t),e}(Ue);function Ye(t,e){return e}function Je(t,e,n){for(var r=new tn(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.ze()}var Qe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return o.__extends(e,t),e}(Ue),$e=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return o.__extends(e,t),e}(Ue),Ze=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Dt(this.proto,t.proto)},t}(),tn=function(){function t(t){void 0===t&&(t=Ze.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Pt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(M.k(),this.Ye);return null!=t?new Ze(t):this.He},t.prototype.Xe=function(t,e){var n=this,r=!1,i=this.He.field(t),o=zt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Xe(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function en(t){var e=[];return S(t.fields||{},(function(t,n){var r=new M([t]);if(zt(n)){var i=en(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var u=s[o];e.push(r.child(u))}}else e.push(r)})),new Ce(e)}var nn=function(t,e){this.key=t,this.version=e},rn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ze=r,o.Ge=!!i.Ge,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o.__extends(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(nn),on=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn),an=function(){function t(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=r,this.limit=i,this.nn=o,this.startAt=s,this.endAt=u,this.sn=null,this.rn=null,this.startAt&&this.on(this.startAt),this.endAt&&this.on(this.endAt)}return t.hn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.sn){this.sn=[];var t=this.an(),e=this.un();if(null!==t&&null===e)t.O()||this.sn.push(new En(t)),this.sn.push(new En(M.L(),"asc"));else{for(var n=!1,r=0,i=this.en;r<i.length;r++){var o=i[r];this.sn.push(o),o.field.O()&&(n=!0)}if(!n){var s=this.en.length>0?this.en[this.en.length-1].dir:"asc";this.sn.push(new En(M.L(),s))}}}return this.sn},enumerable:!1,configurable:!0}),t.prototype.cn=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.en.slice(),n,this.limit,this.nn,this.startAt,this.endAt)},t.prototype.ln=function(e){var n=this.en.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype._n=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.fn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.dn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,e,this.endAt)},t.prototype.wn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,e)},t.prototype.Tn=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.En=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.O())},t.prototype.In=function(){return!U(this.limit)&&"F"===this.nn},t.prototype.mn=function(){return!U(this.limit)&&"L"===this.nn},t.prototype.un=function(){return this.en.length>0?this.en[0].field:null},t.prototype.an=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof pn&&n.An())return n.field}return null},t.prototype.Rn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof pn&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Pn=function(){return W(this.We())},t.prototype.Vn=function(){return null!==this.collectionGroup},t.prototype.We=function(){if(!this.rn)if("F"===this.nn)this.rn=z(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new En(r.field,i))}var o=this.endAt?new bn(this.endAt.position,!this.endAt.before):null,s=this.startAt?new bn(this.startAt.position,!this.startAt.before):null;this.rn=z(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.rn},t.prototype.on=function(t){},t}();function un(t,e){return H(t.We(),e.We())&&t.nn===e.nn}function cn(t){return q(t.We())+"|lt:"+t.nn}function hn(t){return"Query(target="+function(t){var e=t.path.N();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.N()+" "+e.op+" "+Lt(e.value);var e})).join(", ")+"]"),U(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.N()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+wn(t.startAt)),t.endAt&&(e+=", endAt: "+wn(t.endAt)),"Target("+e+")"}(t.We())+"; limitType="+t.nn+")"}function fn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):V.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.en;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!_n(t.startAt,t.orderBy,e)||t.endAt&&_n(t.endAt,t.orderBy,e))}(t,e)}function ln(t){return function(e,n){for(var r=!1,i=0,o=t.orderBy;i<o.length;i++){var s=o[i],u=Tn(s,e,n);if(0!==u)return u;r=r||s.field.O()}return 0}}var pn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.O())return"in"===n?new vn(t,r):new dn(t,n,r);if(Bt(r)){if("=="!==n)throw new D(P.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Gt(r)){if("=="!==n)throw new D(P.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new yn(t,r):"in"===n?new gn(t,r):"array-contains-any"===n?new mn(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Pt(this.value)===Pt(e)&&this.gn(Rt(e,this.value))},e.prototype.gn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return p()}},e.prototype.An=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e}((function(){})),dn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=V.q(r.referenceValue),i}return o.__extends(e,t),e.prototype.matches=function(t){var e=V.P(t.key,this.key);return this.gn(e)},e}(pn),vn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return V.q(t.referenceValue)})),r}return o.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(pn),yn=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qt(e)&&xt(e.arrayValue,this.value)},e}(pn),gn=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&xt(this.value.arrayValue,e)},e}(pn),mn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return xt(e.value.arrayValue,t)}))},e}(pn),bn=function(t,e){this.position=t,this.before=e};function wn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Lt(t)})).join(",")}function _n(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.O()?V.P(V.q(s.referenceValue),n.key):Rt(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function In(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dt(t.position[n],e.position[n]))return!1;return!0}var En=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Tn(t,e,n){var r=t.field.O()?V.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Rt(r,i):p()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return p()}}function An(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Nn=function(){function t(t,e,n,r){this.batchId=t,this.yn=e,this.baseMutations=n,this.mutations=r}return t.prototype.pn=function(t,e,n){for(var r=n.bn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fe(o,e,r[i]))}return e},t.prototype.vn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=qe(i,e,e,this.yn))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=qe(a,e,o,this.yn))}return e},t.prototype.Sn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.vn(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return Ge(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return Ge(t,e)}))},t}(),Sn=function(){function t(t,e,n,r){this.batch=t,this.Dn=e,this.bn=n,this.Cn=r}return t.from=function(e,n,r){m(e.mutations.length===r.length);for(var i=ht,o=e.mutations,s=0;s<o.length;s++)i=i.nt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),On=function(){function t(t){var e=this;this.Fn=null,this.Nn=null,this.result=void 0,this.error=void 0,this.$n=!1,this.kn=!1,t((function(t){e.$n=!0,e.result=t,e.Fn&&e.Fn(t)}),(function(t){e.$n=!0,e.error=t,e.Nn&&e.Nn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.kn&&p(),this.kn=!0,this.$n?this.error?this.xn(n,this.error):this.Mn(e,this.result):new t((function(t,i){r.Fn=function(n){r.Mn(e,n).next(t,i)},r.Nn=function(e){r.xn(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Mn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.xn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Bn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.qn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Bn(r)},t}(),kn=function(){function t(){this.Un=new k((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Qn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Wn},set:function(t){this.Wn=t},enumerable:!1,configurable:!0}),t.prototype.jn=function(t,e){this.Kn(),this.readTime=e,this.Un.set(t.key,t)},t.prototype.Gn=function(t,e){this.Kn(),e&&(this.readTime=e),this.Un.set(t,null)},t.prototype.zn=function(t,e){this.Kn();var n=this.Un.get(e);return void 0!==n?On.resolve(n):this.Hn(t,e)},t.prototype.getEntries=function(t,e){return this.Yn(t,e)},t.prototype.apply=function(t){return this.Kn(),this.Qn=!0,this.Jn(t)},t.prototype.Kn=function(){},t}(),Pn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dn=function(){function t(){this.Xn=[]}return t.prototype.Zn=function(t){this.Xn.push(t)},t.prototype.ts=function(){this.Xn.forEach((function(t){return t()}))},t}(),xn=function(){function t(t,e,n){this.es=t,this.ns=e,this.ss=n}return t.prototype.rs=function(t,e){var n=this;return this.ns.os(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.es.zn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].vn(e,t);return t}))},t.prototype.as=function(t,e,n){var r=at();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].vn(t,e);r=r.nt(t,e)})),r},t.prototype.us=function(t,e){var n=this;return this.es.getEntries(t,e).next((function(e){return n.cs(t,e)}))},t.prototype.cs=function(t,e){var n=this;return this.ns.ls(t,e).next((function(r){var i=n.as(t,e,r),o=rt();return i.forEach((function(t,e){e||(e=new on(t,R.min())),o=o.nt(t,e)})),o}))},t.prototype._s=function(t,e,n){return e.Pn()?this.fs(t,e.path):e.Vn()?this.ds(t,e,n):this.ws(t,e,n)},t.prototype.fs=function(t,e){return this.rs(t,new V(e)).next((function(t){var e=ct();return t instanceof rn&&(e=e.nt(t.key,t)),e}))},t.prototype.ds=function(t,e,n){var r=this,i=e.collectionGroup,o=ct();return this.ss.Ts(t,i).next((function(s){return On.forEach(s,(function(s){var u=e.Tn(s.child(i));return r.ws(t,u,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.ws=function(t,e,n){var r,i,o=this;return this.es._s(t,e,n).next((function(n){return r=n,o.ns.Es(t,e)})).next((function(e){return i=e,o.Is(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,h=r.get(c),f=qe(a,h,h,o.yn);r=f instanceof rn?r.nt(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){fn(e,n)||(r=r.remove(t))})),r}))},t.prototype.Is=function(t,e,n){for(var r=lt(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof We&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.es.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof rn&&(c=c.nt(t,e))})),c}))},t}(),Rn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ms=n,this.As=r}return t.Rs=function(e,n){for(var r=lt(),i=lt(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Cn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Ps=function(t){return n.Vs(t)},this.gs=function(t){return e.ys(t)})}return t.prototype.Vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.gs&&this.gs(t),t},t}();Cn.ps=-1;var Ln=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},jn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.bs=t,this.vs=e,this.Ss=n,this.Ds=r,this.Cs=i,this.Fs=0,this.Ns=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fs=0},t.prototype.ks=function(){this.Fs=this.Cs},t.prototype.xs=function(t){var e=this;this.cancel();var n=Math.floor(this.Fs+this.Ms()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ns=this.bs.Os(this.vs,i,(function(){return e.$s=Date.now(),t()})),this.Fs*=this.Ds,this.Fs<this.Ss&&(this.Fs=this.Ss),this.Fs>this.Cs&&(this.Fs=this.Cs)},t.prototype.Ls=function(){null!==this.Ns&&(this.Ns.Bs(),this.Ns=null)},t.prototype.cancel=function(){null!==this.Ns&&(this.Ns.cancel(),this.Ns=null)},t.prototype.Ms=function(){return(Math.random()-.5)*this.Fs},t}();function Mn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Un(e)),e=Vn(t.get(n),e);return Un(e)}function Vn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Un(t){return t+""}function Fn(t){var e=t.length;if(m(e>=2),2===e)return m(""===t.charAt(0)&&""===t.charAt(1)),L.k();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&p(),t.charAt(s+1)){case"":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:p()}o=s+2}return new L(r)}var qn=function(){function t(){this.qs=new Bn}return t.prototype.Us=function(t,e){return this.qs.add(e),On.resolve()},t.prototype.Ts=function(t,e){return On.resolve(this.qs.getEntries(e))},t}(),Bn=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new it(L.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new it(L.P)).F()},t}(),Gn=function(){function t(){this.Qs=new Bn}return t.prototype.Us=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.S(),i=e.p();t.Zn((function(){n.Qs.add(e)}));var o={collectionId:r,parent:Mn(i)};return zn(t).put(o)}return On.resolve()},t.prototype.Ts=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[b(e),""],!1,!0);return zn(t).Ws(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Fn(o.parent))}return n}))},t}();function zn(t){return hr.js(t,Vr.store)}var Hn=function(t){this.Ks=t};function Wn(t,e){if(e.document)return function(t,e,n){var r=ie(t,e.name),i=te(e.updateTime),o=new Ze({mapValue:{fields:e.fields}});return new rn(r,i,o,{hasCommittedMutations:!!n})}(t.Ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=V.j(e.noDocument.path),r=Qn(e.noDocument.readTime);return new on(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=V.j(e.unknownDocument.path),o=Qn(e.unknownDocument.version);return new sn(i,o)}return p()}function Kn(t,e,n){var r=Xn(n),i=e.key.path.p().F();if(e instanceof rn){var o=function(t,e){return{name:re(t,e.key),fields:e.tn().mapValue.fields,updateTime:Qt(t,e.version.A())}}(t.Ks,e),s=e.hasCommittedMutations;return new Rr(null,null,o,s,r,i)}if(e instanceof on){var u=e.key.path.F(),a=Jn(e.version),c=e.hasCommittedMutations;return new Rr(null,new Dr(u,a),null,c,r,i)}if(e instanceof sn){var h=e.key.path.F(),f=Jn(e.version);return new Rr(new xr(h,f),null,null,!0,r,i)}return p()}function Xn(t){var e=t.A();return[e.seconds,e.nanoseconds]}function Yn(t){var e=new x(t[0],t[1]);return R.I(e)}function Jn(t){var e=t.A();return new Nr(e.seconds,e.nanoseconds)}function Qn(t){var e=new x(t.seconds,t.nanoseconds);return R.I(e)}function $n(t,e){var n=(e.baseMutations||[]).map((function(e){return fe(t.Ks,e)})),r=e.mutations.map((function(e){return fe(t.Ks,e)})),i=x.fromMillis(e.localWriteTimeMs);return new Nn(e.batchId,i,n,r)}function Zn(t){var e,n=Qn(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Qn(t.lastLimboFreeSnapshotVersion):R.min();return e=void 0!==t.query.documents?function(t){m(1===t.documents.length);var e=t.documents[0];return an.hn(se(e)).We()}(t.query):function(t){var e=se(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[be(e)]:void 0!==e.fieldFilter?[me(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):p():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return new En(ge((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var a=null;n.limit&&(a=function(t){var e;return U(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ve(n.startAt));var h=null;return n.endAt&&(h=ve(n.endAt)),new an(e,i,u,s,a,"F",c,h).We()}(t.query),new J(e,t.targetId,0,t.lastListenSequenceNumber,n,r,K.fromBase64String(t.resumeToken))}function er(t,e){var n,r=Jn(e.X),i=Jn(e.lastLimboFreeSnapshotVersion);n=W(e.target)?le(t.Ks,e.target):pe(t.Ks,e.target);var o=e.resumeToken.toBase64();return new Lr(e.targetId,q(e.target),r,o,e.sequenceNumber,i,n)}var nr=function(){function t(t,e){this.serializer=t,this.ss=e}return t.prototype.jn=function(t,e,n){return tr(t).put(ir(e),n)},t.prototype.Gn=function(t,e){var n=tr(t),r=ir(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Gs(t,r)}))},t.prototype.zn=function(t,e){var n=this;return tr(t).get(ir(e)).next((function(t){return n.zs(t)}))},t.prototype.Hs=function(t,e){var n=this;return tr(t).get(ir(e)).next((function(t){var e=n.zs(t);return e?{Ys:e,size:or(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=at();return this.Js(t,e,(function(t,e){var i=n.zs(e);r=r.nt(t,i)})).next((function(){return r}))},t.prototype.Xs=function(t,e){var n=this,r=at(),i=new tt(V.P);return this.Js(t,e,(function(t,e){var o=n.zs(e);o?(r=r.nt(t,o),i=i.nt(t,or(e))):(r=r.nt(t,null),i=i.nt(t,0))})).next((function(){return{Zs:r,ti:i}}))},t.prototype.Js=function(t,e,n){if(e._())return On.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),i=e.at(),o=i.dt();return tr(t).ei({range:r},(function(t,e,r){for(var s=V.j(t);o&&V.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,e),o=i.wt()?i.dt():null),o?r.ni(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},t.prototype._s=function(t,e,n){var r=this,i=ct(),o=e.path.length+1,s={};if(n.isEqual(R.min())){var u=e.path.F();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.F(),c=Xn(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Rr.collectionReadTimeIndex}return tr(t).ei(s,(function(t,n,s){if(t.length===o){var u=Wn(r.serializer,n);e.path.D(u.key.path)?u instanceof rn&&fn(e,u)&&(i=i.nt(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.si=function(t,e){var n=this,r=rt(),i=Xn(e),o=tr(t),s=IDBKeyRange.lowerBound(i,!0);return o.ei({index:Rr.readTimeIndex,range:s},(function(t,e){var o=Wn(n.serializer,e);r=r.nt(o.key,o),i=e.readTime})).next((function(){return{ii:r,readTime:Yn(i)}}))},t.prototype.ri=function(t){var e=tr(t),n=R.min();return e.ei({index:Rr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Yn(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.oi=function(e){return new t.hi(this,!!e&&e.ai)},t.prototype.ui=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return rr(t).get(Cr.key).next((function(t){return m(!!t),t}))},t.prototype.Gs=function(t,e){return rr(t).put(Cr.key,e)},t.prototype.zs=function(t){if(t){var e=Wn(this.serializer,t);return e instanceof on&&e.version.isEqual(R.min())?null:e}return null},t}();function rr(t){return hr.js(t,Cr.store)}function tr(t){return hr.js(t,Rr.store)}function ir(t){return t.path.F()}function or(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw p();e=t.noDocument}return JSON.stringify(e).length}nr.hi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ci=e,r.ai=n,r.li=new k((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return o.__extends(e,t),e.prototype.Jn=function(t){var e=this,n=[],r=0,i=new it((function(t,e){return I(t.N(),e.N())}));return this.Un.forEach((function(o,s){var u=e.li.get(o);if(s){var a=Kn(e.ci.serializer,s,e.readTime);i=i.add(o.path.p());var c=or(a);r+=c-u,n.push(e.ci.jn(t,o,a))}else if(r-=u,e.ai){var h=Kn(e.ci.serializer,new on(o,R.min()),e.readTime);n.push(e.ci.jn(t,o,h))}else n.push(e.ci.Gn(t,o))})),i.forEach((function(r){n.push(e.ci.ss.Us(t,r))})),n.push(this.ci.updateMetadata(t,r)),On.Bn(n)},e.prototype.Hn=function(t,e){var n=this;return this.ci.Hs(t,e).next((function(t){return null===t?(n.li.set(e,0),null):(n.li.set(e,t.size),t.Ys)}))},e.prototype.Yn=function(t,e){var n=this;return this.ci.Xs(t,e).next((function(t){var e=t.Zs;return t.ti.forEach((function(t,e){n.li.set(t,e)})),e}))},e}(kn);var sr=function(){function t(t){this._i=t}return t.prototype.next=function(){return this._i+=2,this._i},t.fi=function(){return new t(0)},t.di=function(){return new t(-1)},t}(),ar=function(){function t(t,e){this.wi=t,this.serializer=e}return t.prototype.Ti=function(t){var e=this;return this.Ei(t).next((function(n){var r=new sr(n.highestTargetId);return n.highestTargetId=r.next(),e.Ii(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.mi=function(t){return this.Ei(t).next((function(t){return R.I(new x(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ai=function(t){return this.Ei(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Ri=function(t,e,n){var r=this;return this.Ei(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ii(t,i)}))},t.prototype.Pi=function(t,e){var n=this;return this.Vi(t,e).next((function(){return n.Ei(t).next((function(r){return r.targetCount+=1,n.gi(e,r),n.Ii(t,r)}))}))},t.prototype.yi=function(t,e){return this.Vi(t,e)},t.prototype.pi=function(t,e){var n=this;return this.bi(t,e.targetId).next((function(){return ur(t).delete(e.targetId)})).next((function(){return n.Ei(t)})).next((function(e){return m(e.targetCount>0),e.targetCount-=1,n.Ii(t,e)}))},t.prototype.vi=function(t,e,n){var r=this,i=0,o=[];return ur(t).ei((function(s,u){var a=Zn(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.pi(t,a)))})).next((function(){return On.Bn(o)})).next((function(){return i}))},t.prototype.pe=function(t,e){return ur(t).ei((function(t,n){var r=Zn(n);e(r)}))},t.prototype.Ei=function(t){return cr(t).get(Mr.key).next((function(t){return m(null!==t),t}))},t.prototype.Ii=function(t,e){return cr(t).put(Mr.key,e)},t.prototype.Vi=function(t,e){return ur(t).put(er(this.serializer,e))},t.prototype.gi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Si=function(t){return this.Ei(t).next((function(t){return t.targetCount}))},t.prototype.Di=function(t,e){var n=q(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ur(t).ei({range:r,index:Lr.queryTargetsIndexName},(function(t,n,r){var o=Zn(n);H(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Ci=function(t,e,n){var r=this,i=[],o=fr(t);return e.forEach((function(e){var s=Mn(e.path);i.push(o.put(new jr(n,s))),i.push(r.wi.Fi(t,n,e))})),On.Bn(i)},t.prototype.Ni=function(t,e,n){var r=this,i=fr(t);return On.forEach(e,(function(e){var o=Mn(e.path);return On.Bn([i.delete([n,o]),r.wi.$i(t,n,e)])}))},t.prototype.bi=function(t,e){var n=fr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ki=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=fr(t),i=lt();return r.ei({range:n,xi:!0},(function(t,e,n){var r=Fn(t[1]),o=new V(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=Mn(e.path),r=IDBKeyRange.bound([n],[b(n)],!1,!0),i=0;return fr(t).ei({index:jr.documentTargetsIndex,xi:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return ur(t).get(e).next((function(t){return t?Zn(t):null}))},t}();function ur(t){return hr.js(t,Lr.store)}function cr(t){return hr.js(t,Mr.store)}function fr(t){return hr.js(t,jr.store)}var lr="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Oi=e,r.Li=n,r}return o.__extends(e,t),e}(Dn),hr=function(){function t(e,n,r,i,o,s,u,a,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.bs=o,this.window=s,this.document=u,this.Bi=c,this.qi=h,this.Ui=null,this.Qi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Wi=null,this.inForeground=!1,this.ji=null,this.Ki=null,this.Gi=Number.NEGATIVE_INFINITY,this.zi=function(t){return Promise.resolve()},!t.Hi())throw new D(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.wi=new yr(this,i),this.Yi=n+t.Ji,this.serializer=new Hn(a),this.Xi=new ar(this.wi,this.serializer),this.ss=new Gn,this.es=new nr(this.serializer,this.ss),this.window&&this.window.localStorage?this.Zi=this.window.localStorage:(this.Zi=null,!1===h&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.js=function(t,e){if(t instanceof pr)return Br.js(t.Oi,e);throw p()},t.prototype.start=function(){var t=this;return Br.tr(this.Yi,Tr,new Ar(this.serializer)).then((function(e){return t.er=e,t.nr()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new D(P.FAILED_PRECONDITION,lr);return t.sr(),t.ir(),t.rr(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Xi.Ai(e)}))})).then((function(e){t.Ui=new Cn(e,t.Bi)})).then((function(){t.Qi=!0})).catch((function(e){return t.er&&t.er.close(),Promise.reject(e)}))},t.prototype.or=function(t){var e=this;return this.zi=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.hr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ar=function(t){var e=this;this.er.ur((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.cr=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.bs.lr((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.hr?[4,this.nr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.nr=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vr(e).put(new Fr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t._r(e).next((function(e){e||(t.isPrimary=!1,t.bs.dr((function(){return t.zi(!1)})))}))})).next((function(){return t.wr(e)})).next((function(n){return t.isPrimary&&!n?t.Tr(e).next((function(){return!1})):!!n&&t.Er(e).next((function(){return!0}))}))})).catch((function(e){if(Hr(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.bs.dr((function(){return t.zi(e)})),t.isPrimary=e}))},t.prototype._r=function(t){var e=this;return dr(t).get(Sr.key).next((function(t){return On.resolve(e.Ir(t))}))},t.prototype.mr=function(t){return vr(t).delete(this.clientId)},t.prototype.Ar=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Rr(this.Gi,18e5)?[3,2]:(this.Gi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.js(e,Fr.store);return n.Ws().next((function(t){var e=s.Pr(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return On.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Zi)for(n=0,i=e;n<i.length;n++)r=i[n],this.Zi.removeItem(this.Vr(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.rr=function(){var t=this;this.Ki=this.bs.Os("client_metadata_refresh",4e3,(function(){return t.nr().then((function(){return t.Ar()})).then((function(){return t.rr()}))}))},t.prototype.Ir=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.wr=function(t){var e=this;return this.qi?On.resolve(!0):dr(t).get(Sr.key).next((function(n){if(null!==n&&e.Rr(n.leaseTimestampMs,5e3)&&!e.gr(n.ownerId)){if(e.Ir(n)&&e.networkEnabled)return!0;if(!e.Ir(n)){if(!n.allowTabSynchronization)throw new D(P.FAILED_PRECONDITION,lr);return!1}}return!(!e.networkEnabled||!e.inForeground)||vr(t).Ws().next((function(t){return void 0===e.Pr(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.yr=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Qi=!1,this.pr(),this.Ki&&(this.Ki.cancel(),this.Ki=null),this.br(),this.vr(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.Tr(e).next((function(){return t.mr(e)}))})).catch((function(t){d("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.er.close(),this.Sr(),[2]}}))}))},t.prototype.Pr=function(t,e){var n=this;return t.filter((function(t){return n.Rr(t.updateTimeMs,e)&&!n.gr(t.clientId)}))},t.prototype.Dr=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vr(e).Ws().next((function(e){return t.Pr(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return t.Hi()?(n=e+t.Ji,[4,Br.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"hr",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),t.prototype.Cr=function(t){return mr.Fr(t,this.serializer,this.ss,this.wi)},t.prototype.Nr=function(){return this.Xi},t.prototype.$r=function(){return this.es},t.prototype.kr=function(){return this.ss},t.prototype.runTransaction=function(t,e,n){var r=this;d("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.er.runTransaction(o,qr,(function(o){return i=new pr(o,r.Ui?r.Ui.next():Cn.ps),"readwrite-primary"===e?r._r(i).next((function(t){return!!t||r.wr(i)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.bs.dr((function(){return r.zi(!1)})),new D(P.FAILED_PRECONDITION,Pn);return n(i)})).next((function(t){return r.Er(i).next((function(){return t}))})):r.xr(i).next((function(){return n(i)}))})).then((function(t){return i.ts(),t}))},t.prototype.xr=function(t){var e=this;return dr(t).get(Sr.key).next((function(t){if(null!==t&&e.Rr(t.leaseTimestampMs,5e3)&&!e.gr(t.ownerId)&&!e.Ir(t)&&!(e.qi||e.allowTabSynchronization&&t.allowTabSynchronization))throw new D(P.FAILED_PRECONDITION,lr)}))},t.prototype.Er=function(t){var e=new Sr(this.clientId,this.allowTabSynchronization,Date.now());return dr(t).put(Sr.key,e)},t.Hi=function(){return Br.Hi()},t.Mr=function(t){var e=t.s.projectId;return t.s.i||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Tr=function(t){var e=this,n=dr(t);return n.get(Sr.key).next((function(t){return e.Ir(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Sr.key)):On.resolve()}))},t.prototype.Rr=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.sr=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ji=function(){t.bs.lr((function(){return t.inForeground="visible"===t.document.visibilityState,t.nr()}))},this.document.addEventListener("visibilitychange",this.ji),this.inForeground="visible"===this.document.visibilityState)},t.prototype.br=function(){this.ji&&(this.document.removeEventListener("visibilitychange",this.ji),this.ji=null)},t.prototype.ir=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Wi=function(){e.pr(),e.bs.lr((function(){return e.yr()}))},this.window.addEventListener("unload",this.Wi))},t.prototype.vr=function(){this.Wi&&(this.window.removeEventListener("unload",this.Wi),this.Wi=null)},t.prototype.gr=function(t){var e;try{var n=null!==(null===(e=this.Zi)||void 0===e?void 0:e.getItem(this.Vr(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.pr=function(){if(this.Zi)try{this.Zi.setItem(this.Vr(this.clientId),String(Date.now()))}catch(t){v("Failed to set zombie client id.",t)}},t.prototype.Sr=function(){if(this.Zi)try{this.Zi.removeItem(this.Vr(this.clientId))}catch(t){}},t.prototype.Vr=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function dr(t){return hr.js(t,Sr.store)}function vr(t){return hr.js(t,Fr.store)}hr.Ji="main";var yr=function(){function t(t,e){this.db=t,this.Or=new si(this,e)}return t.prototype.Lr=function(t){var e=this.Br(t);return this.db.Nr().Si(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Br=function(t){var e=0;return this.qr(t,(function(t){e++})).next((function(){return e}))},t.prototype.pe=function(t,e){return this.db.Nr().pe(t,e)},t.prototype.qr=function(t,e){return this.Ur(t,(function(t,n){return e(n)}))},t.prototype.Fi=function(t,e,n){return gr(t,n)},t.prototype.$i=function(t,e,n){return gr(t,n)},t.prototype.vi=function(t,e,n){return this.db.Nr().vi(t,e,n)},t.prototype.Qr=function(t,e){return gr(t,e)},t.prototype.Wr=function(t,e){return function(t,e){var n=!1;return br(t).jr((function(r){return wr(t,r,e).next((function(t){return t&&(n=!0),On.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Kr=function(t,e){var n=this,r=this.db.$r().oi(),i=[],o=0;return this.Ur(t,(function(s,u){if(u<=e){var a=n.Wr(t,s).next((function(e){if(!e)return o++,r.zn(t,s).next((function(){return r.Gn(s),fr(t).delete([0,Mn(s.path)])}))}));i.push(a)}})).next((function(){return On.Bn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Z(t.Li);return this.db.Nr().yi(t,n)},t.prototype.Gr=function(t,e){return gr(t,e)},t.prototype.Ur=function(t,e){var n,r=fr(t),i=Cn.ps;return r.ei({index:jr.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==Cn.ps&&e(new V(Fn(n)),i),i=u,n=s):i=Cn.ps})).next((function(){i!==Cn.ps&&e(new V(Fn(n)),i)}))},t.prototype.zr=function(t){return this.db.$r().ui(t)},t}();function gr(t,e){return fr(t).put(function(t,e){return new jr(0,Mn(t.path),e)}(e,t.Li))}var mr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ss=n,this.wi=r,this.Hr={}}return t.Fr=function(e,n,r,i){return m(""!==e.uid),new t(e.Yr()?e.uid:"",n,r,i)},t.prototype.Jr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).ei({index:kr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Xr=function(t,e,n,r){var i=this,o=Er(t),s=Ir(t);return s.add({}).next((function(u){m("number"==typeof u);for(var a=new Nn(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return he(t.Ks,e)})),i=n.mutations.map((function(e){return he(t.Ks,e)}));return new kr(e,n.batchId,n.yn.toMillis(),r,i)}(i.serializer,i.userId,a),h=[],f=new it((function(t,e){return I(t.N(),e.N())})),l=0,p=r;l<p.length;l++){var d=p[l],v=Pr.key(i.userId,d.key.path,u);f=f.add(d.key.path.p()),h.push(s.put(c)),h.push(o.put(v,Pr.PLACEHOLDER))}return f.forEach((function(e){h.push(i.ss.Us(t,e))})),t.Zn((function(){i.Hr[u]=a.keys()})),On.Bn(h).next((function(){return a}))}))},t.prototype.Zr=function(t,e){var n=this;return Ir(t).get(e).next((function(t){return t?(m(t.userId===n.userId),$n(n.serializer,t)):null}))},t.prototype.to=function(t,e){var n=this;return this.Hr[e]?On.resolve(this.Hr[e]):this.Zr(t,e).next((function(t){if(t){var r=t.keys();return n.Hr[e]=r,r}return null}))},t.prototype.eo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ir(t).ei({index:kr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(m(e.batchId>=r),o=$n(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.no=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ir(t).ei({index:kr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.so=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).Ws(kr.userMutationsIndex,n).next((function(t){return t.map((function(t){return $n(e.serializer,t)}))}))},t.prototype.os=function(t,e){var n=this,r=Pr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Er(t).ei({range:i},(function(r,i,s){var u=r[0],a=r[1],c=r[2],h=Fn(a);if(u===n.userId&&e.path.isEqual(h))return Ir(t).get(c).next((function(t){if(!t)throw p();m(t.userId===n.userId),o.push($n(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ls=function(t,e){var n=this,r=new it(I),i=[];return e.forEach((function(e){var o=Pr.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Er(t).ei({range:s},(function(t,i,o){var s=t[0],u=t[1],a=t[2],c=Fn(u);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(u)})),On.Bn(i).next((function(){return n.io(t,r)}))},t.prototype.Es=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new it(I);return Er(t).ei({range:s},(function(t,e,o){var s=t[0],a=t[1],c=t[2],h=Fn(a);s===n.userId&&r.D(h)?h.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.io(t,u)}))},t.prototype.io=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ir(t).get(e).next((function(t){if(null===t)throw p();m(t.userId===n.userId),r.push($n(n.serializer,t))})))})),On.Bn(i).next((function(){return r}))},t.prototype.ro=function(t,e){var n=this;return _r(t.Oi,this.userId,e).next((function(r){return t.Zn((function(){n.oo(e.batchId)})),On.forEach(r,(function(e){return n.wi.Qr(t,e)}))}))},t.prototype.oo=function(t){delete this.Hr[t]},t.prototype.ho=function(t){var e=this;return this.Jr(t).next((function(n){if(!n)return On.resolve();var r=IDBKeyRange.lowerBound(Pr.prefixForUser(e.userId)),i=[];return Er(t).ei({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Fn(t[1]);i.push(o)}else r.done()})).next((function(){m(0===i.length)}))}))},t.prototype.Mi=function(t,e){return wr(t,this.userId,e)},t.prototype.ao=function(t){var e=this;return br(t).get(this.userId).next((function(t){return t||new Or(e.userId,-1,"")}))},t}();function wr(t,e,n){var r=Pr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Er(t).ei({range:o,xi:!0},(function(t,n,r){var o=t[0],u=t[1];t[2],o===e&&u===i&&(s=!0),r.done()})).next((function(){return s}))}function _r(t,e,n){var r=t.store(kr.store),i=t.store(Pr.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ei({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){m(1===u)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=Pr.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return On.Bn(o).next((function(){return c}))}function Ir(t){return hr.js(t,kr.store)}function Er(t){return hr.js(t,Pr.store)}function br(t){return hr.js(t,Or.store)}var Tr=10,Ar=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=Tr);var o=new Wr(e);n<1&&r>=1&&(function(t){t.createObjectStore(Sr.store)}(t),function(t){t.createObjectStore(Or.store,{keyPath:Or.keyPath}),t.createObjectStore(kr.store,{keyPath:kr.keyPath,autoIncrement:!0}).createIndex(kr.userMutationsIndex,kr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pr.store)}(t),Ur(t),function(t){t.createObjectStore(Rr.store)}(t));var s=On.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jr.store),t.deleteObjectStore(Lr.store),t.deleteObjectStore(Mr.store)}(t),Ur(t)),s=s.next((function(){return function(t){var e=t.store(Mr.store),n=new Mr(0,0,R.min().A(),0);return e.put(Mr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(kr.store).Ws().next((function(n){t.deleteObjectStore(kr.store),t.createObjectStore(kr.store,{keyPath:kr.keyPath,autoIncrement:!0}).createIndex(kr.userMutationsIndex,kr.userMutationsKeyPath,{unique:!0});var r=e.store(kr.store),i=n.map((function(t){return r.put(t)}));return On.Bn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Fr.store,{keyPath:Fr.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Cr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Rr.store);e.createIndex(Rr.readTimeIndex,Rr.readTimeIndexPath,{unique:!1}),e.createIndex(Rr.collectionReadTimeIndex,Rr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Rr.store).ei((function(t,n){e+=or(n)})).next((function(){var n=new Cr(e);return t.store(Cr.store).put(Cr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Or.store),r=t.store(kr.store);return n.Ws().next((function(n){return On.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ws(kr.userMutationsIndex,i).next((function(r){return On.forEach(r,(function(r){m(r.userId===n.userId);var i=$n(e.serializer,r);return _r(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(jr.store),n=t.store(Rr.store);return t.store(Mr.store).get(Mr.key).next((function(t){var r=[];return n.ei((function(n,i){var o=new L(n),s=function(t){return[0,Mn(t)]}(o);r.push(e.get(s).next((function(n){return n?On.resolve():function(n){return e.put(new jr(0,Mn(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return On.Bn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Vr.store,{keyPath:Vr.keyPath});var n=e.store(Vr.store),r=new Bn,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:Mn(i)})}};return e.store(Rr.store).ei({xi:!0},(function(t,e){var n=new L(t);return i(n.p())})).next((function(){return e.store(Pr.store).ei({xi:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Fn(n));return i(r.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Lr.store);return n.ei((function(t,r){var i=Zn(r),o=er(e.serializer,i);return n.put(o)}))},t}(),Nr=function(t,e){this.seconds=t,this.nanoseconds=e},Sr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Sr.store="owner",Sr.key="owner";var Or=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Or.store="mutationQueues",Or.keyPath="userId";var kr=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};kr.store="mutations",kr.keyPath="batchId",kr.userMutationsIndex="userMutationsIndex",kr.userMutationsKeyPath=["userId","batchId"];var Pr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Mn(e)]},t.key=function(t,e,n){return[t,Mn(e),n]},t}();Pr.store="documentMutations",Pr.PLACEHOLDER=new Pr;var Dr=function(t,e){this.path=t,this.readTime=e},xr=function(t,e){this.path=t,this.version=e},Rr=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Rr.store="remoteDocuments",Rr.readTimeIndex="readTimeIndex",Rr.readTimeIndexPath="readTime",Rr.collectionReadTimeIndex="collectionReadTimeIndex",Rr.collectionReadTimeIndexPath=["parentPath","readTime"];var Cr=function(t){this.byteSize=t};Cr.store="remoteDocumentGlobal",Cr.key="remoteDocumentGlobalKey";var Lr=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Lr.store="targets",Lr.keyPath="targetId",Lr.queryTargetsIndexName="queryTargetsIndex",Lr.queryTargetsKeyPath=["canonicalId","targetId"];var jr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jr.store="targetDocuments",jr.keyPath=["targetId","path"],jr.documentTargetsIndex="documentTargetsIndex",jr.documentTargetsKeyPath=["path","targetId"];var Mr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Mr.key="targetGlobalKey",Mr.store="targetGlobal";var Vr=function(t,e){this.collectionId=t,this.parent=e};function Ur(t){t.createObjectStore(jr.store,{keyPath:jr.keyPath}).createIndex(jr.documentTargetsIndex,jr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Lr.store,{keyPath:Lr.keyPath}).createIndex(Lr.queryTargetsIndexName,Lr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mr.store)}Vr.store="collectionParents",Vr.keyPath=["collectionId","parent"];var Fr=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fr.store="clientMetadata",Fr.keyPath="clientId";var qr=o.__spreadArrays(o.__spreadArrays(o.__spreadArrays([Or.store,kr.store,Pr.store,Rr.store,Lr.store,Sr.store,Mr.store,jr.store],[Fr.store]),[Cr.store]),[Vr.store]),Br=function(){function e(t){this.db=t,12.2===e.uo(i.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.tr=function(t,n,r){return d("SimpleDb","Opening database:",t),new On((function(i,o){var s=indexedDB.open(t,n);s.onsuccess=function(t){var n=t.target.result;i(new e(n))},s.onblocked=function(){o(new D(P.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new D(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},s.onupgradeneeded=function(e){d("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.createOrUpgrade(n,s.transaction,e.oldVersion,Tr).next((function(){d("SimpleDb","Database upgrade to version "+Tr+" complete")}))}})).On()},e.delete=function(t){return d("SimpleDb","Removing database:",t),Xr(window.indexedDB.deleteDatabase(t)).On()},e.Hi=function(){if("undefined"==typeof indexedDB)return!1;if(e.co())return!0;var t=i.getUA(),n=e.uo(t),r=0<n&&n<10,o=e.lo(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.co=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e._o)},e.js=function(t,e){return t.store(e)},e.uo=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.lo=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.ur=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,s,u,a;return o.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,r=0,s=function(){var t,s,a,c,h;return o.__generator(this,(function(o){switch(o.label){case 0:++r,t=Wr.open(u.db,i?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),On.reject(e)})).On(),a={},s.catch((function(){})),[4,t.fo];case 2:return[2,(a.value=(o.sent(),s),a)];case 3:return c=o.sent(),h="FirebaseError"!==c.name&&r<3,d("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),Gr=function(){function t(t){this.do=t,this.wo=!1,this.To=null}return Object.defineProperty(t.prototype,"$n",{get:function(){return this.wo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Eo",{get:function(){return this.To},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.do=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.wo=!0},t.prototype.ni=function(t){this.To=t},t.prototype.delete=function(){return Xr(this.do.delete())},t}(),zr=function(t){function e(e){var n=this;return(n=t.call(this,P.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return o.__extends(e,t),e}(D);function Hr(t){return"IndexedDbTransactionError"===t.name}var Wr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Io=new Ln,this.transaction.oncomplete=function(){e.Io.resolve()},this.transaction.onabort=function(){t.error?e.Io.reject(new zr(t.error)):e.Io.resolve()},this.transaction.onerror=function(t){var n=Jr(t.target.error);e.Io.reject(new zr(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"fo",{get:function(){return this.Io.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Io.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Kr(e)},t}(),Kr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xr(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),Xr(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),Xr(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Xr(this.store.count())},t.prototype.Ws=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.mo(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ao=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.xi=!1;var r=this.cursor(n);return this.mo(r,(function(t,e,n){return n.delete()}))},t.prototype.ei=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.mo(r,e)},t.prototype.jr=function(t){var e=this.cursor({});return new On((function(n,r){e.onerror=function(t){var e=Jr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.mo=function(t,e){var n=[];return new On((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Gr(i),s=e(i.primaryKey,i.value,o);if(s instanceof On){var u=s.catch((function(t){return o.done(),On.reject(t)}));n.push(u)}o.$n?r():null===o.Eo?i.continue():i.continue(o.Eo)}else r()}})).next((function(){return On.Bn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.xi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xr(t){return new On((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Jr(t.target.error);n(e)}}))}var Yr=!1;function Jr(t){var e=Br.uo(i.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Yr||(Yr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Qr(){return"undefined"!=typeof window?window:null}var $r=function(){function t(t,e,n,r,i){this.Ro=t,this.vs=e,this.Po=n,this.op=r,this.Vo=i,this.yo=new Ln,this.then=this.yo.promise.then.bind(this.yo.promise),this.yo.promise.catch((function(t){}))}return t.po=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.bo=setTimeout((function(){return e.vo()}),t)},t.prototype.Bs=function(){return this.vo()},t.prototype.cancel=function(t){null!==this.bo&&(this.clearTimeout(),this.yo.reject(new D(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.vo=function(){var t=this;this.Ro.lr((function(){return null!==t.bo?(t.clearTimeout(),t.op().then((function(e){return t.yo.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.bo&&(this.Vo(this),clearTimeout(this.bo),this.bo=null)},t}(),Zr=function(){function t(){var t=this;this.So=Promise.resolve(),this.Do=[],this.Co=!1,this.Fo=[],this.No=null,this.$o=!1,this.ko=[],this.xo=new jn(this,"async_queue_retry"),this.Mo=function(){return t.xo.Ls()};var e=Qr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Mo)}return Object.defineProperty(t.prototype,"Oo",{get:function(){return this.Co},enumerable:!1,configurable:!0}),t.prototype.lr=function(t){this.enqueue(t)},t.prototype.Lo=function(t){this.Bo(),this.qo(t)},t.prototype.Uo=function(t){return this.Bo(),this.qo(t)},t.prototype.Qo=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:return this.Bo(),this.Co?[3,2]:(this.Co=!0,(e=Qr())&&e.removeEventListener("visibilitychange",this.Mo),[4,this.Uo(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Bo(),this.Co?new Promise((function(t){})):this.qo(t)},t.prototype.dr=function(t){var e=this;this.Do.push(t),this.lr((function(){return e.Wo()}))},t.prototype.Wo=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Do.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Do[0]()];case 2:return n.sent(),this.Do.shift(),this.xo.reset(),[3,4];case 3:if(!Hr(t=n.sent()))throw t;return d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Do.length>0&&this.xo.xs((function(){return e.Wo()})),n.label=5;case 5:return[2]}}))}))},t.prototype.qo=function(t){var e=this,n=this.So.then((function(){return e.$o=!0,t().catch((function(t){throw e.No=t,e.$o=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.$o=!1,t}))}));return this.So=n,n},t.prototype.Os=function(t,e,n){var r=this;this.Bo(),this.ko.indexOf(t)>-1&&(e=0);var i=$r.po(this,t,e,n,(function(t){return r.jo(t)}));return this.Fo.push(i),i},t.prototype.Bo=function(){this.No&&p()},t.prototype.Ko=function(){},t.prototype.Go=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.So];case 1:e.sent(),e.label=2;case 2:if(t!==this.So)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.zo=function(t){for(var e=0,n=this.Fo;e<n.length;e++)if(n[e].vs===t)return!0;return!1},t.prototype.Ho=function(t){var e=this;return this.Go().then((function(){e.Fo.sort((function(t,e){return t.Po-e.Po}));for(var n=0,r=e.Fo;n<r.length;n++){var i=r[n];if(i.Bs(),"all"!==t&&i.vs===t)break}return e.Go()}))},t.prototype.Yo=function(t){this.ko.push(t)},t.prototype.jo=function(t){var e=this.Fo.indexOf(t);this.Fo.splice(e,1)},t}();function ti(t,e){if(v("AsyncQueue",e+": "+t),Hr(t))return new D(P.UNAVAILABLE,e+": "+t);throw t}function ei(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=I(n,i);return 0===s?I(r,o):s}var ni=function(){function t(t){this.Jo=t,this.buffer=new it(ei),this.Xo=0}return t.prototype.Zo=function(){return++this.Xo},t.prototype.th=function(t){var e=[t,this.Zo()];if(this.buffer.size<this.Jo)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ei(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ri={eh:!1,nh:0,sh:0,ih:0},ii=function(){function t(t,e,n){this.rh=t,this.oh=e,this.hh=n}return t.ah=function(e){return new t(e,t.uh,t.lh)},t}();ii._h=-1,ii.fh=1048576,ii.dh=41943040,ii.uh=10,ii.lh=1e3,ii.wh=new ii(ii.dh,ii.uh,ii.lh),ii.Th=new ii(ii._h,0,0);var oi=function(){function t(t,e){this.Or=t,this.Ro=e,this.Eh=!1,this.Ih=null}return t.prototype.start=function(t){this.Or.params.rh!==ii._h&&this.mh(t)},t.prototype.stop=function(){this.Ih&&(this.Ih.cancel(),this.Ih=null)},Object.defineProperty(t.prototype,"hr",{get:function(){return null!==this.Ih},enumerable:!1,configurable:!0}),t.prototype.mh=function(t){var e=this,n=this.Eh?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Ih=this.Ro.Os("lru_garbage_collection",n,(function(){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:this.Ih=null,this.Eh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ah(this.Or)];case 2:return n.sent(),[3,7];case 3:return Hr(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ci(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.mh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),si=function(){function t(t,e){this.Rh=t,this.params=e}return t.prototype.Ph=function(t,e){return this.Rh.Lr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Vh=function(t,e){var n=this;if(0===e)return On.resolve(Cn.ps);var r=new ni(e);return this.Rh.pe(t,(function(t){return r.th(t.sequenceNumber)})).next((function(){return n.Rh.qr(t,(function(t){return r.th(t)}))})).next((function(){return r.maxValue}))},t.prototype.vi=function(t,e,n){return this.Rh.vi(t,e,n)},t.prototype.Kr=function(t,e){return this.Rh.Kr(t,e)},t.prototype.gh=function(t,e){var n=this;return this.params.rh===ii._h?(d("LruGarbageCollector","Garbage collection skipped; disabled"),On.resolve(ri)):this.zr(t).next((function(r){return r<n.params.rh?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.rh),ri):n.yh(t,e)}))},t.prototype.zr=function(t){return this.Rh.zr(t)},t.prototype.yh=function(t,e){var n,i,r,s,u,a,o,c=this,p=Date.now();return this.Ph(t,this.params.oh).next((function(e){return e>c.params.hh?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.hh+" from "+e),i=c.params.hh):i=e,s=Date.now(),c.Vh(t,i)})).next((function(r){return n=r,u=Date.now(),c.vi(t,n,e)})).next((function(e){return r=e,a=Date.now(),c.Kr(t,n)})).next((function(t){return o=Date.now(),l()<=h.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-p)+"ms\n\tDetermined least recently used "+i+" in "+(u-s)+"ms\n\tRemoved "+r+" targets in "+(a-u)+"ms\n\tRemoved "+t+" documents in "+(o-a)+"ms\nTotal Duration: "+(o-p)+"ms"),On.resolve({eh:!0,nh:i,sh:r,ih:t})}))},t}(),ai=function(){function t(t,e,n){this.persistence=t,this.ph=e,this.bh=new tt(I),this.vh=new k((function(t){return q(t)}),H),this.Sh=R.min(),this.ns=t.Cr(n),this.Dh=t.$r(),this.Xi=t.Nr(),this.Ch=new xn(this.Dh,this.ns,this.persistence.kr()),this.ph.Fh(this.Ch)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Nh=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.ns,n=this.Ch,[4,this.persistence.runTransaction("Handle user change","readonly",(function(o){var i;return r.ns.so(o).next((function(s){return i=s,e=r.persistence.Cr(t),n=new xn(r.Dh,e,r.persistence.kr()),e.so(o)})).next((function(t){for(var e=[],r=[],s=lt(),u=0,a=i;u<a.length;u++){var c=a[u];e.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return n.us(o,s).next((function(t){return{$h:t,kh:e,xh:r}}))}))}))];case 1:return i=o.sent(),[2,(this.ns=e,this.Ch=n,this.ph.Fh(this.Ch),i)]}}))}))},t.prototype.Mh=function(t){var e,n=this,r=x.now(),i=t.reduce((function(t,e){return t.add(e.key)}),lt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Ch.us(o,i).next((function(i){e=i;for(var s=[],u=0,a=t;u<a.length;u++){var c=a[u],h=Be(c,e.get(c.key));null!=h&&s.push(new We(c.key,h,en(h.proto.mapValue),Me.exists(!0)))}return n.ns.Xr(o,r,s,t)}))})).then((function(t){var n=t.Sn(e);return{batchId:t.batchId,Un:n}}))},t.prototype.Oh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Dh.oi({ai:!0});return e.Lh(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.ns.ho(n)})).next((function(){return e.Ch.us(n,r)}))}))},t.prototype.Bh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.ns.Zr(n,t).next((function(t){return m(null!==t),r=t.keys(),e.ns.ro(n,t)})).next((function(){return e.ns.ho(n)})).next((function(){return e.Ch.us(n,r)}))}))},t.prototype.no=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.ns.no(e)}))},t.prototype.mi=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Xi.mi(e)}))},t.prototype.qh=function(e){var n=this,r=e.X,i=this.bh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Dh.oi({ai:!0});i=n.bh;var u=[];e.Qt.forEach((function(e,s){var a=i.get(s);if(a){u.push(n.Xi.Ni(o,e.Xt,s).next((function(){return n.Xi.Ci(o,e.Yt,s)})));var c=e.resumeToken;if(c.H()>0){var h=a.tt(c,r).Z(o.Li);i=i.nt(s,h),t.Uh(a,h,e)&&u.push(n.Xi.yi(o,h))}}}));var a=rt(),c=lt();if(e.jt.forEach((function(t,e){c=c.add(t)})),u.push(s.getEntries(o,c).next((function(t){e.jt.forEach((function(i,c){var h=t.get(i);c instanceof on&&c.version.isEqual(R.min())?(s.Gn(i,r),a=a.nt(i,c)):null==h||c.version.o(h.version)>0||0===c.version.o(h.version)&&h.hasPendingWrites?(s.jn(c,r),a=a.nt(i,c)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",h.version," Watch version:",c.version),e.Kt.has(i)&&u.push(n.persistence.wi.Gr(o,i))}))}))),!r.isEqual(R.min())){var h=n.Xi.mi(o).next((function(t){return n.Xi.Ri(o,o.Li,r)}));u.push(h)}return On.Bn(u).next((function(){return s.apply(o)})).next((function(){return n.Ch.cs(o,a)}))})).then((function(t){return n.bh=i,t}))},t.Uh=function(t,e,n){return m(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Qh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.Wh=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s,u,a,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return On.forEach(t,(function(t){return On.forEach(t.ms,(function(n){return h.persistence.wi.Fi(e,t.targetId,n)})).next((function(){return On.forEach(t.As,(function(n){return h.persistence.wi.$i(e,t.targetId,n)}))}))}))}))];case 1:return o.sent(),[3,3];case 2:if(!Hr(e=o.sent()))throw e;return d("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,i=t;n<i.length;n++)r=i[n],s=r.targetId,r.fromCache||(u=this.bh.get(s),a=u.X,c=u.et(a),this.bh=this.bh.nt(s,c));return[2]}}))}))},t.prototype.jh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.ns.eo(n,t)}))},t.prototype.Kh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Ch.rs(n,t)}))},t.prototype.Gh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Xi.Di(n,t).next((function(i){return i?(r=i,On.resolve(r)):e.Xi.Ti(n).next((function(i){return r=new J(t,i,0,n.Li),e.Xi.Pi(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.bh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(e.bh=e.bh.nt(n.targetId,n),e.vh.set(t,n.targetId)),n}))},t.prototype.Di=function(t,e){var n=this.vh.get(e);return void 0!==n?On.resolve(this.bh.get(n)):this.Xi.Di(t,e)},t.prototype.zh=function(t,e){var n=this,r=this.bh.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,(function(t){return e?On.resolve():n.persistence.wi.removeTarget(t,r)})).then((function(){n.bh=n.bh.remove(t),n.vh.delete(r.target)}))},t.prototype.Hh=function(t,e){var n=this,r=R.min(),i=lt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Di(o,t.We()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Xi.ki(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.ph._s(o,t,e?r:R.min(),e?i:lt())})).next((function(t){return{documents:t,Yh:i}}))}))},t.prototype.Lh=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=On.resolve();return o.forEach((function(r){s=s.next((function(){return n.zn(t,r)})).next((function(t){var o=t,s=e.Cn.get(r);m(null!==s),(!o||o.version.o(s)<0)&&(o=i.pn(r,o,e))&&n.jn(o,e.Dn)}))})),s.next((function(){return r.ns.ro(t,i)}))},t.prototype.Ah=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.gh(n,e.bh)}))},t}();ai.Qh=3e8;var ui=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.ns=e.Cr(r),i.Dh=e.$r(),i.Xi=e.Nr(),i}return o.__extends(e,t),e.prototype.start=function(){return this.Jh()},e.prototype.Xh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.ns.to(n,t).next((function(t){return t?e.Ch.us(n,t):On.resolve(null)}))}))},e.prototype.Zh=function(t){this.ns.oo(t)},e.prototype.cr=function(t){this.persistence.cr(t)},e.prototype.Dr=function(){return this.persistence.Dr()},e.prototype.ta=function(t){var e=this,n=this.bh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Xi.Me(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.si=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Dh.si(e,t.Sh)})).then((function(e){var n=e.ii,r=e.readTime;return t.Sh=r,n}))},e.prototype.Jh=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Dh.ri(t)}))];case 1:return t.Sh=n.sent(),[2]}}))}))},e}(ai);function ci(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==P.FAILED_PRECONDITION||t.message!==Pn)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var hi=function(){function t(){this.ea=new it(fi.na),this.sa=new it(fi.ia)}return t.prototype._=function(){return this.ea._()},t.prototype.Fi=function(t,e){var n=new fi(t,e);this.ea=this.ea.add(n),this.sa=this.sa.add(n)},t.prototype.ra=function(t,e){var n=this;t.forEach((function(t){return n.Fi(t,e)}))},t.prototype.$i=function(t,e){this.oa(new fi(t,e))},t.prototype.ha=function(t,e){var n=this;t.forEach((function(t){return n.$i(t,e)}))},t.prototype.aa=function(t){var e=this,n=new V(new L([])),r=new fi(n,t),i=new fi(n,t+1),o=[];return this.sa.vt([r,i],(function(t){e.oa(t),o.push(t.key)})),o},t.prototype.ua=function(){var t=this;this.ea.forEach((function(e){return t.oa(e)}))},t.prototype.oa=function(t){this.ea=this.ea.delete(t),this.sa=this.sa.delete(t)},t.prototype.ca=function(t){var e=new V(new L([])),n=new fi(e,t),r=new fi(e,t+1),i=lt();return this.sa.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new fi(t,0),n=this.ea.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),fi=function(){function t(t,e){this.key=t,this.la=e}return t.na=function(t,e){return V.P(t.key,e.key)||I(t.la,e.la)},t.ia=function(t,e){return I(t.la,e.la)||V.P(t.key,e.key)},t}();function pi(t,e){if(0!==e.length)throw new D(P.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Pi(e.length,"argument")+".")}function di(t,e,n){if(e.length!==n)throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires "+Pi(n,"argument")+", but was called with "+Pi(e.length,"argument")+".")}function vi(t,e,n){if(e.length<n)throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Pi(n,"argument")+", but was called with "+Pi(e.length,"argument")+".")}function li(t,e,n,r){if(e.length<n||e.length>r)throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Pi(e.length,"argument")+".")}function yi(t,e,n,r){Ii(t,e,ki(n)+" argument",r)}function gi(t,e,n,r){void 0!==r&&yi(t,e,n,r)}function mi(t,e,n,r){Ii(t,e,n+" option",r)}function bi(t,e,n,r){void 0!==r&&mi(t,e,n,r)}function wi(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,u=i;s<u.length;s++){var a=u[s];if(a===r)return;o.push(Ti(a))}var c=Ti(r);throw new D(P.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function _i(t,e,n,r){if(!e.some((function(t){return t===r})))throw new D(P.INVALID_ARGUMENT,"Invalid value "+Ti(r)+" provided to function "+t+"() for its "+ki(n)+" argument. Acceptable values: "+e.join(", "));return r}function Ii(t,e,n,r){if(!("object"===e?Ei(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Ti(r);throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Ei(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Ti(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":p()}function Ai(t,e,n){if(void 0===n)throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ki(e)+" argument, but it was undefined.")}function Ni(t,e,n){S(e,(function(e,r){if(n.indexOf(e)<0)throw new D(P.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Si(t,e,n,r){var i=Ti(r);return new D(P.INVALID_ARGUMENT,"Function "+t+"() requires its "+ki(n)+" argument to be a "+e+", but it was: "+i)}function Oi(t,e,n){if(n<=0)throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires its "+ki(e)+" argument to be a positive number, but it was: "+n+".")}function ki(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Pi(t,e){return t+" "+e+(1===t?"":"s")}function Di(){if("undefined"==typeof Uint8Array)throw new D(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xi(){if("undefined"==typeof atob)throw new D(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ri=function(){function t(t){xi(),this._a=t}return t.fromBase64String=function(e){di("Blob.fromBase64String",arguments,1),yi("Blob.fromBase64String","string",1,e),xi();try{return new t(K.fromBase64String(e))}catch(e){throw new D(P.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(di("Blob.fromUint8Array",arguments,1),Di(),!(e instanceof Uint8Array))throw Si("Blob.fromUint8Array","Uint8Array",1,e);return new t(K.fromUint8Array(e))},t.prototype.toBase64=function(){return di("Blob.toBase64",arguments,0),xi(),this._a.toBase64()},t.prototype.toUint8Array=function(){return di("Blob.toUint8Array",arguments,0),Di(),this._a.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._a.isEqual(t._a)},t}(),Ci=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new D(P.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Pi(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(yi("FieldPath","string",e,t[e]),0===t[e].length)throw new D(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.fa=new M(t)},Li=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return o.__extends(e,t),e.documentId=function(){return new e(M.L().N())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Si("isEqual","FieldPath",1,t);return this.fa.isEqual(t.fa)},e}(Ci),ji=new RegExp("[~\\*/\\[\\]]"),Mi=function(){this.da=this},Vi=function(t){function e(e){var n=this;return(n=t.call(this)||this).wa=e,n}return o.__extends(e,t),e.prototype.Ta=function(t){if(2!==t.Ea)throw 1===t.Ea?t.Ia(this.wa+"() can only appear at the top level of your update data"):t.Ia(this.wa+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Mi);function Ui(t,e,n){return new Zi({Ea:3,ma:e.settings.ma,methodName:t.wa,Aa:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var Fi=function(t){function e(e){var n=this;return(n=t.call(this)||this).wa=e,n}return o.__extends(e,t),e.prototype.Ta=function(t){return new Le(t.path,new Ne)},e.prototype.isEqual=function(t){return t instanceof e},e}(Mi),qi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).wa=e,r.Ra=n,r}return o.__extends(e,t),e.prototype.Ta=function(t){var e=Ui(this,t,!0),n=this.Ra.map((function(t){return oo(t,e)})),r=new Se(n);return new Le(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Mi),Bi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).wa=e,r.Ra=n,r}return o.__extends(e,t),e.prototype.Ta=function(t){var e=Ui(this,t,!0),n=this.Ra.map((function(t){return oo(t,e)})),r=new ke(n);return new Le(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Mi),Gi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).wa=e,r.Pa=n,r}return o.__extends(e,t),e.prototype.Ta=function(t){var e=new De(t.serializer,Jt(t.serializer,this.Pa));return new Le(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Mi),zi=function(t){function e(){return t.call(this)||this}return o.__extends(e,t),e.delete=function(){return pi("FieldValue.delete",arguments),new Hi(new Vi("FieldValue.delete"))},e.serverTimestamp=function(){return pi("FieldValue.serverTimestamp",arguments),new Hi(new Fi("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vi("FieldValue.arrayUnion",arguments,1),new Hi(new qi("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vi("FieldValue.arrayRemove",arguments,1),new Hi(new Bi("FieldValue.arrayRemove",t))},e.increment=function(t){return yi("FieldValue.increment","number",1,t),di("FieldValue.increment",arguments,1),new Hi(new Gi("FieldValue.increment",t))},e}(Mi),Hi=function(t){function e(e){var n=this;return(n=t.call(this)||this).da=e,n.wa=e.wa,n}return o.__extends(e,t),e.prototype.Ta=function(t){return this.da.Ta(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.da.isEqual(t.da)},e}(zi),Wi=function(){function t(t,e){if(di("GeoPoint",arguments,2),yi("GeoPoint","number",1,t),yi("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new D(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new D(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Va=t,this.ga=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Va},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.ga},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.Va===t.Va&&this.ga===t.ga},t.prototype.T=function(t){return I(this.Va,t.Va)||I(this.ga,t.ga)},t}();function Ki(t){return new Kt(t,!0)}var Xi=/^__.*__$/,Yi=function(t,e,n){this.ya=t,this.pa=e,this.ba=n},Ji=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.va=function(t,e){var n=[];return null!==this.Le?n.push(new We(t,this.data,this.Le,e)):n.push(new He(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Xe(t,this.fieldTransforms)),n},t}(),Qi=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.va=function(t,e){var n=[new We(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new Xe(t,this.fieldTransforms)),n},t}();function $i(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw p()}}var Zi=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.Le=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ea",{get:function(){return this.settings.Ea},enumerable:!1,configurable:!0}),t.prototype.Da=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.Ca=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Da({path:n,Aa:!1});return r.Fa(t),r},t.prototype.Na=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Da({path:n,Aa:!1});return r.Sa(),r},t.prototype.$a=function(t){return this.Da({path:void 0,Aa:!0})},t.prototype.Ia=function(t){return fo(t,this.settings.methodName,this.settings.ka||!1,this.path,this.settings.ma)},t.prototype.contains=function(t){return void 0!==this.Le.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.Sa=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fa(this.path.get(t))},t.prototype.Fa=function(t){if(0===t.length)throw this.Ia("Document fields must not be empty");if($i(this.Ea)&&Xi.test(t))throw this.Ia('Document fields cannot begin and end with "__"')},t}(),to=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ki(t)}return t.prototype.xa=function(t,e,n,r){return void 0===r&&(r=!1),new Zi({Ea:t,methodName:e,ma:n,path:M.k(),Aa:!1,ka:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function eo(t,e,n,r,i,o){void 0===o&&(o={});var s=t.xa(o.merge||o.mergeFields?2:0,e,n,i);uo("Data must be an object, but it was:",s,r);var u,a,c=so(r,s);if(o.merge)u=new Ce(s.Le),a=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var d=l[f],v=void 0;if(d instanceof Ci)v=d.fa;else{if("string"!=typeof d)throw p();v=ho(e,d,n)}if(!s.contains(v))throw new D(P.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");lo(h,v)||h.push(v)}u=new Ce(h),a=s.fieldTransforms.filter((function(t){return u.Ke(t.field)}))}else u=null,a=s.fieldTransforms;return new Ji(new Ze(c),u,a)}function no(t,e,n,r){var i=t.xa(1,e,n);uo("Data must be an object, but it was:",i,r);var o=[],s=new tn;S(r,(function(t,r){var u=ho(e,t,n),a=i.Na(u);if(r instanceof Mi&&r.da instanceof Vi)o.push(u);else{var c=oo(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new Ce(o);return new Qi(s.ze(),u,i.fieldTransforms)}function ro(t,e,n,r,i,o){var s=t.xa(1,e,n),u=[co(e,r,n)],a=[i];if(o.length%2!=0)throw new D(P.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(co(e,o[c])),a.push(o[c+1]);for(var h=[],f=new tn,l=u.length-1;l>=0;--l)if(!lo(h,u[l])){var p=u[l],d=a[l],v=s.Na(p);if(d instanceof Mi&&d.da instanceof Vi)h.push(p);else{var y=oo(d,v);null!=y&&(h.push(p),f.set(p,y))}}var g=new Ce(h);return new Qi(f.ze(),g,s.fieldTransforms)}function io(t,e,n,r){return void 0===r&&(r=!1),oo(n,t.xa(r?4:3,e))}function oo(t,e){if(ao(t))return uo("Unsupported field value:",e,t),so(t,e);if(t instanceof Mi)return function(t,e){if(!$i(e.Ea))throw e.Ia(t.wa+"() can only be used with update() and set()");if(!e.path)throw e.Ia(t.wa+"() is not currently supported inside arrays");var n=t.Ta(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.Aa&&4!==e.Ea)throw e.Ia("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=oo(o[i],e.$a(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Jt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=x.fromDate(t);return{timestampValue:Qt(e.serializer,n)}}if(t instanceof x){var r=new x(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qt(e.serializer,r)}}if(t instanceof Wi)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ri)return{bytesValue:$t(e.serializer,t)};if(t instanceof Yi){var i=e.s,o=t.ya;if(!o.isEqual(i))throw e.Ia("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ee(t.ya||e.s,t.pa.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Ia("Unsupported field value: "+Ti(t))}(t,e)}function so(t,e){var n={};return O(t)?e.path&&e.path.length>0&&e.Le.push(e.path):S(t,(function(t,r){var i=oo(r,e.Ca(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function ao(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof x||t instanceof Wi||t instanceof Ri||t instanceof Yi||t instanceof Mi)}function uo(t,e,n){if(!ao(n)||!Ei(n)){var r=Ti(n);throw"an object"===r?e.Ia(t+" a custom object"):e.Ia(t+" "+r)}}function co(t,e,n){if(e instanceof Ci)return e.fa;if("string"==typeof e)return ho(t,e);throw fo("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function ho(t,e,n){try{return function(t){if(t.search(ji)>=0)throw new D(P.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Li.bind.apply(Li,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new D(P.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).fa}catch(e){throw fo((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function fo(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new D(P.INVALID_ARGUMENT,(u+=". ")+t+a)}function lo(t,e){return t.some((function(t){return t.isEqual(e)}))}var po=function(){function t(t){this.uid=t}return t.prototype.Yr=function(){return null!=this.uid},t.prototype.Ma=function(){return this.Yr()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();po.UNAUTHENTICATED=new po(null),po.Oa=new po("google-credentials-uid"),po.La=new po("first-party-uid");var vo=function(t,e){this.user=e,this.type="OAuth",this.Ba={},this.Ba.Authorization="Bearer "+t},yo=function(){function t(){this.qa=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Ua=function(){},t.prototype.Qa=function(t){this.qa=t,t(po.UNAUTHENTICATED)},t.prototype.Wa=function(){this.qa=null},t}(),go=function(){function t(t){var e=this;this.ja=null,this.currentUser=po.UNAUTHENTICATED,this.Ka=!1,this.Ga=0,this.qa=null,this.forceRefresh=!1,this.ja=function(){e.Ga++,e.currentUser=e.za(),e.Ka=!0,e.qa&&e.qa(e.currentUser)},this.Ga=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ja):(this.ja(null),t.get().then((function(t){e.auth=t,e.ja&&e.auth.addAuthTokenListener(e.ja)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Ga,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Ga!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new vo(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Ua=function(){this.forceRefresh=!0},t.prototype.Qa=function(t){this.qa=t,this.Ka&&t(this.currentUser)},t.prototype.Wa=function(){this.auth&&this.auth.removeAuthTokenListener(this.ja),this.ja=null,this.qa=null},t.prototype.za=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new po(t)},t}(),mo=function(){function t(t,e){this.Ha=t,this.Ya=e,this.type="FirstParty",this.user=po.La}return Object.defineProperty(t.prototype,"Ba",{get:function(){var t={"X-Goog-AuthUser":this.Ya},e=this.Ha.auth.Ja([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),bo=function(){function t(t,e){this.Ha=t,this.Ya=e}return t.prototype.getToken=function(){return Promise.resolve(new mo(this.Ha,this.Ya))},t.prototype.Qa=function(t){t(po.La)},t.prototype.Wa=function(){},t.prototype.Ua=function(){},t}(),wo=function(){function t(t,e,n,r,i,o){this.bs=t,this.Xa=n,this.Za=r,this.tu=i,this.listener=o,this.state=0,this.eu=0,this.nu=null,this.stream=null,this.xo=new jn(t,e)}return t.prototype.su=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.iu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ru()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.su()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ou=function(){this.state=0,this.xo.reset()},t.prototype.hu=function(){var t=this;this.iu()&&null===this.nu&&(this.nu=this.bs.Os(this.Xa,6e4,(function(){return t.au()})))},t.prototype.uu=function(t){this.cu(),this.stream.send(t)},t.prototype.au=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.iu()?[2,this.close(0)]:[2]}))}))},t.prototype.cu=function(){this.nu&&(this.nu.cancel(),this.nu=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return this.cu(),this.xo.cancel(),this.eu++,3!==t?this.xo.reset():e&&e.code===P.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.xo.ks()):e&&e.code===P.UNAUTHENTICATED&&this.tu.Ua(),null!==this.stream&&(this.lu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener._u(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.lu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.fu(this.eu),n=this.eu;this.tu.getToken().then((function(e){t.eu===n&&t.du(e)}),(function(n){e((function(){var e=new D(P.UNKNOWN,"Fetching auth token failed: "+n.message);return t.wu(e)}))}))},t.prototype.du=function(t){var e=this,n=this.fu(this.eu);this.stream=this.Tu(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream._u((function(t){n((function(){return e.wu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ru=function(){var t=this;this.state=4,this.xo.xs((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.wu=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.fu=function(t){var e=this;return function(n){e.bs.lr((function(){return e.eu===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),_o=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return o.__extends(e,t),e.prototype.Tu=function(t){return this.Za.Iu("Listen",t)},e.prototype.onMessage=function(t){this.xo.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:p()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Oe?(m(void 0===e||"string"==typeof e),K.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),K.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(t){var e=void 0===t.code?P.UNKNOWN:Z(t.code);return new D(e,t.message||"")}(s);n=new It(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;var a=e.documentChange;a.document,a.document.name,a.document.updateTime;var c=ie(t,a.document.name),h=te(a.document.updateTime),f=new Ze({mapValue:{fields:a.document.fields}}),l=new rn(c,h,f,{}),d=a.targetIds||[],v=a.removedTargetIds||[];n=new wt(d,v,l.key,l)}else if("documentDelete"in e){e.documentDelete;var g=e.documentDelete;g.document;var y=ie(t,g.document),w=g.readTime?te(g.readTime):R.min(),b=new on(y,w),_=g.removedTargetIds||[];n=new wt([],_,b.key,b)}else if("documentRemove"in e){e.documentRemove;var I=e.documentRemove;I.document;var E=ie(t,I.document),T=I.removedTargetIds||[];n=new wt([],T,E,null)}else{if(!("filter"in e))return p();e.filter;var A=e.filter;A.targetId;var N=A.count||0,S=new Q(N),O=A.targetId;n=new _t(O,S)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return R.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?R.min():e.readTime?te(e.readTime):R.min()}(t);return this.listener.mu(e,n)},e.prototype.Au=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=W(r)?{documents:le(t,r)}:{query:pe(t,r)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=$t(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return p()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.uu(e)},e.prototype.Ru=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.uu(e)},e}(wo),Io=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Pu=!1,s}return o.__extends(e,t),Object.defineProperty(e.prototype,"Vu",{get:function(){return this.Pu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Pu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.lu=function(){this.Pu&&this.gu([])},e.prototype.Tu=function(t){return this.Za.Iu("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Pu){this.xo.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?te(t.updateTime):te(e);n.isEqual(R.min())&&(n=te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new je(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.yu(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.Pu=!0,this.listener.pu()},e.prototype.bu=function(){var t={};t.database=ae(this.serializer),this.uu(t)},e.prototype.gu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return he(e.serializer,t)}))};this.uu(n)},e}(wo),Eo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Za=e,i.credentials=n,i.serializer=r,i.vu=!1,i}return o.__extends(e,t),e.prototype.Su=function(){if(this.vu)throw new D(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Du=function(t,e){var n=this;return this.Su(),this.credentials.getToken().then((function(r){return n.Za.Du(t,e,r)})).catch((function(t){throw t.code===P.UNAUTHENTICATED&&n.credentials.Ua(),t}))},e.prototype.Cu=function(t,e){var n=this;return this.Su(),this.credentials.getToken().then((function(r){return n.Za.Cu(t,e,r)})).catch((function(t){throw t.code===P.UNAUTHENTICATED&&n.credentials.Ua(),t}))},e}((function(){this.je=void 0})),To=function(){function t(t){this.Fu=t,this.Nu=new Map,this.mutations=[],this.$u=!1,this.ku=null,this.xu=new Set}return t.prototype.Mu=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:if(this.Ou(),this.mutations.length>0)throw new D(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,s,u;return o.__generator(this,(function(o){switch(o.label){case 0:return n=w(t),i={database:ae(n.serializer),documents:e.map((function(t){return re(n.serializer,t)}))},[4,n.Cu("BatchGetDocuments",i)];case 1:return r=o.sent(),s=new Map,r.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found),e.found.name,e.found.updateTime;var n=ie(t,e.found.name),r=te(e.found.updateTime),i=new Ze({mapValue:{fields:e.found.fields}});return new rn(n,r,i,{})}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=ie(t,e.missing),r=te(e.readTime);return new on(n,r)}(t,e):p()}(n.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());m(!!e),u.push(e)})),u)]}}))}))}(this.Fu,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof on||t instanceof rn?n.Lu(t):p()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.va(t,this.Ue(t))),this.xu.add(t)},t.prototype.update=function(t,e){try{this.write(e.va(t,this.Bu(t)))}catch(t){this.ku=t}this.xu.add(t)},t.prototype.delete=function(t){this.write([new Qe(t,this.Ue(t))]),this.xu.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this.Ou(),this.ku)throw this.ku;return t=this.Nu,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new V(L.$(n));e.mutations.push(new $e(r,e.Ue(r)))})),[4,function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i;return o.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i={database:ae(n.serializer),writes:e.map((function(t){return he(n.serializer,t)}))},[4,n.Du("Commit",i)];case 1:return r.sent(),[2]}}))}))}(this.Fu,this.mutations)];case 1:return n.sent(),this.$u=!0,[2]}}))}))},t.prototype.Lu=function(t){var e;if(t instanceof rn)e=t.version;else{if(!(t instanceof on))throw p();e=R.min()}var n=this.Nu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new D(P.ABORTED,"Document version changed between two reads.")}else this.Nu.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.Nu.get(t.toString());return!this.xu.has(t)&&e?Me.updateTime(e):Me.Qe()},t.prototype.Bu=function(t){var e=this.Nu.get(t.toString());if(!this.xu.has(t)&&e){if(e.isEqual(R.min()))throw new D(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Me.updateTime(e)}return Me.exists(!0)},t.prototype.write=function(t){this.Ou(),this.mutations=this.mutations.concat(t)},t.prototype.Ou=function(){},t}(),Ao=function(){function t(t,e){this.Ro=t,this.qu=e,this.state="Unknown",this.Uu=0,this.Qu=null,this.Wu=!0}return t.prototype.ju=function(){var t=this;0===this.Uu&&(this.Ku("Unknown"),this.Qu=this.Ro.Os("online_state_timeout",1e4,(function(){return t.Qu=null,t.Gu("Backend didn't respond within 10 seconds."),t.Ku("Offline"),Promise.resolve()})))},t.prototype.zu=function(t){"Online"===this.state?this.Ku("Unknown"):(this.Uu++,this.Uu>=1&&(this.Hu(),this.Gu("Connection failed 1 times. Most recent error: "+t.toString()),this.Ku("Offline")))},t.prototype.set=function(t){this.Hu(),this.Uu=0,"Online"===t&&(this.Wu=!1),this.Ku(t)},t.prototype.Ku=function(t){t!==this.state&&(this.state=t,this.qu(t))},t.prototype.Gu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Wu?(v(e),this.Wu=!1):d("OnlineStateTracker",e)},t.prototype.Hu=function(){null!==this.Qu&&(this.Qu.cancel(),this.Qu=null)},t}(),No=function(){function t(t,e,n,i,r){var s=this;this.Yu=t,this.Fu=e,this.Ro=n,this.Ju=[],this.Xu=new Map,this.Zu=null,this.tc=new Set,this.ec=r,this.ec.nc((function(t){n.lr((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.sc()?(d("RemoteStore","Restarting streams for network reachability change."),[4,this.ic()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.rc=new Ao(n,i),this.oc=function(t,e,n){var r=w(t);return new _o(e,r.Za,r.credentials,r.serializer,n)}(this.Fu,n,{Eu:this.hc.bind(this),_u:this.ac.bind(this),mu:this.uc.bind(this)}),this.cc=function(t,e,n){var r=w(t);return new Io(e,r.Za,r.credentials,r.serializer,n)}(this.Fu,n,{Eu:this.lc.bind(this),_u:this._c.bind(this),pu:this.fc.bind(this),yu:this.yu.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.tc.delete(0),this.dc()},t.prototype.dc=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.sc()?(this.wc()?this.Tc():this.rc.set("Unknown"),[4,this.Ec()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.tc.add(0),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Offline"),[2]}}))}))},t.prototype.Ic=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.cc.stop()];case 1:return t.sent(),[4,this.oc.stop()];case 2:return t.sent(),this.Ju.length>0&&(d("RemoteStore","Stopping write stream with "+this.Ju.length+" pending writes"),this.Ju=[]),this.mc(),[2]}}))}))},t.prototype.yr=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.tc.add(5),[4,this.Ic()];case 1:return t.sent(),this.ec.yr(),this.rc.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Xu.has(t.targetId)||(this.Xu.set(t.targetId,t),this.wc()?this.Tc():this.oc.iu()&&this.Ac(t))},t.prototype.Rc=function(t){this.Xu.delete(t),this.oc.iu()&&this.Pc(t),0===this.Xu.size&&(this.oc.iu()?this.oc.hu():this.sc()&&this.rc.set("Unknown"))},t.prototype.Me=function(t){return this.Xu.get(t)||null},t.prototype.xe=function(t){return this.Vc.xe(t)},t.prototype.Ac=function(t){this.Zu.de(t.targetId),this.oc.Au(t)},t.prototype.Pc=function(t){this.Zu.de(t),this.oc.Ru(t)},t.prototype.Tc=function(){this.Zu=new Tt(this),this.oc.start(),this.rc.ju()},t.prototype.wc=function(){return this.sc()&&!this.oc.su()&&this.Xu.size>0},t.prototype.sc=function(){return 0===this.tc.size},t.prototype.mc=function(){this.Zu=null},t.prototype.hc=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return this.Xu.forEach((function(e,n){t.Ac(e)})),[2]}))}))},t.prototype.ac=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.mc(),this.wc()?(this.rc.zu(t),this.Tc()):this.rc.set("Unknown"),[2]}))}))},t.prototype.uc=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.rc.set("Online"),!(t instanceof It&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.gc(t)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),d("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.yc(n)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof wt?this.Zu.Pe(t):t instanceof _t?this.Zu.De(t):this.Zu.ye(t),e.isEqual(R.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.Yu.mi()];case 8:return i=o.sent(),e.o(i)>=0?[4,this.pc(e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",r=o.sent()),[4,this.yc(r)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.yc=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n=this;return o.__generator(this,(function(i){switch(i.label){case 0:if(!Hr(t))throw t;return this.tc.add(1),[4,this.Ic()];case 1:return i.sent(),this.rc.set("Offline"),e||(e=function(){return n.Yu.mi()}),this.Ro.dr((function(){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.tc.delete(1),[4,this.dc()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.bc=function(t){var e=this;return t().catch((function(n){return e.yc(n,t)}))},t.prototype.pc=function(t){var e=this,n=this.Zu.Ne(t);return n.Qt.forEach((function(n,r){if(n.resumeToken.H()>0){var i=e.Xu.get(r);i&&e.Xu.set(r,i.tt(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.Xu.get(t);if(n){e.Xu.set(t,n.tt(K.Y,n.X)),e.Pc(t);var r=new J(n.target,t,1,n.sequenceNumber);e.Ac(r)}})),this.Vc.qh(n)},t.prototype.gc=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r;return o.__generator(this,(function(o){switch(o.label){case 0:e=t.cause,n=0,i=t.targetIds,o.label=1;case 1:return n<i.length?(r=i[n],this.Xu.has(r)?[4,this.Vc.vc(r,e)]:[3,3]):[3,5];case 2:o.sent(),this.Xu.delete(r),this.Zu.removeTarget(r),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.Ec=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n;return o.__generator(this,(function(r){switch(r.label){case 0:t=this.Ju.length>0?this.Ju[this.Ju.length-1].batchId:-1,r.label=1;case 1:if(!this.Sc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.Yu.jh(t)];case 3:return null===(e=r.sent())?(0===this.Ju.length&&this.cc.hu(),[3,7]):(t=e.batchId,this.Dc(e),[3,6]);case 4:return n=r.sent(),[4,this.yc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Cc()&&this.Fc(),[2]}}))}))},t.prototype.Sc=function(){return this.sc()&&this.Ju.length<10},t.prototype.Nc=function(){return this.Ju.length},t.prototype.Dc=function(t){this.Ju.push(t),this.cc.iu()&&this.cc.Vu&&this.cc.gu(t.mutations)},t.prototype.Cc=function(){return this.sc()&&!this.cc.su()&&this.Ju.length>0},t.prototype.Fc=function(){this.cc.start()},t.prototype.lc=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.cc.bu(),[2]}))}))},t.prototype.fc=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n;return o.__generator(this,(function(r){for(t=0,e=this.Ju;t<e.length;t++)n=e[t],this.cc.gu(n.mutations);return[2]}))}))},t.prototype.yu=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=this.Ju.shift(),i=Sn.from(n,t,e),[4,this.bc((function(){return r.Vc.$c(i)}))];case 1:return o.sent(),[4,this.Ec()];case 2:return o.sent(),[2]}}))}))},t.prototype._c=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return t&&this.cc.Vu?[4,this.kc(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Cc()&&this.Fc(),[2]}}))}))},t.prototype.kc=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return o.__generator(this,(function(r){switch(r.label){case 0:return $(n=t.code)&&n!==P.ABORTED?(e=this.Ju.shift(),this.cc.ou(),[4,this.bc((function(){return i.Vc.xc(e.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,this.Ec()];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.Mc=function(){return new To(this.Fu)},t.prototype.ic=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.tc.add(4),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Unknown"),this.tc.delete(4),[4,this.dc()];case 2:return t.sent(),[2]}}))}))},t.prototype.Oc=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.Ro.Ko(),d("RemoteStore","RemoteStore received new credentials"),this.tc.add(3),[4,this.Ic()];case 1:return e.sent(),this.rc.set("Unknown"),[4,this.Vc.Oc(t)];case 2:return e.sent(),this.tc.delete(3),[4,this.dc()];case 3:return e.sent(),[2]}}))}))},t.prototype.Lc=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return t?(this.tc.delete(2),[4,this.dc()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.tc.add(2),[4,this.Ic()]);case 3:e.sent(),this.rc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function So(t,e){return"firestore_clients_"+t+"_"+e}function Oo(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Yr()&&(r+="_"+e.uid),r}function ko(t,e){return"firestore_targets_"+t+"_"+e}var Po=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Bc=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new D(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.qc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Do=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Bc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new D(r.error.code,r.error.message)),i?new t(e,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.qc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Bc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=vt(),s=0;i&&s<r.activeTargetIds.length;++s)i=B(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ro=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Bc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),Co=function(){function t(){this.activeTargetIds=vt()}return t.prototype.Uc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Qc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.qc=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Lo=function(){function t(t,e,n,r,i){this.window=t,this.bs=e,this.persistenceKey=n,this.Wc=r,this.Vc=null,this.qu=null,this.Ps=null,this.jc=this.Kc.bind(this),this.Gc=new tt(I),this.hr=!1,this.zc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Hc=So(this.persistenceKey,this.Wc),this.Yc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Gc=this.Gc.nt(this.Wc,new Co),this.Jc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Xc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Zc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.tl=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.jc)}return t.Hi=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,s,u,a,c,h,f,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.Vc.Dr()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Wc&&(r=this.getItem(So(this.persistenceKey,i)))&&(s=xo.Bc(i,r))&&(this.Gc=this.Gc.nt(s.clientId,s));for(this.el(),(u=this.storage.getItem(this.tl))&&(a=this.nl(u))&&this.sl(a),c=0,h=this.zc;c<h.length;c++)f=h[c],this.Kc(f);return this.zc=[],this.window.addEventListener("unload",(function(){return l.yr()})),this.hr=!0,[2]}}))}))},t.prototype.ys=function(t){this.setItem(this.Yc,JSON.stringify(t))},t.prototype.il=function(){return this.rl(this.Gc)},t.prototype.ol=function(t){var e=!1;return this.Gc.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.hl=function(t){this.al(t,"pending")},t.prototype.ul=function(t,e,n){this.al(t,e,n),this.cl(t)},t.prototype.ll=function(t){var e="not-current";if(this.ol(t)){var n=this.storage.getItem(ko(this.persistenceKey,t));if(n){var r=Do.Bc(t,n);r&&(e=r.state)}}return this._l.Uc(t),this.el(),e},t.prototype.fl=function(t){this._l.Qc(t),this.el()},t.prototype.dl=function(t){return this._l.activeTargetIds.has(t)},t.prototype.wl=function(t){this.removeItem(ko(this.persistenceKey,t))},t.prototype.Tl=function(t,e,n){this.El(t,e,n)},t.prototype.Nh=function(t,e,n){var r=this;e.forEach((function(t){r.cl(t)})),this.currentUser=t,n.forEach((function(t){r.hl(t)}))},t.prototype.Il=function(t){this.ml(t)},t.prototype.yr=function(){this.hr&&(this.window.removeEventListener("storage",this.jc),this.removeItem(this.Hc),this.hr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Kc=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Hc)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bs.dr((function(){return o.__awaiter(e,void 0,void 0,(function(){var t,e,i,r,s,u;return o.__generator(this,(function(o){if(this.hr){if(null!==n.key)if(this.Jc.test(n.key)){if(null==n.newValue)return t=this.Al(n.key),[2,this.Rl(t,null)];if(e=this.Pl(n.key,n.newValue))return[2,this.Rl(e.clientId,e)]}else if(this.Xc.test(n.key)){if(null!==n.newValue&&(i=this.Vl(n.key,n.newValue)))return[2,this.gl(i)]}else if(this.Zc.test(n.key)){if(null!==n.newValue&&(r=this.yl(n.key,n.newValue)))return[2,this.pl(r)]}else if(n.key===this.tl){if(null!==n.newValue&&(s=this.nl(n.newValue)))return[2,this.sl(s)]}else n.key===this.Yc&&(u=function(t){var e=Cn.ps;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Cn.ps&&this.Ps(u)}else this.zc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"_l",{get:function(){return this.Gc.get(this.Wc)},enumerable:!1,configurable:!0}),t.prototype.el=function(){this.setItem(this.Hc,this._l.qc())},t.prototype.al=function(t,e,n){var r=new Po(this.currentUser,t,e,n),i=Oo(this.persistenceKey,this.currentUser,t);this.setItem(i,r.qc())},t.prototype.cl=function(t){var e=Oo(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ml=function(t){var e={clientId:this.Wc,onlineState:t};this.storage.setItem(this.tl,JSON.stringify(e))},t.prototype.El=function(t,e,n){var r=ko(this.persistenceKey,t),i=new Do(t,e,n);this.setItem(r,i.qc())},t.prototype.Al=function(t){var e=this.Jc.exec(t);return e?e[1]:null},t.prototype.Pl=function(t,e){var n=this.Al(t);return xo.Bc(n,e)},t.prototype.Vl=function(t,e){var n=this.Xc.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Po.Bc(new po(i),r,e)},t.prototype.yl=function(t,e){var n=this.Zc.exec(t),r=Number(n[1]);return Do.Bc(r,e)},t.prototype.nl=function(t){return Ro.Bc(t)},t.prototype.gl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Vc.bl(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.pl=function(t){return this.Vc.vl(t.targetId,t.state,t.error)},t.prototype.Rl=function(t,e){var n=this,r=e?this.Gc.nt(t,e):this.Gc.remove(t),i=this.rl(this.Gc),o=this.rl(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this.Vc.Sl(s,u).then((function(){n.Gc=r}))},t.prototype.sl=function(t){this.Gc.get(t.clientId)&&this.qu(t.onlineState)},t.prototype.rl=function(t){var e=vt();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),jo=function(){function t(){this.Dl=new Co,this.Cl={},this.Vc=null,this.qu=null,this.Ps=null}return t.prototype.hl=function(t){},t.prototype.ul=function(t,e,n){},t.prototype.ll=function(t){return this.Dl.Uc(t),this.Cl[t]||"not-current"},t.prototype.Tl=function(t,e,n){this.Cl[t]=e},t.prototype.fl=function(t){this.Dl.Qc(t)},t.prototype.dl=function(t){return this.Dl.activeTargetIds.has(t)},t.prototype.wl=function(t){delete this.Cl[t]},t.prototype.il=function(){return this.Dl.activeTargetIds},t.prototype.ol=function(t){return this.Dl.activeTargetIds.has(t)},t.prototype.start=function(){return this.Dl=new Co,Promise.resolve()},t.prototype.Nh=function(t,e,n){},t.prototype.Il=function(t){},t.prototype.yr=function(){},t.prototype.ys=function(t){},t}(),Mo=function(t){this.key=t},Vo=function(t){this.key=t},Uo=function(){function t(t,e){this.query=t,this.Fl=e,this.Nl=null,this.Ht=!1,this.$l=lt(),this.Lt=lt(),this.kl=ln(t),this.xl=new yt(this.kl)}return Object.defineProperty(t.prototype,"Ml",{get:function(){return this.Fl},enumerable:!1,configurable:!0}),t.prototype.Ol=function(t,e){var n=this,r=e?e.Ll:new gt,i=e?e.xl:this.xl,o=e?e.Lt:this.Lt,s=i,u=!1,a=this.query.In()&&i.size===this.query.limit?i.last():null,c=this.query.mn()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var h=i.get(t),f=e instanceof rn?e:null;f&&(f=fn(n.query,f)?f:null);var l=!!h&&n.Lt.has(h.key),p=!!f&&(f.Ge||n.Lt.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.Bl(h,f)||(r.track({type:2,doc:f}),d=!0,(a&&n.kl(f,a)>0||c&&n.kl(f,c)<0)&&(u=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(a||c)&&(u=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.In()||this.query.mn())for(;s.size>this.query.limit;){var h=this.query.In()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{xl:s,Ll:r,ql:u,Lt:o}},t.prototype.Bl=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Jn=function(t,e,n){var r=this,i=this.xl;this.xl=t.xl,this.Lt=t.Lt;var o=t.Ll.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return p()}};return n(t)-n(e)}(t.type,e.type)||r.kl(t.doc,e.doc)})),this.Ul(n);var s=e?this.Ql():[],u=0===this.$l.size&&this.Ht?1:0,a=u!==this.Nl;return this.Nl=u,0!==o.length||a?{snapshot:new dt(this.query,t.xl,i,o,t.Lt,0===u,a,!1),Wl:s}:{Wl:s}},t.prototype.jl=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.Jn({xl:this.xl,Ll:new gt,Lt:this.Lt,ql:!1},!1)):{Wl:[]}},t.prototype.Kl=function(t){return!this.Fl.has(t)&&!!this.xl.has(t)&&!this.xl.get(t).Ge},t.prototype.Ul=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Fl=e.Fl.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Fl=e.Fl.delete(t)})),this.Ht=t.Ht)},t.prototype.Ql=function(){var t=this;if(!this.Ht)return[];var e=this.$l;this.$l=lt(),this.xl.forEach((function(e){t.Kl(e.key)&&(t.$l=t.$l.add(e.key))}));var n=[];return e.forEach((function(e){t.$l.has(e)||n.push(new Vo(e))})),this.$l.forEach((function(t){e.has(t)||n.push(new Mo(t))})),n},t.prototype.Gl=function(t){this.Fl=t.Yh,this.$l=lt();var e=this.Ol(t.documents);return this.Jn(e,!0)},t.prototype.zl=function(){return dt.Ut(this.query,this.xl,this.Lt,0===this.Nl)},t}(),Fo=function(){function t(t,e,n,r){this.Ro=t,this.Fu=e,this.updateFunction=n,this.yo=r,this.Hl=5,this.xo=new jn(this.Ro,"transaction_retry")}return t.prototype.run=function(){this.Yl()},t.prototype.Yl=function(){var t=this;this.xo.xs((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=new To(this.Fu),(e=this.Jl(t))&&e.then((function(e){n.Ro.lr((function(){return t.commit().then((function(){n.yo.resolve(e)})).catch((function(t){n.Xl(t)}))}))})).catch((function(t){n.Xl(t)})),[2]}))}))}))},t.prototype.Jl=function(t){try{var e=this.updateFunction(t);return!U(e)&&e.catch&&e.then?e:(this.yo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.yo.reject(t),null}},t.prototype.Xl=function(t){var e=this;this.Hl>0&&this.Zl(t)?(this.Hl-=1,this.Ro.lr((function(){return e.Yl(),Promise.resolve()}))):this.yo.reject(t)},t.prototype.Zl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$(e)}return!1},t}(),qo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bo=function(t){this.key=t,this.t_=!1},Go=function(){function t(t,e,n,r,i,o){this.Yu=t,this.e_=e,this.Fu=n,this.n_=r,this.currentUser=i,this.s_=o,this.i_=null,this.r_=new k((function(t){return cn(t)}),un),this.o_=new Map,this.h_=[],this.a_=new tt(V.P),this.u_=new Map,this.c_=new hi,this.l_={},this.__=new Map,this.f_=sr.di(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"d_",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.i_=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.w_("listen()"),(i=this.r_.get(t))?(e=i.targetId,this.n_.ll(e),n=i.view.zl(),[3,4]):[3,1];case 1:return[4,this.Yu.Gh(t.We())];case 2:return r=o.sent(),s=this.n_.ll(r.targetId),e=r.targetId,[4,this.T_(t,e,"current"===s)];case 3:n=o.sent(),this.d_&&this.e_.listen(r),o.label=4;case 4:return[2,n]}}))}))},t.prototype.T_=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,s,u,a,c;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.Yu.Hh(t,!0)];case 1:return i=o.sent(),r=new Uo(t,i.Yh),s=r.Ol(i.documents),u=bt.zt(e,n&&"Offline"!==this.onlineState),a=r.Jn(s,this.d_,u),this.E_(e,a.Wl),c=new qo(t,e,r),[2,(this.r_.set(t,c),this.o_.has(e)?this.o_.get(e).push(t):this.o_.set(e,[t]),a.snapshot)]}}))}))},t.prototype.Rc=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.w_("unlisten()"),e=this.r_.get(t),(n=this.o_.get(e.targetId)).length>1?[2,(this.o_.set(e.targetId,n.filter((function(e){return!un(e,t)}))),void this.r_.delete(t))]:this.d_?(this.n_.fl(e.targetId),this.n_.ol(e.targetId)?[3,2]:[4,this.Yu.zh(e.targetId,!1).then((function(){i.n_.wl(e.targetId),i.e_.Rc(e.targetId),i.I_(e.targetId)})).catch(ci)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.I_(e.targetId),[4,this.Yu.zh(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r;return o.__generator(this,(function(o){switch(o.label){case 0:this.w_("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.Yu.Mh(t)];case 2:return n=o.sent(),this.n_.hl(n.batchId),this.m_(n.batchId,e),[4,this.A_(n.Un)];case 3:return o.sent(),[4,this.e_.Ec()];case 4:return o.sent(),[3,6];case 5:return i=o.sent(),r=ti(i,"Failed to persist write"),e.reject(r),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Fo(t,this.Fu,e,n).run()},t.prototype.qh=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.w_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Yu.qh(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.u_.get(e);r&&(m(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.t_=!0:t.Jt.size>0?m(r.t_):t.Xt.size>0&&(m(r.t_),r.t_=!1))})),[4,this.A_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,ci(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.jl=function(t,e){this.w_("applyOnlineStateChange()");var n=[];this.r_.forEach((function(e,r){var i=r.view.jl(t);i.snapshot&&n.push(i.snapshot)})),this.i_.R_(t),this.i_.mu(n),this.onlineState=t},t.prototype.vc=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,s,u,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.w_("rejectListens()"),this.n_.Tl(t,"rejected",e),n=this.u_.get(t),(i=n&&n.key)?(r=(r=new tt(V.P)).nt(i,new on(i,R.min())),s=lt().add(i),u=new mt(R.min(),new Map,new it(I),r,s),[4,this.qh(u)]):[3,2];case 1:return o.sent(),this.a_=this.a_.remove(i),this.u_.delete(t),this.P_(),[3,4];case 2:return[4,this.Yu.zh(t,!1).then((function(){return a.I_(t,e)})).catch(ci)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},t.prototype.$c=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.w_("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Yu.Oh(t)];case 2:return n=r.sent(),this.V_(e,null),this.g_(e),this.n_.ul(e,"acknowledged"),[4,this.A_(n)];case 3:return r.sent(),[3,6];case 4:return[4,ci(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.xc=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.w_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Yu.Bh(t)];case 2:return n=r.sent(),this.V_(t,e),this.g_(t),this.n_.ul(t,"rejected",e),[4,this.A_(n)];case 3:return r.sent(),[3,6];case 4:return[4,ci(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.y_=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r;return o.__generator(this,(function(o){switch(o.label){case 0:this.e_.sc()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.Yu.no()];case 2:return-1===(e=o.sent())?[2,void t.resolve()]:((n=this.__.get(e)||[]).push(t),this.__.set(e,n),[3,4]);case 3:return i=o.sent(),r=ti(i,"Initialization of waitForPendingWrites() operation failed"),t.reject(r),[3,4];case 4:return[2]}}))}))},t.prototype.g_=function(t){(this.__.get(t)||[]).forEach((function(t){t.resolve()})),this.__.delete(t)},t.prototype.p_=function(t){this.__.forEach((function(e){e.forEach((function(e){e.reject(new D(P.CANCELLED,t))}))})),this.__.clear()},t.prototype.m_=function(t,e){var n=this.l_[this.currentUser.Ma()];n||(n=new tt(I)),n=n.nt(t,e),this.l_[this.currentUser.Ma()]=n},t.prototype.V_=function(t,e){var n=this.l_[this.currentUser.Ma()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.l_[this.currentUser.Ma()]=n}},t.prototype.I_=function(t,e){var n=this;void 0===e&&(e=null),this.n_.fl(t);for(var r=0,i=this.o_.get(t);r<i.length;r++){var o=i[r];this.r_.delete(o),e&&this.i_.b_(o,e)}this.o_.delete(t),this.d_&&this.c_.aa(t).forEach((function(t){n.c_.Mi(t)||n.v_(t)}))},t.prototype.v_=function(t){var e=this.a_.get(t);null!==e&&(this.e_.Rc(e),this.a_=this.a_.remove(t),this.u_.delete(e),this.P_())},t.prototype.E_=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Mo?(this.c_.Fi(i.key,t),this.S_(i)):i instanceof Vo?(d("SyncEngine","Document no longer in limbo: "+i.key),this.c_.$i(i.key,t),this.c_.Mi(i.key)||this.v_(i.key)):p()}},t.prototype.S_=function(t){var e=t.key;this.a_.get(e)||(d("SyncEngine","New document in limbo: "+e),this.h_.push(e),this.P_())},t.prototype.P_=function(){for(;this.h_.length>0&&this.a_.size<this.s_;){var t=this.h_.shift(),e=this.f_.next();this.u_.set(e,new Bo(t)),this.a_=this.a_.nt(t,e),this.e_.listen(new J(an.hn(t.path).We(),e,2,Cn.ps))}},t.prototype.D_=function(){return this.a_},t.prototype.C_=function(){return this.h_},t.prototype.A_=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],i=[],r=[],this.r_.forEach((function(o,u){r.push(Promise.resolve().then((function(){var e=u.view.Ol(t);return e.ql?s.Yu.Hh(u.query,!1).then((function(t){var n=t.documents;return u.view.Ol(n,e)})):e})).then((function(t){var r=e&&e.Qt.get(u.targetId),o=u.view.Jn(t,s.d_,r);if(s.E_(u.targetId,o.Wl),o.snapshot){s.d_&&s.n_.Tl(u.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var a=Rn.Rs(u.targetId,o.snapshot);i.push(a)}})))})),[4,Promise.all(r)];case 1:return o.sent(),this.i_.mu(n),[4,this.Yu.Wh(i)];case 2:return o.sent(),[2]}}))}))},t.prototype.w_=function(t){},t.prototype.Oc=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(d("SyncEngine","User change. New user:",t.Ma()),[4,this.Yu.Nh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.p_("'waitForPendingWrites' promise is rejected due to a user change."),this.n_.Nh(t,e.kh,e.xh),[4,this.A_(e.$h)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.e_.enableNetwork()},t.prototype.disableNetwork=function(){return this.e_.disableNetwork()},t.prototype.xe=function(t){var e=this.u_.get(t);if(e&&e.t_)return lt().add(e.key);var n=lt(),r=this.o_.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],u=this.r_.get(s);n=n.Ct(u.view.Ml)}return n},t}(),zo=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,o,s)||this).Yu=e,u.F_=void 0,u}return o.__extends(e,t),Object.defineProperty(e.prototype,"d_",{get:function(){return!0===this.F_},enumerable:!1,configurable:!0}),e.prototype.enableNetwork=function(){return this.Yu.cr(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.Yu.cr(!1),t.prototype.disableNetwork.call(this)},e.prototype.N_=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Yu.Hh(t.query,!0)];case 1:return e=r.sent(),n=t.view.Gl(e),[2,(this.F_&&this.E_(t.targetId,n.Wl),n)]}}))}))},e.prototype.jl=function(e,n){this.d_&&0===n&&(t.prototype.jl.call(this,e,n),this.n_.Il(e)),this.d_||1!==n||t.prototype.jl.call(this,e,n)},e.prototype.bl=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i;return o.__generator(this,(function(r){switch(r.label){case 0:return this.w_("applyBatchState()"),[4,this.Yu.Xh(t)];case 1:return null===(i=r.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.e_.Ec()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.V_(t,n||null),this.Yu.Zh(t)):p(),r.label=4;case 4:return[4,this.A_(i)];case 5:return r.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))},e.prototype.Lc=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s,u,a,c=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.F_?[3,3]:(e=this.n_.il(),[4,this.k_(e.F(),!0)]);case 1:return n=o.sent(),this.F_=!0,[4,this.e_.Lc(!0)];case 2:for(o.sent(),i=0,r=n;i<r.length;i++)s=r[i],this.e_.listen(s);return[3,7];case 3:return!1!==t||!1===this.F_?[3,7]:(u=[],a=Promise.resolve(),this.o_.forEach((function(t,e){c.n_.dl(e)?u.push(e):a=a.then((function(){return c.I_(e),c.Yu.zh(e,!0)})),c.e_.Rc(e)})),[4,a]);case 4:return o.sent(),[4,this.k_(u,!1)];case 5:return o.sent(),this.x_(),this.F_=!1,[4,this.e_.Lc(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},e.prototype.x_=function(){var t=this;this.u_.forEach((function(e,n){t.e_.Rc(n)})),this.c_.ua(),this.u_=new Map,this.a_=new tt(V.P)},e.prototype.k_=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s,u,a,c,h,f,l,p,d;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],i=0,r=t,o.label=1;case 1:return i<r.length?(s=r[i],u=void 0,(a=this.o_.get(s))&&0!==a.length?[4,this.Yu.Gh(a[0].We())]:[3,7]):[3,13];case 2:u=o.sent(),c=0,h=a,o.label=3;case 3:return c<h.length?(f=h[c],l=this.r_.get(f),[4,this.N_(l)]):[3,6];case 4:(p=o.sent()).snapshot&&n.push(p.snapshot),o.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,this.Yu.ta(s)];case 8:return d=o.sent(),[4,this.Yu.Gh(d)];case 9:return u=o.sent(),[4,this.T_(this.M_(d),s,!1)];case 10:o.sent(),o.label=11;case 11:e.push(u),o.label=12;case 12:return i++,[3,1];case 13:return[2,(this.i_.mu(n),e)]}}))}))},e.prototype.M_=function(t){return new an(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.Dr=function(){return this.Yu.Dr()},e.prototype.vl=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r;return o.__generator(this,(function(o){switch(o.label){case 0:return this.F_?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.o_.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Yu.si()];case 3:return i=o.sent(),r=mt.Gt(t,"current"===e),[4,this.A_(i,r)];case 4:return o.sent(),[3,8];case 5:return[4,this.Yu.zh(t,!0)];case 6:return o.sent(),this.I_(t,n),[3,8];case 7:p(),o.label=8;case 8:return[2]}}))}))},e.prototype.Sl=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,s,u,a,c,h,f,p,l=this;return o.__generator(this,(function(v){switch(v.label){case 0:if(!this.F_)return[3,10];n=0,i=t,v.label=1;case 1:return n<i.length?(r=i[n],this.o_.has(r)?(d("SyncEngine","Adding an already active target "+r),[3,5]):[4,this.Yu.ta(r)]):[3,6];case 2:return s=v.sent(),[4,this.Yu.Gh(s)];case 3:return u=v.sent(),[4,this.T_(this.M_(s),u.targetId,!1)];case 4:v.sent(),this.e_.listen(u),v.label=5;case 5:return n++,[3,1];case 6:a=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return c.o_.has(t)?[4,c.Yu.zh(t,!1).then((function(){l.e_.Rc(t),l.I_(t)})).catch(ci)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,h=0,f=e,v.label=7;case 7:return h<f.length?(p=f[h],[5,a(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},e}(Go),Ho=function(){this.O_=void 0,this.listeners=[]},Wo=function(){function t(t){this.Vc=t,this.L_=new k((function(t){return cn(t)}),un),this.onlineState="Unknown",this.B_=new Set,this.Vc.subscribe(this)}return t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s,u;return o.__generator(this,(function(o){switch(o.label){case 0:if(e=t.query,n=!1,(i=this.L_.get(e))||(n=!0,i=new Ho),!n)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),r=i,[4,this.Vc.listen(e)];case 2:return r.O_=o.sent(),[3,4];case 3:return s=o.sent(),u=ti(s,"Initialization of query '"+hn(t.query)+"' failed"),[2,void t.onError(u)];case 4:return this.L_.set(e,i),i.listeners.push(t),t.jl(this.onlineState),i.O_&&t.q_(i.O_)&&this.U_(),[2]}}))}))},t.prototype.Rc=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r;return o.__generator(this,(function(o){return e=t.query,n=!1,(i=this.L_.get(e))&&(r=i.listeners.indexOf(t))>=0&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?[2,(this.L_.delete(e),this.Vc.Rc(e))]:[2]}))}))},t.prototype.mu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.L_.get(o);if(s){for(var u=0,a=s.listeners;u<a.length;u++)a[u].q_(i)&&(e=!0);s.O_=i}}e&&this.U_()},t.prototype.b_=function(t,e){var n=this.L_.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.L_.delete(t)},t.prototype.R_=function(t){this.onlineState=t;var e=!1;this.L_.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].jl(t)&&(e=!0)})),e&&this.U_()},t.prototype.Q_=function(t){this.B_.add(t),t.next()},t.prototype.W_=function(t){this.B_.delete(t)},t.prototype.U_=function(){this.B_.forEach((function(t){t.next()}))},t}(),Ko=function(){function t(t,e,n){this.query=t,this.j_=e,this.K_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.q_=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new dt(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.Bt,!0)}var o=!1;return this.K_?this.z_(t)&&(this.j_.next(t),o=!0):this.H_(t,this.onlineState)&&(this.Y_(t),o=!0),this.G_=t,o},t.prototype.onError=function(t){this.j_.error(t)},t.prototype.jl=function(t){this.onlineState=t;var e=!1;return this.G_&&!this.K_&&this.H_(this.G_,t)&&(this.Y_(this.G_),e=!0),e},t.prototype.H_=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.J_&&n||t.docs._()&&"Offline"!==e)},t.prototype.z_=function(t){if(t.docChanges.length>0)return!0;var e=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Y_=function(t){t=dt.Ut(t.query,t.docs,t.Lt,t.fromCache),this.K_=!0,this.j_.next(t)},t}(),Xo=function(){function t(){}return t.prototype.Fh=function(t){this.X_=t},t.prototype._s=function(t,e,n,i){var r=this;return e.En()||n.isEqual(R.min())?this.Z_(t,e):this.X_.us(t,i).next((function(s){var u=r.tf(e,s);return(e.In()||e.mn())&&r.ql(e.nn,u,i,n)?r.Z_(t,e):(l()<=h.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hn(e)),r.X_._s(t,e,n).next((function(t){return u.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.tf=function(t,e){var n=new it(ln(t));return e.forEach((function(e,r){r instanceof rn&&fn(t,r)&&(n=n.add(r))})),n},t.prototype.ql=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Z_=function(t,e){return l()<=h.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",hn(e)),this.X_._s(t,e,R.min())},t}(),Yo=function(){function t(t,e){this.ss=t,this.wi=e,this.ns=[],this.ef=1,this.nf=new it(fi.na)}return t.prototype.Jr=function(t){return On.resolve(0===this.ns.length)},t.prototype.Xr=function(t,e,n,r){var i=this.ef;this.ef++,this.ns.length>0&&this.ns[this.ns.length-1];var o=new Nn(i,e,n,r);this.ns.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.nf=this.nf.add(new fi(a.key,i)),this.ss.Us(t,a.key.path.p())}return On.resolve(o)},t.prototype.Zr=function(t,e){return On.resolve(this.sf(e))},t.prototype.eo=function(t,e){var n=e+1,r=this.if(n),i=r<0?0:r;return On.resolve(this.ns.length>i?this.ns[i]:null)},t.prototype.no=function(){return On.resolve(0===this.ns.length?-1:this.ef-1)},t.prototype.so=function(t){return On.resolve(this.ns.slice())},t.prototype.os=function(t,e){var n=this,r=new fi(e,0),i=new fi(e,Number.POSITIVE_INFINITY),o=[];return this.nf.vt([r,i],(function(t){var e=n.sf(t.la);o.push(e)})),On.resolve(o)},t.prototype.ls=function(t,e){var n=this,r=new it(I);return e.forEach((function(t){var e=new fi(t,0),i=new fi(t,Number.POSITIVE_INFINITY);n.nf.vt([e,i],(function(t){r=r.add(t.la)}))})),On.resolve(this.rf(r))},t.prototype.Es=function(t,e){var n=e.path,r=n.length+1,i=n;V.W(i)||(i=i.child(""));var o=new fi(new V(i),0),s=new it(I);return this.nf.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.la)),!0)}),o),On.resolve(this.rf(s))},t.prototype.rf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.sf(t);null!==r&&n.push(r)})),n},t.prototype.ro=function(t,e){var n=this;m(0===this.hf(e.batchId,"removed")),this.ns.shift();var r=this.nf;return On.forEach(e.mutations,(function(i){var o=new fi(i.key,e.batchId);return r=r.delete(o),n.wi.Qr(t,i.key)})).next((function(){n.nf=r}))},t.prototype.oo=function(t){},t.prototype.Mi=function(t,e){var n=new fi(e,0),r=this.nf.Dt(n);return On.resolve(e.isEqual(r&&r.key))},t.prototype.ho=function(t){return this.ns.length,On.resolve()},t.prototype.hf=function(t,e){return this.if(t)},t.prototype.if=function(t){return 0===this.ns.length?0:t-this.ns[0].batchId},t.prototype.sf=function(t){var e=this.if(t);return e<0||e>=this.ns.length?null:this.ns[e]},t}(),Jo=function(){function t(t,e){this.ss=t,this.af=e,this.docs=new tt(V.P),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.af(e);return this.docs=this.docs.nt(r,{Ys:e,size:s,readTime:n}),this.size+=s-o,this.ss.Us(t,r.path.p())},t.prototype.Gn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.zn=function(t,e){var n=this.docs.get(e);return On.resolve(n?n.Ys:null)},t.prototype.getEntries=function(t,e){var n=this,r=at();return e.forEach((function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Ys:null)})),On.resolve(r)},t.prototype._s=function(t,e,n){for(var r=ct(),i=new V(e.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),u=s.key,a=s.value,c=a.Ys,h=a.readTime;if(!e.path.D(u.path))break;h.o(n)<=0||c instanceof rn&&fn(e,c)&&(r=r.nt(c.key,c))}return On.resolve(r)},t.prototype.uf=function(t,e){return On.forEach(this.docs,(function(t){return e(t)}))},t.prototype.oi=function(e){return new t.hi(this)},t.prototype.ui=function(t){return On.resolve(this.size)},t}();Jo.hi=function(t){function e(e){var n=this;return(n=t.call(this)||this).ci=e,n}return o.__extends(e,t),e.prototype.Jn=function(t){var e=this,n=[];return this.Un.forEach((function(r,i){i?n.push(e.ci.jn(t,i,e.readTime)):e.ci.Gn(r)})),On.Bn(n)},e.prototype.Hn=function(t,e){return this.ci.zn(t,e)},e.prototype.Yn=function(t,e){return this.ci.getEntries(t,e)},e}(kn);var Qo=function(){function t(t){this.persistence=t,this.cf=new k((function(t){return q(t)}),H),this.lastRemoteSnapshotVersion=R.min(),this.highestTargetId=0,this.lf=0,this._f=new hi,this.targetCount=0,this.ff=sr.fi()}return t.prototype.pe=function(t,e){return this.cf.forEach((function(t,n){return e(n)})),On.resolve()},t.prototype.mi=function(t){return On.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ai=function(t){return On.resolve(this.lf)},t.prototype.Ti=function(t){return this.highestTargetId=this.ff.next(),On.resolve(this.highestTargetId)},t.prototype.Ri=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.lf&&(this.lf=e),On.resolve()},t.prototype.Vi=function(t){this.cf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ff=new sr(e),this.highestTargetId=e),t.sequenceNumber>this.lf&&(this.lf=t.sequenceNumber)},t.prototype.Pi=function(t,e){return this.Vi(e),this.targetCount+=1,On.resolve()},t.prototype.yi=function(t,e){return this.Vi(e),On.resolve()},t.prototype.pi=function(t,e){return this.cf.delete(e.target),this._f.aa(e.targetId),this.targetCount-=1,On.resolve()},t.prototype.vi=function(t,e,n){var r=this,i=0,o=[];return this.cf.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.cf.delete(s),o.push(r.bi(t,u.targetId)),i++)})),On.Bn(o).next((function(){return i}))},t.prototype.Si=function(t){return On.resolve(this.targetCount)},t.prototype.Di=function(t,e){var n=this.cf.get(e)||null;return On.resolve(n)},t.prototype.Ci=function(t,e,n){return this._f.ra(e,n),On.resolve()},t.prototype.Ni=function(t,e,n){this._f.ha(e,n);var r=this.persistence.wi,i=[];return r&&e.forEach((function(e){i.push(r.Qr(t,e))})),On.Bn(i)},t.prototype.bi=function(t,e){return this._f.aa(e),On.resolve()},t.prototype.ki=function(t,e){var n=this._f.ca(e);return On.resolve(n)},t.prototype.Mi=function(t,e){return On.resolve(this._f.Mi(e))},t}(),$o=function(){function t(t){var e=this;this.df={},this.Ui=new Cn(0),this.Qi=!1,this.Qi=!0,this.wi=t(this),this.Xi=new Qo(this),this.ss=new qn,this.es=new Jo(this.ss,(function(t){return e.wi.wf(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.yr=function(){return this.Qi=!1,Promise.resolve()},Object.defineProperty(t.prototype,"hr",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),t.prototype.ar=function(){},t.prototype.kr=function(){return this.ss},t.prototype.Cr=function(t){var e=this.df[t.Ma()];return e||(e=new Yo(this.ss,this.wi),this.df[t.Ma()]=e),e},t.prototype.Nr=function(){return this.Xi},t.prototype.$r=function(){return this.es},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new Zo(this.Ui.next());return this.wi.Tf(),n(i).next((function(t){return r.wi.Ef(i).next((function(){return t}))})).On().then((function(t){return i.ts(),t}))},t.prototype.If=function(t,e){return On.qn(Object.values(this.df).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),Zo=function(t){function e(e){var n=this;return(n=t.call(this)||this).Li=e,n}return o.__extends(e,t),e}(Dn),ts=function(){function t(t){this.persistence=t,this.mf=new hi,this.Af=null}return t.Rf=function(e){return new t(e)},Object.defineProperty(t.prototype,"Pf",{get:function(){if(this.Af)return this.Af;throw p()},enumerable:!1,configurable:!0}),t.prototype.Fi=function(t,e,n){return this.mf.Fi(n,e),this.Pf.delete(n),On.resolve()},t.prototype.$i=function(t,e,n){return this.mf.$i(n,e),this.Pf.add(n),On.resolve()},t.prototype.Qr=function(t,e){return this.Pf.add(e),On.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.mf.aa(e.targetId).forEach((function(t){return n.Pf.add(t)}));var r=this.persistence.Nr();return r.ki(t,e.targetId).next((function(t){t.forEach((function(t){return n.Pf.add(t)}))})).next((function(){return r.pi(t,e)}))},t.prototype.Tf=function(){this.Af=new Set},t.prototype.Ef=function(t){var e=this,n=this.persistence.$r().oi();return On.forEach(this.Pf,(function(r){return e.Vf(t,r).next((function(t){t||n.Gn(r)}))})).next((function(){return e.Af=null,n.apply(t)}))},t.prototype.Gr=function(t,e){var n=this;return this.Vf(t,e).next((function(t){t?n.Pf.delete(e):n.Pf.add(e)}))},t.prototype.wf=function(t){return 0},t.prototype.Vf=function(t,e){var n=this;return On.qn([function(){return On.resolve(n.mf.Mi(e))},function(){return n.persistence.Nr().Mi(t,e)},function(){return n.persistence.If(t,e)}])},t}(),es=function(){function t(t){this.gf=t.gf,this.yf=t.yf}return t.prototype.Eu=function(t){this.pf=t},t.prototype._u=function(t){this.bf=t},t.prototype.onMessage=function(t){this.vf=t},t.prototype.close=function(){this.yf()},t.prototype.send=function(t){this.gf(t)},t.prototype.Sf=function(){this.pf()},t.prototype.Df=function(t){this.bf(t)},t.prototype.Cf=function(t){this.vf(t)},t}(),ns={BatchGetDocuments:"batchGet",Commit:"commit"},rs="gl-js/ fire/"+u,is=function(){function t(t){this.s=t.s;var e=t.ssl?"https":"http";this.Ff=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Nf=function(t,e){if(e)for(var n in e.Ba)e.Ba.hasOwnProperty(n)&&(t[n]=e.Ba[n]);t["X-Goog-Api-Client"]=rs},t.prototype.Du=function(t,e,n){var r=this,i=this.$f(t);return new Promise((function(s,u){var a=new f.XhrIo;a.listenOnce(f.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case f.ErrorCode.NO_ERROR:var e=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),s(e);break;case f.ErrorCode.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),u(new D(P.DEADLINE_EXCEEDED,"Request time out"));break;case f.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(P).indexOf(e)>=0?e:P.UNKNOWN}(r.status);u(new D(i,r.message))}else u(new D(P.UNKNOWN,"Server responded with status "+a.getStatus()))}else d("Connection",'RPC "'+t+'" failed'),u(new D(P.UNAVAILABLE,"Connection failed."));break;default:p()}}finally{d("Connection",'RPC "'+t+'" completed.')}}));var o=Object.assign({},e);delete o.database;var c=JSON.stringify(o);d("Connection","XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r.Nf(h,n),a.send(i,"POST",c,h,15)}))},t.prototype.Cu=function(t,e,n){return this.Du(t,e,n)},t.prototype.Iu=function(t,e){var s=[this.Ff,"/","google.firestore.v1.Firestore","/",t,"/channel"],n=f.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Nf(r.initMessageHeaders,e),i.isMobileCordova()||i.isReactNative()||i.isElectron()||i.isIE()||i.isUWP()||i.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var p=s.join("");d("Connection","Creating WebChannel: "+p+" "+r);var c=n.createWebChannel(p,r),l=!1,g=!1,v=new es({gf:function(t){g?d("Connection","Not sending because WebChannel is closed:",t):(l||(d("Connection","Opening WebChannel transport."),c.open(),l=!0),d("Connection","WebChannel sending:",t),c.send(t))},yf:function(){return c.close()}}),w=function(t,e){c.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return w(f.WebChannel.EventType.OPEN,(function(){g||d("Connection","WebChannel transport opened.")})),w(f.WebChannel.EventType.CLOSE,(function(){g||(g=!0,d("Connection","WebChannel transport closed"),v.Df())})),w(f.WebChannel.EventType.ERROR,(function(t){g||(g=!0,function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(a.logLevel<=h.LogLevel.WARN){var n=e.map(y);a.warn.apply(a,o.__spreadArrays(["Firestore ("+u+"): "+t],n))}}("Connection","WebChannel transport errored:",t),v.Df(new D(P.UNAVAILABLE,"The operation could not be completed")))})),w(f.WebChannel.EventType.MESSAGE,(function(t){var e;if(!g){var n=t.data[0];m(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){d("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=X[t];if(void 0!==e)return Z(e)}(o),u=i.message;void 0===s&&(s=P.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),g=!0,v.Df(new D(s,u)),c.close()}else d("Connection","WebChannel received:",n),v.Cf(n)}})),setTimeout((function(){v.Sf()}),0),v},t.prototype.$f=function(t){var e=ns[t];return this.Ff+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),os=function(){function t(){var t=this;this.kf=function(){return t.xf()},this.Mf=function(){return t.Of()},this.Lf=[],this.Bf()}return t.prototype.nc=function(t){this.Lf.push(t)},t.prototype.yr=function(){window.removeEventListener("online",this.kf),window.removeEventListener("offline",this.Mf)},t.prototype.Bf=function(){window.addEventListener("online",this.kf),window.addEventListener("offline",this.Mf)},t.prototype.xf=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Lf;t<e.length;t++)(0,e[t])(0)},t.prototype.Of=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Lf;t<e.length;t++)(0,e[t])(1)},t.Hi=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ss=function(){function t(){}return t.prototype.nc=function(t){},t.prototype.yr=function(){},t}(),as="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",us=function(){function t(){}return t.prototype.initialize=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return this.n_=this.qf(t),this.persistence=this.Uf(t),[4,this.persistence.start()];case 1:return n.sent(),this.Qf=this.Wf(t),this.Yu=this.jf(t),this.e_=this.Kf(t),this.Vc=this.Gf(t),this.zf=this.Hf(t),this.n_.qu=function(t){return e.Vc.jl(t,1)},this.e_.Vc=this.Vc,[4,this.Yu.start()];case 2:return n.sent(),[4,this.n_.start()];case 3:return n.sent(),[4,this.e_.start()];case 4:return n.sent(),[4,this.e_.Lc(this.Vc.d_)];case 5:return n.sent(),[2]}}))}))},t.prototype.Hf=function(t){return new Wo(this.Vc)},t.prototype.Wf=function(t){return null},t.prototype.jf=function(t){return e=this.persistence,n=new Xo,r=t.Yf,new ai(e,n,r);var e,n,r},t.prototype.Uf=function(t){if(t.Xf.Jf)throw new D(P.FAILED_PRECONDITION,as);return new $o(ts.Rf)},t.prototype.Kf=function(t){var e=this;return new No(this.Yu,t.Fu,t.Ro,(function(t){return e.Vc.jl(t,0)}),os.Hi()?new os:new ss)},t.prototype.qf=function(t){return new jo},t.prototype.Gf=function(t){return e=this.Yu,n=this.e_,r=t.Fu,i=this.n_,o=t.Yf,s=t.s_,new Go(e,n,r,i,o,s);var e,n,r,i,o,s},t.prototype.clearPersistence=function(t){throw new D(P.FAILED_PRECONDITION,as)},t}(),cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.initialize=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n=this;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.persistence.or((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Vc.Lc(t)];case 1:return e.sent(),this.Qf&&(t&&!this.Qf.hr?this.Qf.start(this.Yu):t||this.Qf.stop()),[2]}}))}))}))];case 2:return i.sent(),[2]}}))}))},e.prototype.jf=function(t){return e=this.persistence,n=new Xo,r=t.Yf,new ui(e,n,r);var e,n,r},e.prototype.Gf=function(t){var e,n,r,i,o,s,u=(e=this.Yu,n=this.e_,r=t.Fu,i=this.n_,o=t.Yf,s=t.s_,new zo(e,n,r,i,o,s));return this.n_ instanceof Lo&&(this.n_.Vc=u),u},e.prototype.Wf=function(t){var e=this.persistence.wi.Or;return new oi(e,t.Ro)},e.prototype.Uf=function(t){var e=hr.Mr(t.Zf),n=Ki(t.Zf.s);return new hr(t.Xf.synchronizeTabs,e,t.clientId,ii.ah(t.Xf.cacheSizeBytes),t.Ro,Qr(),"undefined"!=typeof document?document:null,n,this.n_,t.Xf.qi)},e.prototype.qf=function(t){if(t.Xf.Jf&&t.Xf.synchronizeTabs){var e=Qr();if(!Lo.Hi(e))throw new D(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hr.Mr(t.Zf);return new Lo(e,t.Ro,n,t.clientId,t.Yf)}return new jo},e.prototype.clearPersistence=function(t){var e=hr.Mr(t);return hr.clearPersistence(e)},e}(us),hs=function(){function t(t,e){this.credentials=t,this.Ro=e,this.clientId=g.t()}return t.prototype.start=function(t,e,n){var r=this;this.Su(),this.Zf=t;var i=new Ln,o=new Ln,s=!1;return this.credentials.Qa((function(t){if(!s)return s=!0,d("FirestoreClient","Initializing. user=",t.uid),r.td(e,n,t,o).then(i.resolve,i.reject);r.Ro.dr((function(){return r.e_.Oc(t)}))})),this.Ro.lr((function(){return i.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Su(),this.Ro.enqueue((function(){return t.Vc.enableNetwork()}))},t.prototype.td=function(t,e,n,i){return o.__awaiter(this,void 0,void 0,(function(){var r,s,u,a,c,h=this;return o.__generator(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,(c=this.Zf,Promise.resolve(new is(c)))];case 1:return r=f.sent(),s=Ki(this.Zf.s),u=function(t,e,n){return new Eo(t,e,n)}(r,this.credentials,s),[4,t.initialize({Ro:this.Ro,Zf:this.Zf,Fu:u,clientId:this.clientId,Yf:n,s_:100,Xf:e})];case 2:return f.sent(),this.persistence=t.persistence,this.n_=t.n_,this.Yu=t.Yu,this.e_=t.e_,this.Vc=t.Vc,this.Qf=t.Qf,this.ed=t.zf,this.persistence.ar((function(){return o.__awaiter(h,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(a=f.sent(),i.reject(a),!this.nd(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.td(new us,{Jf:!1},n,i))];case 4:return[2]}}))}))},t.prototype.nd=function(t){return"FirebaseError"===t.name?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Su=function(){if(this.Ro.Oo)throw new D(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Su(),this.Ro.enqueue((function(){return t.Vc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Ro.Qo((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Qf&&this.Qf.stop(),[4,this.e_.yr()];case 1:return t.sent(),[4,this.n_.yr()];case 2:return t.sent(),[4,this.persistence.yr()];case 3:return t.sent(),this.credentials.Wa(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Su();var e=new Ln;return this.Ro.lr((function(){return t.Vc.y_(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Su();var i=new Ko(t,e,n);return this.Ro.lr((function(){return r.ed.listen(i)})),i},t.prototype.Rc=function(t){var e=this;this.sd||this.Ro.lr((function(){return e.ed.Rc(t)}))},t.prototype.rd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Su(),e=new Ln,[4,this.Ro.enqueue((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,i,r;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.Yu.Kh(t)];case 1:return(n=o.sent())instanceof rn?e.resolve(n):n instanceof on?e.resolve(null):e.reject(new D(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),r=ti(i,"Failed to get document '"+t+" from cache"),e.reject(r),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.od=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Su(),e=new Ln,[4,this.Ro.enqueue((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,i,r,s,u,a;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.Yu.Hh(t,!0)];case 1:return n=o.sent(),i=new Uo(t,n.Yh),r=i.Ol(n.documents),s=i.Jn(r,!1),e.resolve(s.snapshot),[3,3];case 2:return u=o.sent(),a=ti(u,"Failed to execute query '"+t+" against cache"),e.reject(a),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.Su();var n=new Ln;return this.Ro.lr((function(){return e.Vc.write(t,n)})),n.promise},t.prototype.s=function(){return this.Zf.s},t.prototype.Q_=function(t){var e=this;this.Su(),this.Ro.lr((function(){return e.ed.Q_(t),Promise.resolve()}))},t.prototype.W_=function(t){var e=this;this.sd||this.Ro.lr((function(){return e.ed.W_(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"sd",{get:function(){return this.Ro.Oo},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Su();var n=new Ln;return this.Ro.lr((function(){return e.Vc.runTransaction(e.Ro,t,n),Promise.resolve()})),n.promise},t}(),fs=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.hd(this.observer.next,t)},t.prototype.error=function(t){this.hd(this.observer.error,t)},t.prototype.ad=function(){this.muted=!0},t.prototype.hd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function ls(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var ps=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.ud=n,this.ld=r}return t.prototype._d=function(t){switch(Pt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mt(t.integerValue||t.doubleValue);case 3:return this.fd(t.timestampValue);case 4:return this.dd(t);case 5:return t.stringValue;case 6:return new Ri(Vt(t.bytesValue));case 7:return this.wd(t.referenceValue);case 8:return this.Td(t.geoPointValue);case 9:return this.Ed(t.arrayValue);case 10:return this.Id(t.mapValue);default:throw p()}},t.prototype.Id=function(t){var e=this,n={};return S(t.fields||{},(function(t,r){n[t]=e._d(r)})),n},t.prototype.Td=function(t){return new Wi(Mt(t.latitude),Mt(t.longitude))},t.prototype.Ed=function(t){var e=this;return(t.values||[]).map((function(t){return e._d(t)}))},t.prototype.dd=function(t){switch(this.ud){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return St(n)?t(n):n}(t);return null==e?null:this._d(e);case"estimate":return this.fd(Ot(t));default:return null}},t.prototype.fd=function(t){var e=jt(t),n=new x(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.wd=function(t){var e=L.$(t);m(_e(e));var n=new A(e.get(1),e.get(3)),r=new V(e.g(5));return n.isEqual(this.s)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.ld(r)},t}(),ds=ii._h,vs=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new D(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else mi("settings","non-empty string","host",t.host),this.host=t.host,bi("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Ni("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),bi("settings","object","credentials",t.credentials),this.credentials=t.credentials,bi("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),bi("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,bi("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ii.dh;else{if(t.cacheSizeBytes!==ds&&t.cacheSizeBytes<ii.fh)throw new D(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ii.fh);this.cacheSizeBytes=t.cacheSizeBytes}bi("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ys=function(){function t(e,n,i){var r=this;if(void 0===i&&(i=new us),this.md=null,this.Ad=new Zr,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Rd(),[4,this.Pd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.md=s,this.ya=t.Vd(s),this.gd=s.name,this.yd=new go(n)}else{var u=e;if(!u.projectId)throw new D(P.INVALID_ARGUMENT,"Must provide projectId");this.ya=new A(u.projectId,u.database),this.gd="[DEFAULT]",this.yd=new yo}this.pd=i,this.bd=new vs({})}return Object.defineProperty(t.prototype,"vd",{get:function(){return this.Sd||(this.Sd=new to(this.ya,this.bd.ignoreUndefinedProperties)),this.Sd},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){di("Firestore.settings",arguments,1),yi("Firestore.settings","object",1,t);var e=new vs(t);if(this.Pd&&!this.bd.isEqual(e))throw new D(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.bd=e,void 0!==e.credentials&&(this.yd=function(t){if(!t)return new yo;switch(t.type){case"gapi":var e=t.Dd;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new bo(e,t.Ya||"0");case"provider":return t.Dd;default:throw new D(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Rd(),this.Pd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Rd(),this.Pd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Pd)throw new D(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new D(P.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Cd(this.pd,{Jf:!0,cacheSizeBytes:this.bd.cacheSizeBytes,synchronizeTabs:r,qi:i})},t.prototype.clearPersistence=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){if(void 0!==this.Pd&&!this.Pd.sd)throw new D(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Ln,[2,(this.Ad.Lo((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.Fd(),[4,this.pd.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Nd",{get:function(){return this.Rd(),this.Pd.sd},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Rd(),this.Pd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.Rd(),ls(t))return gs(this.Pd,t);yi("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return gs(this.Pd,e)},t.prototype.Rd=function(){return this.Pd||this.Cd(new us,{Jf:!1}),this.Pd},t.prototype.Fd=function(){return new T(this.ya,this.gd,this.bd.host,this.bd.ssl,this.bd.forceLongPolling)},t.prototype.Cd=function(t,e){var n=this.Fd();return this.Pd=new hs(this.yd,this.Ad),this.Pd.start(n,t,e)},t.Vd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new D(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new D(P.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new A(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.md)throw new D(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return di("Firestore.collection",arguments,1),yi("Firestore.collection","non-empty string",1,t),this.Rd(),new ks(L.$(t),this,null)},t.prototype.doc=function(t){return di("Firestore.doc",arguments,1),yi("Firestore.doc","non-empty string",1,t),this.Rd(),ws.$d(L.$(t),this,null)},t.prototype.collectionGroup=function(t){if(di("Firestore.collectionGroup",arguments,1),yi("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new D(P.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Rd(),new Ns(new an(L.k(),t),this,null)},t.prototype.runTransaction=function(t){var e=this;return di("Firestore.runTransaction",arguments,1),yi("Firestore.runTransaction","function",1,t),this.Rd().transaction((function(n){return t(new ms(e,n))}))},t.prototype.batch=function(){return this.Rd(),new bs(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(l()){case h.LogLevel.DEBUG:return"debug";case h.LogLevel.ERROR:return"error";case h.LogLevel.SILENT:return"silent";case h.LogLevel.WARN:return"warn";case h.LogLevel.INFO:return"info";case h.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;di("Firestore.setLogLevel",arguments,1),_i("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,a.setLogLevel(e)},t.prototype.kd=function(){return this.bd.timestampsInSnapshots},t}();function gs(t,e){var n=new fs({next:function(){e.next&&e.next()},error:function(t){throw p()}});return t.Q_(n),function(){n.ad(),t.W_(n)}}var ms=function(){function t(t,e){this.xd=t,this.Md=e}return t.prototype.get=function(t){var e=this;di("Transaction.get",arguments,1);var n=Rs("Transaction.get",t,this.xd);return this.Md.Mu([n.pa]).then((function(t){if(!t||1!==t.length)return p();var r=t[0];if(r instanceof on)return new Es(e.xd,n.pa,null,!1,!1,n.ba);if(r instanceof rn)return new Es(e.xd,n.pa,r,!1,!1,n.ba);throw p()}))},t.prototype.set=function(t,e,n){li("Transaction.set",arguments,2,3);var r=Rs("Transaction.set",t,this.xd);n=Ps("Transaction.set",n);var i=Ls(r.ba,e,n),o=eo(this.xd.vd,"Transaction.set",r.pa,i,null!==r.ba,n);return this.Md.set(r.pa,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Li?(vi("Transaction.update",arguments,3),r=Rs("Transaction.update",t,this.xd),i=ro(this.xd.vd,"Transaction.update",r.pa,e,n,o)):(di("Transaction.update",arguments,2),r=Rs("Transaction.update",t,this.xd),i=no(this.xd.vd,"Transaction.update",r.pa,e)),this.Md.update(r.pa,i),this},t.prototype.delete=function(t){di("Transaction.delete",arguments,1);var e=Rs("Transaction.delete",t,this.xd);return this.Md.delete(e.pa),this},t}(),bs=function(){function t(t){this.xd=t,this.Od=[],this.Ld=!1}return t.prototype.set=function(t,e,n){li("WriteBatch.set",arguments,2,3),this.Bd();var r=Rs("WriteBatch.set",t,this.xd);n=Ps("WriteBatch.set",n);var i=Ls(r.ba,e,n),o=eo(this.xd.vd,"WriteBatch.set",r.pa,i,null!==r.ba,n);return this.Od=this.Od.concat(o.va(r.pa,Me.Qe())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Bd(),"string"==typeof e||e instanceof Li?(vi("WriteBatch.update",arguments,3),r=Rs("WriteBatch.update",t,this.xd),i=ro(this.xd.vd,"WriteBatch.update",r.pa,e,n,o)):(di("WriteBatch.update",arguments,2),r=Rs("WriteBatch.update",t,this.xd),i=no(this.xd.vd,"WriteBatch.update",r.pa,e)),this.Od=this.Od.concat(i.va(r.pa,Me.exists(!0))),this},t.prototype.delete=function(t){di("WriteBatch.delete",arguments,1),this.Bd();var e=Rs("WriteBatch.delete",t,this.xd);return this.Od=this.Od.concat(new Qe(e.pa,Me.Qe())),this},t.prototype.commit=function(){return this.Bd(),this.Ld=!0,this.Od.length>0?this.xd.Rd().write(this.Od):Promise.resolve()},t.prototype.Bd=function(){if(this.Ld)throw new D(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ws=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.ya,e,r)||this).pa=e,i.firestore=n,i.ba=r,i.Pd=i.firestore.Rd(),i}return o.__extends(e,t),e.$d=function(t,n,r){if(t.length%2!=0)throw new D(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.N()+" has "+t.length);return new e(new V(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.pa.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ks(this.pa.path.p(),this.firestore,this.ba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.pa.path.N()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(di("DocumentReference.collection",arguments,1),yi("DocumentReference.collection","non-empty string",1,t),!t)throw new D(P.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=L.$(t);return new ks(this.pa.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Si("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.pa.isEqual(t.pa)&&this.ba===t.ba},e.prototype.set=function(t,e){li("DocumentReference.set",arguments,1,2),e=Ps("DocumentReference.set",e);var n=Ls(this.ba,t,e),r=eo(this.firestore.vd,"DocumentReference.set",this.pa,n,null!==this.ba,e);return this.Pd.write(r.va(this.pa,Me.Qe()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Li?(vi("DocumentReference.update",arguments,2),n=ro(this.firestore.vd,"DocumentReference.update",this.pa,t,e,r)):(di("DocumentReference.update",arguments,1),n=no(this.firestore.vd,"DocumentReference.update",this.pa,t)),this.Pd.write(n.va(this.pa,Me.exists(!0)))},e.prototype.delete=function(){return di("DocumentReference.delete",arguments,0),this.Pd.write([new Qe(this.pa,Me.Qe())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];li("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||ls(i[u])||(Ni("DocumentReference.onSnapshot",s=i[u],["includeMetadataChanges"]),bi("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),u++);var a={includeMetadataChanges:s.includeMetadataChanges};if(ls(i[u])){var c=i[u];i[u]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[u+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[u+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else yi("DocumentReference.onSnapshot","function",u,i[u]),gi("DocumentReference.onSnapshot","function",u+1,i[u+1]),gi("DocumentReference.onSnapshot","function",u+2,i[u+2]);var h={next:function(t){i[u]&&i[u](r.qd(t))},error:i[u+1],complete:i[u+2]};return _s(this.Pd,this.pa,a,h)},e.prototype.get=function(t){var e=this;return li("DocumentReference.get",arguments,0,1),xs("DocumentReference.get",t),t&&"cache"===t.source?this.firestore.Rd().rd(this.pa).then((function(t){return new Es(e.firestore,e.pa,t,!0,t instanceof rn&&t.Ge,e.ba)})):function(t,e,n){var r=new Ln,i=_s(t,e,{includeMetadataChanges:!0,J_:!0},{next:function(t){i();var o=t.docs.has(e);!o&&t.fromCache?r.reject(new D(P.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&t.fromCache&&n&&"server"===n.source?r.reject(new D(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(this.Pd,this.pa,t).then((function(t){return e.qd(t)}))},e.prototype.withConverter=function(t){return new e(this.pa,this.firestore,t)},e.prototype.qd=function(t){var e=t.docs.get(this.pa);return new Es(this.firestore,this.pa,e,t.fromCache,t.hasPendingWrites,this.ba)},e}(Yi);function _s(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new fs({next:function(t){r.next&&r.next(t)},error:i}),s=t.listen(an.hn(e.path),o,n);return function(){o.ad(),t.Rc(s)}}var Is=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Es=function(){function t(t,e,n,r,i,o){this.xd=t,this.pa=e,this.Ud=n,this.Qd=r,this.Wd=i,this.ba=o}return t.prototype.data=function(t){var e=this;if(li("DocumentSnapshot.data",arguments,0,1),t=Ds("DocumentSnapshot.data",t),this.Ud){if(this.ba){var n=new Ts(this.xd,this.pa,this.Ud,this.Qd,this.Wd,null);return this.ba.fromFirestore(n,t)}return new ps(this.xd.ya,this.xd.kd(),t.serverTimestamps||"none",(function(t){return new ws(t,e.xd,null)}))._d(this.Ud.tn())}},t.prototype.get=function(t,e){var n=this;if(li("DocumentSnapshot.get",arguments,1,2),e=Ds("DocumentSnapshot.get",e),this.Ud){var r=this.Ud.data().field(co("DocumentSnapshot.get",t,this.pa));if(null!==r)return new ps(this.xd.ya,this.xd.kd(),e.serverTimestamps||"none",(function(t){return new ws(t,n.xd,n.ba)}))._d(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.pa.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ws(this.pa,this.xd,this.ba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ud},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Is(this.Wd,this.Qd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Si("isEqual","DocumentSnapshot",1,e);return this.xd===e.xd&&this.Qd===e.Qd&&this.pa.isEqual(e.pa)&&(null===this.Ud?null===e.Ud:this.Ud.isEqual(e.Ud))&&this.ba===e.ba},t}(),Ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Es);function As(t){if(t.mn()&&0===t.en.length)throw new D(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ns=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.ya,n.vd,e)||this).jd=e,i.firestore=n,i.ba=r,i}return o.__extends(e,t),e.prototype.where=function(t,n,r){di("Query.where",arguments,3),Ai("Query.where",3,r);var i=_i("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=co("Query.where",t),s=this.Kd(o,i,r);return new e(this.jd.cn(s),this.firestore,this.ba)},e.prototype.orderBy=function(t,n){var r;if(li("Query.orderBy",arguments,1,2),gi("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new D(P.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=co("Query.orderBy",t),o=this.Yd(i,r);return new e(this.jd.ln(o),this.firestore,this.ba)},e.prototype.limit=function(t){return di("Query.limit",arguments,1),yi("Query.limit","number",1,t),Oi("Query.limit",1,t),new e(this.jd._n(t),this.firestore,this.ba)},e.prototype.limitToLast=function(t){return di("Query.limitToLast",arguments,1),yi("Query.limitToLast","number",1,t),Oi("Query.limitToLast",1,t),new e(this.jd.fn(t),this.firestore,this.ba)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];vi("Query.startAt",arguments,1);var i=this.ew("Query.startAt",t,n,!0);return new e(this.jd.dn(i),this.firestore,this.ba)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];vi("Query.startAfter",arguments,1);var i=this.ew("Query.startAfter",t,n,!1);return new e(this.jd.dn(i),this.firestore,this.ba)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];vi("Query.endBefore",arguments,1);var i=this.ew("Query.endBefore",t,n,!0);return new e(this.jd.wn(i),this.firestore,this.ba)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];vi("Query.endAt",arguments,1);var i=this.ew("Query.endAt",t,n,!1);return new e(this.jd.wn(i),this.firestore,this.ba)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Si("isEqual","Query",1,t);return this.firestore===t.firestore&&un(this.jd,t.jd)&&this.ba===t.ba},e.prototype.withConverter=function(t){return new e(this.jd,this.firestore,t)},e.prototype.ew=function(t,e,n,i){if(Ai(t,1,e),e instanceof Es)return di(t,o.__spreadArrays([e],n),1),this.Xd(t,e.Ud,i);var r=[e].concat(n);return this.Zd(t,r,i)},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];li("Query.onSnapshot",arguments,1,4);var s={},u=0;if("object"!=typeof i[u]||ls(i[u])||(Ni("Query.onSnapshot",s=i[u],["includeMetadataChanges"]),bi("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),u++),ls(i[u])){var a=i[u];i[u]=null===(t=a.next)||void 0===t?void 0:t.bind(a),i[u+1]=null===(e=a.error)||void 0===e?void 0:e.bind(a),i[u+2]=null===(n=a.complete)||void 0===n?void 0:n.bind(a)}else yi("Query.onSnapshot","function",u,i[u]),gi("Query.onSnapshot","function",u+1,i[u+1]),gi("Query.onSnapshot","function",u+2,i[u+2]);var c={next:function(t){i[u]&&i[u](new Os(r.firestore,r.jd,t,r.ba))},error:i[u+1],complete:i[u+2]};return As(this.jd),Ss(this.firestore.Rd(),this.jd,s,c)},e.prototype.get=function(t){var e=this;li("Query.get",arguments,0,1),xs("Query.get",t),As(this.jd);var n=this.firestore.Rd();return(t&&"cache"===t.source?n.od(this.jd):function(t,e,n){var r=new Ln,i=Ss(t,e,{includeMetadataChanges:!0,J_:!0},{next:function(t){i(),t.fromCache&&n&&"server"===n.source?r.reject(new D(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(n,this.jd,t)).then((function(t){return new Os(e.firestore,e.jd,t,e.ba)}))},e}(function(){function t(t,e,n){this.ya=t,this.vd=e,this.jd=n}return t.prototype.Kd=function(t,e,n){var r;if(t.O()){if("array-contains"===e||"array-contains-any"===e)throw new D(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.Gd(n,e);for(var i=[],o=0,s=n;o<s.length;o++){var u=s[o];i.push(this.zd(u))}r={arrayValue:{values:i}}}else r=this.zd(n)}else"in"!==e&&"array-contains-any"!==e||this.Gd(n,e),r=io(this.vd,"Query.where",n,"in"===e);var a=pn.create(t,e,r);return this.Hd(a),a},t.prototype.Yd=function(t,e){if(null!==this.jd.startAt)throw new D(P.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.jd.endAt)throw new D(P.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new En(t,e);return this.Jd(n),n},t.prototype.Xd=function(t,e,n){if(!e)throw new D(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],i=0,o=this.jd.orderBy;i<o.length;i++){var s=o[i];if(s.field.O())r.push(Ut(this.ya,e.key));else{var u=e.field(s.field);if(St(u))throw new D(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var a=s.field.N();throw new D(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}r.push(u)}}return new bn(r,n)},t.prototype.Zd=function(t,e,n){var r=this.jd.en;if(e.length>r.length)throw new D(P.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.O()){if("string"!=typeof s)throw new D(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.jd.Vn()&&-1!==s.indexOf("/"))throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var u=this.jd.path.child(L.$(s));if(!V.W(u))throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var a=new V(u);i.push(Ut(this.ya,a))}else{var c=io(this.vd,t,s);i.push(c)}}return new bn(i,n)},t.prototype.zd=function(t){if("string"==typeof t){if(""===t)throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.jd.Vn()&&-1!==t.indexOf("/"))throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.jd.path.child(L.$(t));if(!V.W(e))throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Ut(this.ya,new V(e))}if(t instanceof Yi)return Ut(this.ya,t.pa);throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ti(t)+".")},t.prototype.Gd=function(t,e){if(!Array.isArray(t)||0===t.length)throw new D(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new D(P.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new D(P.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new D(P.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Hd=function(t){if(t instanceof pn){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.An()){var o=this.jd.an();if(null!==o&&!o.isEqual(t.field))throw new D(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.jd.un();null!==s&&this.tw(t.field,s)}else if(i||r){var u=null;if(i&&(u=this.jd.Rn(n)),null===u&&r&&(u=this.jd.Rn(e)),null!==u)throw u===t.op?new D(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new D(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+u.toString()+"' filters.")}}},t.prototype.Jd=function(t){if(null===this.jd.un()){var e=this.jd.an();null!==e&&this.tw(e,t.field)}},t.prototype.tw=function(t,e){if(!e.isEqual(t))throw new D(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}());function Ss(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new fs({next:function(t){r.next&&r.next(t)},error:i}),s=t.listen(e,o,n);return function(){o.ad(),t.Rc(s)}}var Os=function(){function t(t,e,n,r){this.xd=t,this.nw=e,this.sw=n,this.ba=r,this.iw=null,this.rw=null,this.metadata=new Is(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.sw.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.sw.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;li("QuerySnapshot.forEach",arguments,1,2),yi("QuerySnapshot.forEach","function",1,t),this.sw.docs.forEach((function(r){t.call(e,n.ow(r,n.metadata.fromCache,n.sw.Lt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Ns(this.nw,this.xd,this.ba)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Ni("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),bi("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.sw.qt)throw new D(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.iw&&this.rw===e||(this.iw=function(t,e,n){if(t.Ot._()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Lt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ot;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Cs(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.sw,e,this.ow.bind(this)),this.rw=e),this.iw},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Si("isEqual","QuerySnapshot",1,e);return this.xd===e.xd&&un(this.nw,e.nw)&&this.sw.isEqual(e.sw)&&this.ba===e.ba},t.prototype.ow=function(t,e,n){return new Ts(this.xd,t.key,t,e,n,this.ba)},t}(),ks=function(t){function e(e,n,r){var i=this;if((i=t.call(this,an.hn(e),n,r)||this).hw=e,e.length%2!=1)throw new D(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.N()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.jd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.jd.path.p();return t._()?null:new ws(new V(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.jd.path.N()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){li("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=g.t()),yi("CollectionReference.doc","non-empty string",1,t);var e=L.$(t);return ws.$d(this.jd.path.child(e),this.firestore,this.ba)},e.prototype.add=function(t){di("CollectionReference.add",arguments,1),yi("CollectionReference.add","object",1,this.ba?this.ba.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.hw,this.firestore,t)},e}(Ns);function Ps(t,e){if(void 0===e)return{merge:!1};if(Ni(t,e,["merge","mergeFields"]),bi(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Ti(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new D(P.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Ti(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Li}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new D(P.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ds(t,e){return void 0===e?{}:(Ni(t,e,["serverTimestamps"]),wi(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function xs(t,e){gi(t,"object",1,e),e&&(Ni(t,e,["source"]),wi(t,0,"source",e.source,["default","server","cache"]))}function Rs(t,e,n){if(e instanceof Yi){if(e.firestore!==n)throw new D(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Si(t,"DocumentReference",1,e)}function Cs(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return p()}}function Ls(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var js={Firestore:ys,GeoPoint:Wi,Timestamp:x,Blob:Ri,Transaction:ms,WriteBatch:bs,DocumentReference:ws,DocumentSnapshot:Es,Query:Ns,QueryDocumentSnapshot:Ts,QuerySnapshot:Os,CollectionReference:ks,FieldPath:Li,FieldValue:zi,setLogLevel:ys.setLogLevel,CACHE_SIZE_UNLIMITED:ds};function Ms(t){!function(t,e){t.INTERNAL.registerComponent(new s.Component("firestore",(function(t){return function(t,e){return new ys(t,e,new cs)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},js)))}(t),t.registerVersion("@firebase/firestore","1.16.0")}Ms(c),e.__PRIVATE_registerFirestore=Ms}).call(this,n(98))},796:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return h})),n.d(e,"__decorate",(function(){return f})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return d})),n.d(e,"__awaiter",(function(){return v})),n.d(e,"__generator",(function(){return y})),n.d(e,"__createBinding",(function(){return m})),n.d(e,"__exportStar",(function(){return w})),n.d(e,"__values",(function(){return _})),n.d(e,"__read",(function(){return I})),n.d(e,"__spread",(function(){return E})),n.d(e,"__spreadArrays",(function(){return T})),n.d(e,"__await",(function(){return A})),n.d(e,"__asyncGenerator",(function(){return N})),n.d(e,"__asyncDelegator",(function(){return S})),n.d(e,"__asyncValues",(function(){return O})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return P})),n.d(e,"__importDefault",(function(){return D})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return R}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function h(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function f(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function l(t,e){return function(n,r){e(n,r,t)}}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(o,c){function h(t){try{l(r.next(t))}catch(t){c(t)}}function f(t){try{l(r.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(h,f)}l((r=r.apply(t,e||[])).next())}))}function y(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(h){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,h])}}}function m(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function w(t,e){for(var p in t)"default"===p||e.hasOwnProperty(p)||(e[p]=t[p])}function _(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(I(arguments[i]));return t}function T(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function N(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof A?Promise.resolve(n.value.v).then(c,h):f(q[0][2],n)}catch(t){f(q[0][3],t)}var n}function c(t){o("next",t)}function h(t){o("throw",t)}function f(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function S(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:A(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=_(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function D(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},797:function(t,e,n){"use strict";n.r(e),function(t){function r(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}n.d(e,"ErrorCode",(function(){return nr})),n.d(e,"EventType",(function(){return rr})),n.d(e,"WebChannel",(function(){return ir})),n.d(e,"XhrIo",(function(){return or})),n.d(e,"createWebChannelTransport",(function(){return er}));var g,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},c=c||{},h=o||self;function f(){}function l(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function d(a){var b=l(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function w(a,b,t){return a.call.apply(a.bind,arguments)}function _(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function I(a,b,t){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var q=Date.now||function(){return+new Date};function T(a,b){function t(){}t.prototype=b.prototype,a.M=b.prototype,a.prototype=new t,a.prototype.constructor=a}function A(){this.j=this.j,this.i=this.i}A.prototype.j=!1,A.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0))(function(a){Object.prototype.hasOwnProperty.call(a,y)&&a[y]||(a[y]=++m)})(this)},A.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var N=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},S=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n="string"==typeof a?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};function O(a){return Array.prototype.concat.apply([],arguments)}function k(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function P(a){return/^[\s\xa0]*$/.test(a)}var D,x=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function u(a,b){return-1!=a.indexOf(b)}function R(a,b){return a<b?-1:a>b?1:0}t:{var C=h.navigator;if(C){var L=C.userAgent;if(L){D=L;break t}}D=""}function j(a,b,t){for(var e in a)b.call(t,a[e],e,a)}function M(a){var b={};for(var t in a)b[t]=a[t];return b}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<V.length;r++)t=V[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function F(a){return F[" "](a),a}F[" "]=f;var B,a,G=u(D,"Opera"),z=u(D,"Trident")||u(D,"MSIE"),H=u(D,"Edge"),W=H||z,K=u(D,"Gecko")&&!(u(D.toLowerCase(),"webkit")&&!u(D,"Edge"))&&!(u(D,"Trident")||u(D,"MSIE"))&&!u(D,"Edge"),X=u(D.toLowerCase(),"webkit")&&!u(D,"Edge");function Y(){var a=h.document;return a?a.documentMode:void 0}t:{var J="",Q=(a=D,K?/rv:([^\);]+)(\)|;)/.exec(a):H?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):X?/WebKit\/(\S+)/.exec(a):G?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Q&&(J=Q?Q[1]:""),z){var $=Y();if(null!=$&&$>parseFloat(J)){B=String($);break t}}B=J}var Z,tt={};function et(a){return function(a,b){var t=tt;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=x(String(B)).split("."),e=x(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var o=t[r]||"",c=e[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;b=R(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||R(0==o[2].length,0==c[2].length)||R(o[2],c[2]),o=o[3],c=c[3]}while(0==b)}return 0<=b}))}if(h.document&&z){var nt=Y();Z=nt||(parseInt(B,10)||void 0)}else Z=void 0;var it=Z,ot=!z||9<=Number(it),st=z&&!et("9"),at=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{h.addEventListener("test",f,b),h.removeEventListener("test",f,b)}catch(t){}return a}();function ut(a,b){this.type=a,this.a=this.target=b,this.defaultPrevented=!1}function ct(a,b){if(ut.call(this,a?a.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.a=b,b=a.relatedTarget){if(K){t:{try{F(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:ht[a.pointerType]||"",this.c=a,a.defaultPrevented&&this.b()}}ut.prototype.b=function(){this.defaultPrevented=!0},T(ct,ut);var ht={2:"touch",3:"pen",4:"mouse"};ct.prototype.b=function(){ct.M.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,st)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}};var ft="closure_listenable_"+(1e6*Math.random()|0),lt=0;function pt(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.aa=n,this.key=++lt,this.V=this.X=!1}function vt(a){a.V=!0,a.listener=null,a.proxy=null,a.src=null,a.aa=null}function yt(a){this.src=a,this.a={},this.b=0}function gt(a,b){var t=b.type;if(t in a.a){var e,n=a.a[t],r=N(n,b);(e=0<=r)&&Array.prototype.splice.call(n,r,1),e&&(vt(b),0==a.a[t].length&&(delete a.a[t],a.b--))}}function mt(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.V&&r.listener==b&&r.capture==!!t&&r.aa==e)return n}return-1}yt.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var o=mt(a,b,e,n);return-1<o?(b=a[o],t||(b.X=!1)):((b=new pt(b,this.src,r,!!e,n)).X=t,a.push(b)),b};var bt="closure_lm_"+(1e6*Math.random()|0),wt={};function _t(a,b,t,e,n){if(e&&e.once)return function t(a,b,e,n,r){if(Array.isArray(b)){for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);return null}return e=kt(e),a&&a[ft]?a.sa(b,e,v(n)?!!n.capture:!!n,r):It(a,b,e,!0,n,r)}(a,b,t,e,n);if(Array.isArray(b)){for(var r=0;r<b.length;r++)_t(a,b[r],t,e,n);return null}return t=kt(t),a&&a[ft]?a.ra(b,t,v(e)?!!e.capture:!!e,n):It(a,b,t,!1,e,n)}function It(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var o=v(n)?!!n.capture:!!n;if(o&&!ot)return null;var c=St(a);if(c||(a[bt]=c=new yt(a)),(t=c.add(b,t,e,o,r)).proxy)return t;if(e=function(){var a=Nt,b=ot?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)at||(n=o),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(Tt(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}return t}function Et(a){if("number"!=typeof a&&a&&!a.V){var b=a.src;if(b&&b[ft])gt(b.c,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(Tt(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=St(b))?(gt(t,a),0==t.b&&(t.src=null,b[bt]=null)):vt(a)}}}function Tt(a){return a in wt?wt[a]:wt[a]="on"+a}function At(a,b){var t=a.listener,e=a.aa||a.src;return a.X&&Et(a),t.call(e,b)}function Nt(a,b){if(a.V)return!0;if(!ot){if(!b)t:{b=["window","event"];for(var t=h,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}return At(a,b=new ct(b,this))}return At(a,new ct(b,this))}function St(a){return(a=a[bt])instanceof yt?a:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(a){return"function"==l(a)?a:(a[Ot]||(a[Ot]=function(b){return a.handleEvent(b)}),a[Ot])}function Pt(){A.call(this),this.c=new yt(this),this.J=this,this.A=null}function Dt(a,b,t,e){if(!(b=a.c.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var o=b[r];if(o&&!o.V&&o.capture==t){var c=o.listener,p=o.aa||o.src;o.X&&gt(a.c,o),n=!1!==c.call(p,e)&&n}}return n&&!e.defaultPrevented}T(Pt,A),Pt.prototype[ft]=!0,(g=Pt.prototype).addEventListener=function(a,b,t,e){_t(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){!function t(a,b,e,n,r){if(Array.isArray(b))for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);else n=v(n)?!!n.capture:!!n,e=kt(e),a&&a[ft]?(a=a.c,(b=String(b).toString())in a.a&&(-1<(e=mt(o=a.a[b],e,n,r))&&(vt(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete a.a[b],a.b--)))):a&&(a=St(a))&&(b=a.a[b.toString()],a=-1,b&&(a=mt(b,e,n,r)),(e=-1<a?b[a]:null)&&Et(e))}(this,a,b,t,e)},g.dispatchEvent=function(a){var b,t=this.A;if(t)for(b=[];t;t=t.A)b.push(t);t=this.J;var e=a.type||a;if("string"==typeof a)a=new ut(a,t);else if(a instanceof ut)a.target=a.target||t;else{var n=a;U(a=new ut(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var o=a.a=b[r];n=Dt(o,e,!0,a)&&n}if(n=Dt(o=a.a=t,e,!0,a)&&n,n=Dt(o,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=Dt(o=a.a=b[r],e,!1,a)&&n;return n},g.C=function(){if(Pt.M.C.call(this),this.c){var t,a=this.c;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)vt(e[n]);delete a.a[t],a.b--}}this.A=null},g.ra=function(a,b,t,e){return this.c.add(String(a),b,!1,t,e)},g.sa=function(a,b,t,e){return this.c.add(String(a),b,!0,t,e)};var xt=h.JSON.stringify;function Rt(){this.b=this.a=null}var Ct,Lt=new(function(){function t(a,b,t){this.f=t,this.c=a,this.g=b,this.b=0,this.a=null}return t.prototype.get=function(){var a;return 0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c(),a},t}())((function(){return new Mt}),(function(a){a.reset()}),100);function jt(){var a=qt,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function Mt(){this.next=this.b=this.a=null}function Vt(a){h.setTimeout((function(){throw a}),0)}function Ut(a,b){Ct||function(){var a=h.Promise.resolve(void 0);Ct=function(){a.then(Bt)}}(),Ft||(Ct(),Ft=!0),qt.add(a,b)}Rt.prototype.add=function(a,b){var t=Lt.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},Mt.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Mt.prototype.reset=function(){this.next=this.b=this.a=null};var Ft=!1,qt=new Rt;function Bt(){for(var a;a=jt();){try{a.a.call(a.b)}catch(t){Vt(t)}var b=Lt;b.g(a),b.b<b.f&&(b.b++,a.next=b.a,b.a=a)}Ft=!1}function Gt(a,b){Pt.call(this),this.b=a||1,this.a=b||h,this.f=I(this.Ua,this),this.g=q()}function zt(a){a.Z=!1,a.L&&(a.a.clearTimeout(a.L),a.L=null)}function Ht(a,b,t){if("function"==l(a))t&&(a=I(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=I(a.handleEvent,a)}return 2147483647<Number(b)?-1:h.setTimeout(a,b||0)}function Wt(a,b,t){A.call(this),this.f=null!=t?I(a,t):a,this.c=b,this.b=I(this.Pa,this),this.a=[]}function Kt(a){a.T=Ht(a.b,a.c),a.f.apply(null,a.a)}function Xt(a){A.call(this),this.b=a,this.a={}}T(Gt,Pt),(g=Gt.prototype).Z=!1,g.L=null,g.Ua=function(){if(this.Z){var a=q()-this.g;0<a&&a<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-a):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(zt(this),this.start()))}},g.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=q())},g.C=function(){Gt.M.C.call(this),zt(this),delete this.a},T(Wt,A),(g=Wt.prototype).ba=!1,g.T=null,g.Ia=function(a){this.a=arguments,this.T?this.ba=!0:Kt(this)},g.C=function(){Wt.M.C.call(this),this.T&&(h.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},g.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Kt(this))},T(Xt,A);var Yt=[];function Jt(a,b,t,e){Array.isArray(t)||(t&&(Yt[0]=t.toString()),t=Yt);for(var n=0;n<t.length;n++){var r=_t(b,t[n],e||a.handleEvent,!1,a.b||a);if(!r)break;a.a[r.key]=r}}function Qt(a){j(a.a,(function(b,t){this.a.hasOwnProperty(t)&&Et(b)}),a),a.a={}}function $t(){}Xt.prototype.C=function(){Xt.M.C.call(this),Qt(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=null;function te(){return Zt=Zt||new Pt}function ee(a){ut.call(this,"serverreachability",a)}function ne(a){var b=te();b.dispatchEvent(new ee(b,a))}function re(a){ut.call(this,"statevent",a)}function ie(a){var b=te();b.dispatchEvent(new re(b,a))}function oe(a){ut.call(this,"timingevent",a)}function se(a,b){if("function"!=l(a))throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){a()}),b)}T(ee,ut),T(re,ut),T(oe,ut);var ae={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},ue={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ce(){}function he(a){var b;return(b=a.a)||(b=a.a={}),b}function fe(){}ce.prototype.a=null;var le,pe={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function de(){ut.call(this,"d")}function ve(){ut.call(this,"c")}function ye(){}function ge(a,b,t){this.g=a,this.W=b,this.U=t||1,this.G=new Xt(this),this.N=me,a=W?125:void 0,this.O=new Gt(a),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}T(de,ut),T(ve,ut),T(ye,ce),le=new ye;var me=45e3,be={},we={};function _e(a,b,t){a.B=1,a.f=Ge(Me(b)),a.j=t,a.F=!0,Ie(a,null)}function Ie(a,b){a.s=q(),Ae(a),a.A=Me(a.f);var t=a.A,e=a.U;Array.isArray(e)||(e=[String(e)]),nn(t.b,"t",e),a.w=0,a.a=Wn(a.g,a.g.w?b:null),0<a.J&&(a.D=new Wt(I(a.ya,a,a.a),a.J)),Jt(a.G,a.a,"readystatechange",a.Sa),b=a.m?M(a.m):{},a.j?(a.v||(a.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.a.$(a.A,a.v,a.j,b)):(a.v="GET",a.a.$(a.A,a.v,null,b)),ne(1)}function Ee(a,b,t){for(var e=!0;!a.l&&a.w<t.length;){var n=Te(a,t);if(n==we){4==b&&(a.c=4,ie(14),e=!1);break}if(n==be){a.c=4,ie(15),e=!1;break}Pe(a,n)}4==b&&0==t.length&&(a.c=1,ie(16),e=!1),a.b=a.b&&e,e||(ke(a),Oe(a))}function Te(a,b){var t=a.w,e=b.indexOf("\n",t);return-1==e?we:(t=Number(b.substring(t,e)),isNaN(t)?be:(e+=1)+t>b.length?we:(b=b.substr(e,t),a.w=e+t,b))}function Ae(a){a.P=q()+a.N,Ne(a,a.N)}function Ne(a,b){if(null!=a.h)throw Error("WatchDog timer not null");a.h=se(I(a.Qa,a),b)}function Se(a){a.h&&(h.clearTimeout(a.h),a.h=null)}function Oe(a){0==a.g.u||a.l||qn(a.g,a)}function ke(a){Se(a);var b=a.D;b&&"function"==typeof b.da&&b.da(),a.D=null,zt(a.O),Qt(a.G),a.a&&(b=a.a,a.a=null,b.abort(),b.da())}function Pe(a,b){try{var t=a.g;if(0!=t.u&&(t.a==a||hn(t.b,a)))if(t.A=a.H,!a.o&&hn(t.b,a)&&3==t.u){try{var e=t.ja.a.parse(b)}catch(t){e=null}if(Array.isArray(e)&&3==e.length){var n=e;if(0==n[0]){t:if(!t.i){if(t.a){if(!(t.a.s+3e3<a.s))break t;Fn(t),t.a.cancel(),t.a=null}Un(t),ie(18)}}else t.ia=n[1],0<t.ia-t.G&&37500>n[2]&&t.U&&0==t.m&&!t.l&&(t.l=se(I(t.Na,t),6e3));if(1>=cn(t.b)&&t.O){try{t.O()}catch(t){}t.O=void 0}}else Gn(t,11)}else if((a.o||t.a==a)&&Fn(t),!P(b))for(b=e=t.ja.a.parse(b),e=0;e<b.length;e++)if(n=b[e],t.G=n[0],n=n[1],2==t.u)if("c"==n[0]){t.B=n[1],t.R=n[2];var r=n[3];null!=r&&(t.oa=r);var o=n[5];null!=o&&"number"==typeof o&&0<o&&(t.D=1.5*o);var c=t,p=a.a;if(p){var h=p.a?p.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=c.b;!f.a&&(u(h,"spdy")||u(h,"quic")||u(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(fn(f,f.b),f.b=null))}if(c.s){var l=p.a?p.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(c.ha=l,Be(c.v,c.s,l))}}t.u=3,t.c&&t.c.na();var d=a;if((c=t).ea=Hn(c,c.w?c.R:null,c.P),d.o){ln(c.b,d);var v=d,y=c.D;y&&v.setTimeout(y),v.h&&(Se(v),Ae(v)),c.a=d}else Vn(c);0<t.f.length&&Cn(t)}else"stop"!=n[0]&&"close"!=n[0]||Gn(t,7);else 3==t.u&&("stop"==n[0]||"close"==n[0]?"stop"==n[0]?Gn(t,7):Dn(t):"noop"!=n[0]&&t.c&&t.c.ma(n),t.m=0);ne(4)}catch(t){}}function De(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(d(a)||"string"==typeof a)S(a,b,void 0);else{if(a.K&&"function"==typeof a.K)var t=a.K();else if(a.I&&"function"==typeof a.I)t=void 0;else if(d(a)||"string"==typeof a){t=[];for(var e=a.length,n=0;n<e;n++)t.push(n)}else for(n in t=[],e=0,a)t[e++]=n;n=(e=function(a){if(a.I&&"function"==typeof a.I)return a.I();if("string"==typeof a)return a.split("");if(d(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}(a)).length;for(var r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}}function xe(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof xe)for(t=a.K(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Re(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];Ce(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)Ce(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function Ce(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(g=ge.prototype).setTimeout=function(a){this.N=a},g.Sa=function(a){a=a.target;var b=this.D;b&&3==On(a)?b.Ia():this.ya(a)},g.ya=function(a){try{if(a==this.a)t:{var b=On(this.a),t=this.a.qa(),e=this.a.S();if(!(3>b||3==b&&!W&&!this.a.Y())){this.l||4!=b||7==t||ne(8==t||0>=e?3:2),Se(this);var n=this.a.S();this.H=n;var r=this.a.Y();if(this.b=200==n){if(this.R&&!this.o){e:{if(this.a){var o,c=this.a;if((o=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(o)){var p=o;break e}}p=null}if(!p){this.b=!1,this.c=3,ie(12),ke(this),Oe(this);break t}this.o=!0,Pe(this,p)}this.F?(Ee(this,b,r),W&&this.b&&3==b&&(Jt(this.G,this.O,"tick",this.Ra),this.O.start())):Pe(this,r),4==b&&ke(this),this.b&&!this.l&&(4==b?qn(this.g,this):(this.b=!1,Ae(this)))}else 400==n&&0<r.indexOf("Unknown SID")?(this.c=3,ie(12)):(this.c=0,ie(13)),ke(this),Oe(this)}}}catch(t){}},g.Ra=function(){if(this.a){var a=On(this.a),b=this.a.Y();this.w<b.length&&(Se(this),Ee(this,a,b),this.b&&4!=a&&Ae(this))}},g.cancel=function(){this.l=!0,ke(this)},g.Qa=function(){this.h=null;var a=q();0<=a-this.P?(2!=this.B&&(ne(3),ie(17)),ke(this),this.c=2,Oe(this)):Ne(this,this.P-a)},(g=xe.prototype).I=function(){Re(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},g.K=function(){return Re(this),this.a.concat()},g.get=function(a,b){return Ce(this.b,a)?this.b[a]:b},g.set=function(a,b){Ce(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},g.forEach=function(a,b){for(var t=this.K(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Le=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function je(a,b){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,a instanceof je){this.a=void 0!==b?b:a.a,Ve(this,a.f),this.j=a.j,Ue(this,a.c),Fe(this,a.h),this.g=a.g,b=a.b;var t=new $e;t.c=b.c,b.a&&(t.a=new xe(b.a),t.b=b.b),qe(this,t),this.i=a.i}else a&&(t=String(a).match(Le))?(this.a=!!b,Ve(this,t[1]||"",!0),this.j=ze(t[2]||""),Ue(this,t[3]||"",!0),Fe(this,t[4]),this.g=ze(t[5]||"",!0),qe(this,t[6]||"",!0),this.i=ze(t[7]||"")):(this.a=!!b,this.b=new $e(null,this.a))}function Me(a){return new je(a)}function Ve(a,b,t){a.f=t?ze(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function Ue(a,b,t){a.c=t?ze(b,!0):b}function Fe(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.h=b}else a.h=null}function qe(a,b,t){b instanceof $e?(a.b=b,function(a,b){b&&!a.f&&(Ze(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tn(this,e),nn(this,n,t))}),a)),a.f=b}(a.b,a.a)):(t||(b=He(b,Je)),a.b=new $e(b,a.a))}function Be(a,b,t){a.b.set(b,t)}function Ge(a){return Be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^q()).toString(36)),a}function ze(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function He(a,b,t){return"string"==typeof a?(a=encodeURI(a).replace(b,We),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function We(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}je.prototype.toString=function(){var a=[],b=this.f;b&&a.push(He(b,Ke,!0),":");var t=this.c;return(t||"file"==b)&&(a.push("//"),(b=this.j)&&a.push(He(b,Ke,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.h)&&a.push(":",String(t))),(t=this.g)&&(this.c&&"/"!=t.charAt(0)&&a.push("/"),a.push(He(t,"/"==t.charAt(0)?Ye:Xe,!0))),(t=this.b.toString())&&a.push("?",t),(t=this.i)&&a.push("#",He(t,Qe)),a.join("")};var Ke=/[#\/\?@]/g,Xe=/[#\?:]/g,Ye=/[#\?]/g,Je=/[#\?@]/g,Qe=/#/g;function $e(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function Ze(a){a.a||(a.a=new xe,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function tn(a,b){Ze(a),b=rn(a,b),Ce(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Ce((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Re(a)))}function en(a,b){return Ze(a),b=rn(a,b),Ce(a.a.b,b)}function nn(a,b,t){tn(a,b),0<t.length&&(a.c=null,a.a.set(rn(a,b),k(t)),a.b+=t.length)}function rn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function on(a,b){this.b=a,this.a=b}function sn(a){this.g=a||an,h.PerformanceNavigationTiming?a=0<(a=h.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(h.ca&&h.ca.ua&&h.ca.ua()&&h.ca.ua().mb),this.f=a?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(g=$e.prototype).add=function(a,b){Ze(this),this.c=null,a=rn(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},g.forEach=function(a,b){Ze(this),this.a.forEach((function(t,e){S(t,(function(t){a.call(b,t,e,this)}),this)}),this)},g.K=function(){Ze(this);for(var a=this.a.I(),b=this.a.K(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},g.I=function(a){Ze(this);var b=[];if("string"==typeof a)en(this,a)&&(b=O(b,this.a.get(rn(this,a))));else{a=this.a.I();for(var t=0;t<a.length;t++)b=O(b,a[t])}return b},g.set=function(a,b){return Ze(this),this.c=null,en(this,a=rn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},g.get=function(a,b){return a&&0<(a=this.I(a)).length?String(a[0]):b},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.K(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.I(e);for(var r=0;r<e.length;r++){var o=n;""!==e[r]&&(o+="="+encodeURIComponent(String(e[r]))),a.push(o)}}return this.c=a.join("&")};var an=10;function un(a){return!!a.b||!!a.a&&a.a.size>=a.f}function cn(a){return a.b?1:a.a?a.a.size:0}function hn(a,b){return a.b?a.b==b:!!a.a&&a.a.has(b)}function fn(a,b){a.a?a.a.add(b):a.b=b}function ln(a,b){a.b&&a.b==b?a.b=null:a.a&&a.a.has(b)&&a.a.delete(b)}function pn(a){var t,e;if(null!=a.b)return a.c.concat(a.b.i);if(null!=a.a&&0!==a.a.size){var b=a.c;try{for(var n=r(a.a.values()),o=n.next();!o.done;o=n.next()){var c=o.value;b=b.concat(c.i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return b}return k(a.c)}function dd(){}function dn(){this.a=new dd}function vn(a,b,t){var e=t||"";try{De(a,(function(t,n){var r=t;v(t)&&(r=xt(t)),b.push(e+n+"="+encodeURIComponent(r))}))}catch(t){throw b.push(e+"type="+encodeURIComponent("_badmap")),t}}function yn(a,b,t,e,n){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(e)}catch(t){}}sn.prototype.cancel=function(){var t,e;if(this.c=pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),o=n.next();!o.done;o=n.next()){o.value.cancel()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},dd.prototype.stringify=function(a){return h.JSON.stringify(a,void 0)},dd.prototype.parse=function(a){return h.JSON.parse(a,void 0)};var gn=h.JSON.parse;function mn(a){Pt.call(this),this.headers=new xe,this.G=a||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=bn,this.B=this.F=!1}T(mn,Pt);var bn="",wn=/^https?$/i,_n=["POST","PUT"];function In(a){return"content-type"==a.toLowerCase()}function En(a,b){a.b=!1,a.a&&(a.g=!0,a.a.abort(),a.g=!1),a.f=b,a.h=5,Tn(a),Nn(a)}function Tn(a){a.v||(a.v=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function An(a){if(a.b&&void 0!==c&&(!a.s[1]||4!=On(a)||2!=a.S()))if(a.l&&4==On(a))Ht(a.va,0,a);else if(a.dispatchEvent("readystatechange"),4==On(a)){a.b=!1;try{var t,b=a.S();t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.D).match(Le)[1]||null;if(!r&&h.self&&h.self.location){var o=h.self.location.protocol;r=o.substr(0,o.length-1)}n=!wn.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.h=6;try{var f=2<On(a)?a.a.statusText:""}catch(t){f=""}a.f=f+" ["+a.S()+"]",Tn(a)}}finally{Nn(a)}}}function Nn(a,b){if(a.a){Sn(a);var t=a.a,e=a.s[0]?f:null;a.a=null,a.s=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){}}}function Sn(a){a.a&&a.B&&(a.a.ontimeout=null),a.m&&(h.clearTimeout(a.m),a.m=null)}function On(a){return a.a?a.a.readyState:0}function td(a,b,t){t:{for(e in t){var e=!1;break t}e=!0}e||(t=function(a){var b="";return j(a,(function(t,e){b+=e,b+=":",b+=t,b+="\r\n"})),b}(t),"string"==typeof a?null!=t&&encodeURIComponent(String(t)):Be(a,b,t))}function kn(a,b,t){return t&&t.internalChannelParams&&t.internalChannelParams[a]||b}function Pn(a){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=kn("failFast",!1,a),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=kn("baseRetryDelayMs",5e3,a),this.Ga=kn("retryDelaySeedMs",1e4,a),this.Da=kn("forwardChannelMaxRetries",2,a),this.ga=kn("forwardChannelRequestTimeoutMs",2e4,a),this.Ea=a&&a.nb||void 0,this.D=void 0,this.w=a&&a.supportsCrossDomainXhr||!1,this.B="",this.b=new sn(a&&a.concurrentRequestLimit),this.ja=new dn,this.fa=a&&a.fastHandshake||!1,a&&a.forceLongPolling&&(this.W=!1),this.O=void 0}function Dn(a){if(xn(a),3==a.u){var b=a.H++,t=Me(a.v);Be(t,"SID",a.B),Be(t,"RID",b),Be(t,"TYPE","terminate"),jn(a,t),(b=new ge(a,b,void 0)).B=2,b.f=Ge(Me(t)),t=!1,h.navigator&&h.navigator.sendBeacon&&(t=h.navigator.sendBeacon(b.f.toString(),"")),!t&&h.Image&&((new Image).src=b.f,t=!0),t||(b.a=Wn(b.g,null),b.a.$(b.f)),b.s=q(),Ae(b)}zn(a)}function xn(a){a.a&&(a.a.cancel(),a.a=null),a.i&&(h.clearTimeout(a.i),a.i=null),Fn(a),a.b.cancel(),a.g&&("number"==typeof a.g&&h.clearTimeout(a.g),a.g=null)}function Rn(a,b){a.f.push(new on(a.Fa++,b)),3==a.u&&Cn(a)}function Cn(a){un(a.b)||a.g||(a.g=!0,Ut(a.xa,a),a.o=0)}function Ln(a,b){var t;t=b?b.W:a.H++;var e=Me(a.v);Be(e,"SID",a.B),Be(e,"RID",t),Be(e,"AID",a.G),jn(a,e),a.h&&a.j&&td(e,a.h,a.j),t=new ge(a,t,a.o+1),null===a.h&&(t.m=a.j),b&&(a.f=b.i.concat(a.f)),b=Mn(a,t,1e3),t.setTimeout(Math.round(.5*a.ga)+Math.round(.5*a.ga*Math.random())),fn(a.b,t),_e(t,e,b)}function jn(a,b){a.c&&De({},(function(t,e){Be(b,e,t)}))}function Mn(a,b,t){t=Math.min(a.f.length,t);var e=a.c?I(a.c.Ha,a.c,a):null;t:for(var n=a.f,r=-1;;){var o=["count="+t];-1==r?0<t?(r=n[0].b,o.push("ofs="+r)):r=0:o.push("ofs="+r);for(var c=!0,p=0;p<t;p++){var h=n[p].b,f=n[p].a;if(0>(h-=r))r=Math.max(0,n[p].b-100),c=!1;else try{vn(f,o,"req"+h+"_")}catch(t){e&&e(f)}}if(c){e=o.join("&");break t}}return a=a.f.splice(0,t),b.i=a,e}function Vn(a){a.a||a.i||(a.J=1,Ut(a.wa,a),a.m=0)}function Un(a){return!(a.a||a.i||3<=a.m)&&(a.J++,a.i=se(I(a.wa,a),Bn(a,a.m)),a.m++,!0)}function Fn(a){null!=a.l&&(h.clearTimeout(a.l),a.l=null)}function qn(a,b){var t=null;if(a.a==b){Fn(a),a.a=null;var e=2}else{if(!hn(a.b,b))return;t=b.i,ln(a.b,b),e=1}if(a.A=b.H,0!=a.u)if(b.b)if(1==e){t=b.j?b.j.length:0,b=q()-b.s;var n=a.o;(e=te()).dispatchEvent(new oe(e,t,b,n)),Cn(a)}else Vn(a);else if(3==(n=b.c)||0==n&&0<a.A||!(1==e&&function(a,b){return!(cn(a.b)>=a.b.f-(a.g?1:0))&&(a.g?(a.f=b.i.concat(a.f),!0):!(1==a.u||2==a.u||a.o>=(a.Ca?0:a.Da))&&(a.g=se(I(a.xa,a,b),Bn(a,a.o)),a.o++,!0))}(a,b)||2==e&&Un(a)))switch(t&&0<t.length&&(b=a.b,b.c=b.c.concat(t)),n){case 1:Gn(a,5);break;case 4:Gn(a,10);break;case 3:Gn(a,6);break;default:Gn(a,2)}}function Bn(a,b){var t=a.Ba+Math.floor(Math.random()*a.Ga);return a.c||(t*=2),t*b}function Gn(a,b){if(2==b){var t=null;a.c&&(t=null);var e=I(a.Ta,a);t||(t=new je("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ve(t,"https"),Ge(t)),function(a,b){var t=new $t;if(h.Image){var e=new Image;e.onload=E(yn,t,e,"TestLoadImage: loaded",!0,b),e.onerror=E(yn,t,e,"TestLoadImage: error",!1,b),e.onabort=E(yn,t,e,"TestLoadImage: abort",!1,b),e.ontimeout=E(yn,t,e,"TestLoadImage: timeout",!1,b),h.setTimeout((function(){e.ontimeout&&e.ontimeout()}),1e4),e.src=a}else b(!1)}(t.toString(),e)}else ie(2);a.u=0,a.c&&a.c.la(b),zn(a),xn(a)}function zn(a){a.u=0,a.A=-1,a.c&&(0==pn(a.b).length&&0==a.f.length||(a.b.c.length=0,k(a.f),a.f.length=0),a.c.ka())}function Hn(a,b,t){var e=function(a){return a instanceof je?Me(a):new je(a,void 0)}(t);if(""!=e.c)b&&Ue(e,b+"."+e.c),Fe(e,e.h);else{var n=h.location;e=function(a,b,t,e){var n=new je(null,void 0);return a&&Ve(n,a),b&&Ue(n,b),t&&Fe(n,t),e&&(n.g=e),n}(n.protocol,b?b+"."+n.hostname:n.hostname,+n.port,t)}return a.N&&j(a.N,(function(t,n){Be(e,n,t)})),b=a.s,t=a.ha,b&&t&&Be(e,b,t),Be(e,"VER",a.oa),jn(a,e),e}function Wn(a,b){if(b&&!a.w)throw Error("Can't create secondary domain capable XhrIo object.");return(b=new mn(a.Ea)).F=a.w,b}function Kn(){}function Xn(){if(z&&!(10<=Number(it)))throw Error("Environmental error: no available transport.")}function Yn(a,b){Pt.call(this),this.a=new Pn(b),this.l=a,this.b=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.a.j=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.pa&&(a?a["X-WebChannel-Client-Profile"]=b.pa:a={"X-WebChannel-Client-Profile":b.pa}),this.a.F=a,(a=b&&b.httpHeadersOverwriteParam)&&!P(a)&&(this.a.h=a),this.h=b&&b.supportsCrossDomainXhr||!1,this.g=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.a.s=b,null!==(a=this.b)&&b in a&&(b in(a=this.b)&&delete a[b])),this.f=new $n(this)}function Jn(a){de.call(this);var b=a.__sm__;if(b){t:{for(var t in b){a=t;break t}a=void 0}(this.c=a)?(a=this.c,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}function Qn(){ve.call(this),this.status=1}function $n(a){this.a=a}(g=mn.prototype).$=function(a,b,t,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);b=b?b.toUpperCase():"GET",this.D=a,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?he(this.G):he(le),this.a.onreadystatechange=I(this.va,this);try{this.w=!0,this.a.open(b,String(a),!0),this.w=!1}catch(t){return void En(this,t)}a=t||"";var n=new xe(this.headers);e&&De(e,(function(t,e){n.set(e,t)})),e=function(a){t:{for(var b=In,t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(n.K()),t=h.FormData&&a instanceof h.FormData,!(0<=N(_n,b))||e||t||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Sn(this),0<this.o&&((this.B=function(a){return z&&et(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=I(this.ta,this)):this.m=Ht(this.ta,this.o,this)),this.l=!0,this.a.send(a),this.l=!1}catch(t){En(this,t)}},g.ta=function(){void 0!==c&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nn(this))},g.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),mn.M.C.call(this)},g.va=function(){this.j||(this.w||this.l||this.g?An(this):this.Oa())},g.Oa=function(){An(this)},g.S=function(){try{return 2<On(this)?this.a.status:-1}catch(t){return-1}},g.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},g.Ja=function(a){if(this.a){var b=this.a.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),gn(b)}},g.qa=function(){return this.h},g.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(g=Pn.prototype).oa=8,g.u=1,g.xa=function(a){if(this.g)if(this.g=null,1==this.u){if(!a){this.H=Math.floor(1e5*Math.random());var t,b=new ge(this,a=this.H++,void 0),e=this.j;if(this.F&&(e?U(e=M(e),this.F):e=this.F),null===this.h&&(b.m=e),this.fa)t:{for(var n=t=0;n<this.f.length;n++){var r=this.f[n];if(void 0===(r="__data__"in r.a&&"string"==typeof(r=r.a.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break t}if(4096===t||n===this.f.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Mn(this,b,t),Be(n=Me(this.v),"RID",a),Be(n,"CVER",22),this.s&&Be(n,"X-HTTP-Session-Id",this.s),jn(this,n),this.h&&e&&td(n,this.h,e),fn(this.b,b),this.fa?(Be(n,"$req",t),Be(n,"SID","null"),b.R=!0,_e(b,n,null)):_e(b,n,t),this.u=2}}else 3==this.u&&(a?Ln(this,a):0==this.f.length||un(this.b)||Ln(this))},g.wa=function(){this.i=null,this.a=new ge(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var a=Me(this.ea);Be(a,"RID","rpc"),Be(a,"SID",this.B),Be(a,"CI",this.U?"0":"1"),Be(a,"AID",this.G),jn(this,a),Be(a,"TYPE","xmlhttp"),this.h&&this.j&&td(a,this.h,this.j),this.D&&this.a.setTimeout(this.D);var b=this.a,t=this.R;b.B=1,b.f=Ge(Me(a)),b.j=null,b.F=!0,Ie(b,t)},g.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Un(this),ie(19))},g.Ta=function(a){ie(a?2:1)},(g=Kn.prototype).na=function(){},g.ma=function(){},g.la=function(){},g.ka=function(){},g.Ha=function(){},Xn.prototype.a=function(a,b){return new Yn(a,b)},T(Yn,Pt),(g=Yn.prototype).addEventListener=function(a,b,t,e){Yn.M.addEventListener.call(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){Yn.M.removeEventListener.call(this,a,b,t,e)},g.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var a=this.a,b=this.l,t=this.b||void 0;ie(0),a.P=b,a.N=t||{},a.U=a.W,a.v=Hn(a,null,a.P),Cn(a)},g.close=function(){Dn(this.a)},g.La=function(a){if("string"==typeof a){var b={};b.__data__=a,Rn(this.a,b)}else this.g?((b={}).__data__=xt(a),Rn(this.a,b)):Rn(this.a,a)},g.C=function(){this.a.c=null,delete this.f,Dn(this.a),delete this.a,Yn.M.C.call(this)},T(Jn,de),T(Qn,ve),T($n,Kn),$n.prototype.na=function(){this.a.dispatchEvent("a")},$n.prototype.ma=function(a){this.a.dispatchEvent(new Jn(a))},$n.prototype.la=function(a){this.a.dispatchEvent(new Qn(a))},$n.prototype.ka=function(){this.a.dispatchEvent("b")},Xn.prototype.createWebChannel=Xn.prototype.a,Yn.prototype.send=Yn.prototype.La,Yn.prototype.open=Yn.prototype.Ka,Yn.prototype.close=Yn.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,ue.COMPLETE="complete",fe.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Pt.prototype.listen=Pt.prototype.ra,mn.prototype.listenOnce=mn.prototype.sa,mn.prototype.getLastError=mn.prototype.Ma,mn.prototype.getLastErrorCode=mn.prototype.qa,mn.prototype.getStatus=mn.prototype.S,mn.prototype.getResponseJson=mn.prototype.Ja,mn.prototype.getResponseText=mn.prototype.Y,mn.prototype.send=mn.prototype.$;var Zn={createWebChannelTransport:function(){return new Xn},ErrorCode:ae,EventType:ue,WebChannel:fe,XhrIo:mn},er=Zn.createWebChannelTransport,nr=Zn.ErrorCode,rr=Zn.EventType,ir=Zn.WebChannel,or=Zn.XhrIo;e.default=Zn}.call(this,n(21))},798:function(t,e,n){"use strict";(function(t){var e=n(290),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,t){a!=Array.prototype&&a!=Object.prototype&&(a[b]=t.value)};var o=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,a];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}return globalThis}(this);function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function h(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:c(a)}}!function(a,b){if(b){var t=o;a=a.split(".");for(var e=0;e<a.length-1;e++){var r=a[e];r in t||(t[r]={}),t=t[r]}(b=b(e=t[a=a[a.length-1]]))!=e&&null!=b&&n(t,a,{configurable:!0,writable:!0,value:b})}}("Promise",(function(a){function b(g){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{g(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.a=null}function e(g){return g instanceof b?g:new b((function(t){t(g)}))}if(a)return a;t.prototype.b=function(g){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(g)};var n=o.setTimeout;t.prototype.c=function(g){n(g,0)},t.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var t=0;t<g.length;++t){var e=g[t];g[t]=null;try{e()}catch(t){this.f(t)}}}this.a=null},t.prototype.f=function(g){this.c((function(){throw g}))},b.prototype.f=function(){function g(p){return function(n){e||(e=!0,p.call(t,n))}}var t=this,e=!1;return{resolve:g(this.m),reject:g(this.g)}},b.prototype.m=function(g){if(g===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.s(g);else{t:switch(typeof g){case"object":var t=null!=g;break t;case"function":t=!0;break t;default:t=!1}t?this.u(g):this.h(g)}},b.prototype.u=function(g){var t=void 0;try{t=g.then}catch(t){return void this.g(t)}"function"==typeof t?this.w(t,g):this.h(g)},b.prototype.g=function(g){this.i(2,g)},b.prototype.h=function(g){this.i(1,g)},b.prototype.i=function(g,t){if(0!=this.b)throw Error("Cannot settle("+g+", "+t+"): Promise already settled in state"+this.b);this.b=g,this.c=t,this.l()},b.prototype.l=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)r.b(this.a[g]);this.a=null}};var r=new t;return b.prototype.s=function(g){var t=this.f();g.Oa(t.resolve,t.reject)},b.prototype.w=function(g,t){var e=this.f();try{g.call(t,e.resolve,e.reject)}catch(t){e.reject(t)}},b.prototype.then=function(g,t){function e(t,e){return"function"==typeof t?function(e){try{p(t(e))}catch(t){n(t)}}:e}var p,n,r=new b((function(t,e){p=t,n=e}));return this.Oa(e(g,p),e(t,n)),r},b.prototype.catch=function(g){return this.then(void 0,g)},b.prototype.Oa=function(g,t){function e(){switch(p.b){case 1:g(p.c);break;case 2:t(p.c);break;default:throw Error("Unexpected state: "+p.b)}}var p=this;null==this.a?r.b(e):this.a.push(e)},b.resolve=e,b.reject=function(g){return new b((function(t,e){e(g)}))},b.race=function(g){return new b((function(t,n){for(var p=h(g),r=p.next();!r.done;r=p.next())e(r.value).Oa(t,n)}))},b.all=function(g){var t=h(g),n=t.next();return n.done?e([]):new b((function(p,r){function o(t){return function(e){c[t]=e,0==--h&&p(c)}}var c=[],h=0;do{c.push(void 0),h++,e(n.value).Oa(o(c.length-1),r),n=t.next()}while(!n.done)}))},b}));var f=f||{},l=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function y(){}function m(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function w(a){var b=m(a);return"array"==b||"object"==b&&"number"==typeof a.length}function _(a){return"function"==m(a)}function q(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function I(a){return Object.prototype.hasOwnProperty.call(a,E)&&a[E]||(a[E]=++T)}var E="closure_uid_"+(1e9*Math.random()>>>0),T=0;function A(a,b,t){return a.call.apply(a.bind,arguments)}function N(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function S(a,b,t){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:N).apply(null,arguments)}function O(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var k=Date.now||function(){return+new Date};function P(a,b){function t(){}t.prototype=b.prototype,a.Za=b.prototype,a.prototype=new t,a.prototype.constructor=a}function u(a,b,t){this.code=R+a,this.message=b||C[a]||"",this.a=t||null}function D(a){var b=a&&a.code;return b?new u(b.substring(R.length),a.message,a.serverResponse):null}P(u,Error),u.prototype.v=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a},u.prototype.toJSON=function(){return this.v()};var x,R="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},L={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(a){for(var b in L)if(L[b].id===a)return{firebaseEndpoint:(a=L[b]).Ra,secureTokenEndpoint:a.Xa,identityPlatformEndpoint:a.Ua};return null}function M(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function V(a){if(Error.captureStackTrace)Error.captureStackTrace(this,V);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function U(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");V.call(this,t+a[e])}function F(a,b){throw new U("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function B(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function G(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function z(){this.b=this.a=null}x=j("__EID__")?"__EID__":void 0,P(V,Error),V.prototype.name="CustomError",P(U,V),U.prototype.name="AssertionError",B.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var H=new B((function(){return new K}),(function(a){a.reset()}));function W(){var a=Ae,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function K(){this.next=this.b=this.a=null}z.prototype.add=function(a,b){var t=H.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},K.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},K.prototype.reset=function(){this.next=this.b=this.a=null};var X=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},Y=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n="string"==typeof a?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};var J=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=[],n=0,r="string"==typeof a?a.split(""):a,g=0;g<t;g++)if(g in r){var o=r[g];b.call(void 0,o,g,a)&&(e[n++]=o)}return e},Q=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),n="string"==typeof a?a.split(""):a,r=0;r<t;r++)r in n&&(e[r]=b.call(void 0,n[r],r,a));return e},$=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function Z(a,b){return 0<=X(a,b)}function tt(a,b){var t;return(t=0<=(b=X(a,b)))&&Array.prototype.splice.call(a,b,1),t}function et(a,b){!function(a,b){for(var t="string"==typeof a?a.split(""):a,e=a.length-1;0<=e;--e)e in t&&b.call(void 0,t[e],e,a)}(a,(function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0}))}function nt(a){return Array.prototype.concat.apply([],arguments)}function it(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}var ot,st=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},at=/&/g,ut=/</g,ct=/>/g,ht=/"/g,ft=/'/g,lt=/\x00/g,pt=/[\x00&<>"']/;function vt(a,b){return-1!=a.indexOf(b)}function yt(a,b){return a<b?-1:a>b?1:0}t:{var gt=l.navigator;if(gt){var mt=gt.userAgent;if(mt){ot=mt;break t}}ot=""}function bt(a){return vt(ot,a)}function wt(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function _t(a){for(var b in a)return!1;return!0}function It(a){var t,b={};for(t in a)b[t]=a[t];return b}var Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<Et.length;r++)t=Et[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function At(a,b){t:{try{var t=a&&a.ownerDocument,e=t&&(t.defaultView||t.parentWindow);if((e=e||l).Element&&e.Location){var n=e;break t}}catch(t){}n=null}if(n&&void 0!==n[b]&&(!a||!(a instanceof n[b])&&(a instanceof n.Location||a instanceof n.Element))){if(q(a))try{var r=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(t){r="<object could not be stringified>"}else r=void 0===a?"undefined":null===a?"null":typeof a;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,r)}}function Nt(a,b){this.a=a===kt&&b||"",this.b=Ot}function St(a){return a instanceof Nt&&a.constructor===Nt&&a.b===Ot?a.a:(F("expected object of type Const, got '"+a+"'"),"type_error:Const")}Nt.prototype.ra=!0,Nt.prototype.qa=function(){return this.a},Nt.prototype.toString=function(){return"Const{"+this.a+"}"};var Ot={},kt={},Pt=new Nt(kt,"");function Dt(a,b){this.a=a===Mt&&b||"",this.b=jt}function xt(a){return a instanceof Dt&&a.constructor===Dt&&a.b===jt?a.a:(F("expected object of type TrustedResourceUrl, got '"+a+"' of type "+m(a)),"type_error:TrustedResourceUrl")}function Rt(a,b){var t=St(a);if(!Lt.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return a=t.replace(Ct,(function(e,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(e=b[n])instanceof Nt?St(e):encodeURIComponent(String(e))})),new Dt(Mt,a)}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,Lt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,jt={},Mt={};function Vt(a,b){this.a=a===Gt&&b||"",this.b=Bt}function Ut(a){return a instanceof Vt&&a.constructor===Vt&&a.b===Bt?a.a:(F("expected object of type SafeUrl, got '"+a+"' of type "+m(a)),"type_error:SafeUrl")}Vt.prototype.ra=!0,Vt.prototype.qa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ft=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function qt(a){return a instanceof Vt?a:(a="object"==typeof a&&a.ra?a.qa():String(a),Ft.test(a)||(a="about:invalid#zClosurez"),new Vt(Gt,a))}var Bt={},Gt={};function zt(){this.a="",this.b=Wt}function Ht(a){return a instanceof zt&&a.constructor===zt&&a.b===Wt?a.a:(F("expected object of type SafeHtml, got '"+a+"' of type "+m(a)),"type_error:SafeHtml")}zt.prototype.ra=!0,zt.prototype.qa=function(){return this.a.toString()},zt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Wt={};function Kt(a){var b=new zt;return b.a=a,b}Kt("<!DOCTYPE html>");var Xt=Kt("");function Yt(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}function Jt(a){return pt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(at,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(ut,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(ct,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(ht,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(ft,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(lt,"&#0;"))),a}function Qt(a){return Qt[" "](a),a}Kt("<br>"),Qt[" "]=y;var $t,a,Zt=bt("Opera"),te=bt("Trident")||bt("MSIE"),ee=bt("Edge"),ne=ee||te,re=bt("Gecko")&&!(vt(ot.toLowerCase(),"webkit")&&!bt("Edge"))&&!(bt("Trident")||bt("MSIE"))&&!bt("Edge"),ie=vt(ot.toLowerCase(),"webkit")&&!bt("Edge");function oe(){var a=l.document;return a?a.documentMode:void 0}t:{var se="",ae=(a=ot,re?/rv:([^\);]+)(\)|;)/.exec(a):ee?/Edge\/([\d\.]+)/.exec(a):te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):ie?/WebKit\/(\S+)/.exec(a):Zt?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(ae&&(se=ae?ae[1]:""),te){var ue=oe();if(null!=ue&&ue>parseFloat(se)){$t=String(ue);break t}}$t=se}var ce,he={};function fe(a){return function(a,b){var t=he;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=st(String($t)).split("."),e=st(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var g=t[r]||"",o=e[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=yt(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||yt(0==g[2].length,0==o[2].length)||yt(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b}))}ce=l.document&&te?oe():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(a){}var le=!te||9<=Number(ce);function pe(a){var b=document;return"string"==typeof a?b.getElementById(a):a}function de(a,b){wt(b,(function(t,e){t&&"object"==typeof t&&t.ra&&(t=t.qa()),"style"==e?a.style.cssText=t:"class"==e?a.className=t:"for"==e?a.htmlFor=t:ge.hasOwnProperty(e)?a.setAttribute(ge[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,t):a[e]=t}))}var ve,ye,ge={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function me(a,b,t){function e(g){g&&b.appendChild("string"==typeof g?a.createTextNode(g):g)}for(var n=2;n<t.length;n++){var r=t[n];!w(r)||q(r)&&0<r.nodeType?e(r):Y(we(r)?it(r):r,e)}}function be(a,b){return b=String(b),"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase()),a.createElement(b)}function we(a){if(a&&"number"==typeof a.length){if(q(a))return"function"==typeof a.item||"string"==typeof a.item;if(_(a))return"function"==typeof a.item}return!1}function _e(a){l.setTimeout((function(){throw a}),0)}function Ie(){var a=l.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!bt("Presto")&&(a=function(){var t=be(document,"IFRAME");t.style.display="none",function(a){var b=new Dt(Mt,St(Pt));At(a,"HTMLIFrameElement"),a.src=xt(b).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ht(Xt)),t.close();var g="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=S((function(t){"*"!=n&&t.origin!=n||t.data!=g||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(g,n)}}}),void 0!==a&&!bt("Trident")&&!bt("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var e=(t=t.next).Db;t.Db=null,e()}},function(t){e.next={Db:t},e=e.next,b.port2.postMessage(0)}}return function(t){l.setTimeout(t,0)}}function Ee(a,b){ye||function(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve(void 0);ye=function(){a.then(Ne)}}else ye=function(){var b=Ne;!_(l.setImmediate)||l.Window&&l.Window.prototype&&!bt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ve||(ve=Ie()),ve(b)):l.setImmediate(b)}}(),Te||(ye(),Te=!0),Ae.add(a,b)}var Te=!1,Ae=new z;function Ne(){for(var a;a=W();){try{a.a.call(a.b)}catch(t){_e(t)}G(H,a)}Te=!1}function Se(a,b){if(this.a=Oe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=y)try{var t=this;a.call(b,(function(e){Fe(t,ke,e)}),(function(e){if(!(e instanceof Ke))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Fe(t,Pe,e)}))}catch(t){Fe(this,Pe,t)}}var Oe=0,ke=2,Pe=3;function De(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}De.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new B((function(){return new De}),(function(a){a.reset()}));function Re(a,b,t){var e=xe.get();return e.g=a,e.b=b,e.f=t,e}function Ce(a){if(a instanceof Se)return a;var b=new Se(y);return Fe(b,ke,a),b}function Le(a){return new Se((function(b,t){t(a)}))}function je(a,b,t){qe(a,b,t,null)||Ee(O(b,a))}function Me(a){return new Se((function(b){var t=a.length,e=[];if(t)for(var n=function(n,r,p){t--,e[n]=r?{Mb:!0,value:p}:{Mb:!1,reason:p},0==t&&b(e)},r=0;r<a.length;r++)je(a[r],O(n,r,!0),O(n,r,!1));else b(e)}))}function Ve(a,b){a.b||a.a!=ke&&a.a!=Pe||Be(a),a.f?a.f.next=b:a.b=b,a.f=b}function Ue(a,b,t,e){var n=Re(null,null,null);return n.a=new Se((function(r,g){n.g=b?function(t){try{var n=b.call(e,t);r(n)}catch(t){g(t)}}:r,n.b=t?function(n){try{var o=t.call(e,n);void 0===o&&n instanceof Ke?g(n):r(o)}catch(t){g(t)}}:g})),n.a.c=a,Ve(a,n),n.a}function Fe(a,b,t){a.a==Oe&&(a===t&&(b=Pe,t=new TypeError("Promise cannot resolve to itself")),a.a=1,qe(t,a.Yc,a.Zc,a)||(a.i=t,a.a=b,a.c=null,Be(a),b!=Pe||t instanceof Ke||function(a,b){a.g=!0,Ee((function(){a.g&&We.call(null,b)}))}(a,t)))}function qe(a,b,t,e){if(a instanceof Se)return Ve(a,Re(b||y,t||null,e)),!0;if(M(a))return a.then(b,t,e),!0;if(q(a))try{var n=a.then;if(_(n))return function(a,b,t,e,n){function r(t){o||(o=!0,e.call(n,t))}var o=!1;try{b.call(a,(function(e){o||(o=!0,t.call(n,e))}),r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function Be(a){a.h||(a.h=!0,Ee(a.ec,a))}function Ge(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function ze(a,b,t,e){if(t==Pe&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,He(b,t,e);else try{b.c?b.g.call(b.f):He(b,t,e)}catch(t){We.call(null,t)}G(xe,b)}function He(a,b,t){b==ke?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}Se.prototype.then=function(a,b,t){return Ue(this,_(a)?a:null,_(b)?b:null,t)},Se.prototype.$goog_Thenable=!0,(e=Se.prototype).ma=function(a,b){return(a=Re(a,a,b)).c=!0,Ve(this,a),this},e.o=function(a,b){return Ue(this,null,a,b)},e.cancel=function(a){if(this.a==Oe){var b=new Ke(a);Ee((function(){!function t(a,b){if(a.a==Oe)if(a.c){var e=a.c;if(e.b){for(var n=0,r=null,o=null,g=e.b;g&&(g.c||(n++,g.a==a&&(r=g),!(r&&1<n)));g=g.next)r||(o=g);r&&(e.a==Oe&&1==n?t(e,b):(o?((n=o).next==e.f&&(e.f=n),n.next=n.next.next):Ge(e),ze(e,r,Pe,b)))}a.c=null}else Fe(a,Pe,b)}(this,b)}),this)}},e.Yc=function(a){this.a=Oe,Fe(this,ke,a)},e.Zc=function(a){this.a=Oe,Fe(this,Pe,a)},e.ec=function(){for(var a;a=Ge(this);)ze(this,a,this.a,this.i);this.h=!1};var We=_e;function Ke(a){V.call(this,a)}function Xe(){0!=Ye&&(Je[I(this)]=this),this.wa=this.wa,this.na=this.na}P(Ke,V),Ke.prototype.name="cancel";var Ye=0,Je={};function Qe(a){if(!a.wa&&(a.wa=!0,a.Ba(),0!=Ye)){var b=I(a);if(0!=Ye&&a.na&&0<a.na.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Je[b]}}Xe.prototype.wa=!1,Xe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var $e=Object.freeze||function(a){return a},Ze=!te||9<=Number(ce),tn=te&&!fe("9"),en=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{l.addEventListener("test",y,b),l.removeEventListener("test",y,b)}catch(t){}return a}();function nn(a,b){this.type=a,this.b=this.target=b,this.defaultPrevented=!1}function rn(a,b){if(nn.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(re){t:{try{Qt(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:on[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}nn.prototype.preventDefault=function(){this.defaultPrevented=!0},P(rn,nn);var on=$e({2:"touch",3:"pen",4:"mouse"});rn.prototype.preventDefault=function(){rn.Za.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,tn)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},rn.prototype.f=function(){return this.a};var sn="closure_listenable_"+(1e6*Math.random()|0),an=0;function un(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Ta=n,this.key=++an,this.ua=this.Na=!1}function cn(a){a.ua=!0,a.listener=null,a.proxy=null,a.src=null,a.Ta=null}function dd(a){this.src=a,this.a={},this.b=0}function hn(a,b){var t=b.type;t in a.a&&tt(a.a[t],b)&&(cn(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function fn(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.ua&&r.listener==b&&r.capture==!!t&&r.Ta==e)return n}return-1}dd.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=fn(a,b,e,n);return-1<g?(b=a[g],t||(b.Na=!1)):((b=new un(b,this.src,r,!!e,n)).Na=t,a.push(b)),b};var ln="closure_lm_"+(1e6*Math.random()|0),pn={};function dn(a,b,t,e,n){if(e&&e.once)yn(a,b,t,e,n);else if(Array.isArray(b))for(var r=0;r<b.length;r++)dn(a,b[r],t,e,n);else t=Tn(t),a&&a[sn]?Nn(a,b,t,q(e)?!!e.capture:!!e,n):vn(a,b,t,!1,e,n)}function vn(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=q(n)?!!n.capture:!!n,o=In(a);if(o||(a[ln]=o=new dd(a)),!(t=o.add(b,t,e,g,r)).proxy){if(e=function(){var a=_n,b=Ze?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)en||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(mn(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function yn(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)yn(a,b[r],t,e,n);else t=Tn(t),a&&a[sn]?Sn(a,b,t,q(e)?!!e.capture:!!e,n):vn(a,b,t,!0,e,n)}function td(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)td(a,b[r],t,e,n);else e=q(e)?!!e.capture:!!e,t=Tn(t),a&&a[sn]?(a=a.u,(b=String(b).toString())in a.a&&(-1<(t=fn(r=a.a[b],t,e,n))&&(cn(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=In(a))&&(b=a.a[b.toString()],a=-1,b&&(a=fn(b,t,e,n)),(t=-1<a?b[a]:null)&&gn(t))}function gn(a){if("number"!=typeof a&&a&&!a.ua){var b=a.src;if(b&&b[sn])hn(b.u,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(mn(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=In(b))?(hn(t,a),0==t.b&&(t.src=null,b[ln]=null)):cn(a)}}}function mn(a){return a in pn?pn[a]:pn[a]="on"+a}function bn(a,b,t,e){var n=!0;if((a=In(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.ua&&(r=wn(r,e),n=n&&!1!==r)}return n}function wn(a,b){var t=a.listener,e=a.Ta||a.src;return a.Na&&gn(a),t.call(e,b)}function _n(a,b){if(a.ua)return!0;if(!Ze){if(!b)t:{b=["window","event"];for(var t=l,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}if(b=new rn(e=b,this),t=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var n=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){n=!0}(n||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],n=b.b;n;n=n.parentNode)e.push(n);for(a=a.type,n=e.length-1;0<=n;n--){b.b=e[n];var r=bn(e[n],a,!0,b);t=t&&r}for(n=0;n<e.length;n++)b.b=e[n],r=bn(e[n],a,!1,b),t=t&&r}return t}return wn(a,new rn(b,this))}function In(a){return(a=a[ln])instanceof dd?a:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(a){return _(a)?a:(a[En]||(a[En]=function(b){return a.handleEvent(b)}),a[En])}function An(){Xe.call(this),this.u=new dd(this),this.Yb=this,this.eb=null}function Nn(a,b,t,e,n){a.u.add(String(b),t,!1,e,n)}function Sn(a,b,t,e,n){a.u.add(String(b),t,!0,e,n)}function On(a,b,t,e){if(!(b=a.u.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.ua&&g.capture==t){var o=g.listener,c=g.Ta||g.src;g.Na&&hn(a.u,g),n=!1!==o.call(c,e)&&n}}return n&&!e.defaultPrevented}function kn(a,b,t){if(_(a))t&&(a=S(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=S(a.handleEvent,a)}return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)}function Pn(a){var b=null;return new Se((function(t,e){-1==(b=kn((function(){t(void 0)}),a))&&e(Error("Failed to schedule timer."))})).o((function(t){throw l.clearTimeout(b),t}))}function Dn(a){if(a.V&&"function"==typeof a.V)return a.V();if("string"==typeof a)return a.split("");if(w(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function xn(a){if(a.X&&"function"==typeof a.X)return a.X();if(!a.V||"function"!=typeof a.V){if(w(a)||"string"==typeof a){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function Rn(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Rn)for(t=a.X(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Cn(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];Ln(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)Ln(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function Ln(a,b){return Object.prototype.hasOwnProperty.call(a,b)}P(An,Xe),An.prototype[sn]=!0,An.prototype.addEventListener=function(a,b,t,e){dn(this,a,b,t,e)},An.prototype.removeEventListener=function(a,b,t,e){td(this,a,b,t,e)},An.prototype.dispatchEvent=function(a){var b,t=this.eb;if(t)for(b=[];t;t=t.eb)b.push(t);t=this.Yb;var e=a.type||a;if("string"==typeof a)a=new nn(a,t);else if(a instanceof nn)a.target=a.target||t;else{var n=a;Tt(a=new nn(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=On(g,e,!0,a)&&n}if(n=On(g=a.b=t,e,!0,a)&&n,n=On(g,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=On(g=a.b=b[r],e,!1,a)&&n;return n},An.prototype.Ba=function(){if(An.Za.Ba.call(this),this.u){var t,a=this.u;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)cn(e[n]);delete a.a[t],a.b--}}this.eb=null},(e=Rn.prototype).V=function(){Cn(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},e.X=function(){return Cn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(a,b){return Ln(this.b,a)?this.b[a]:b},e.set=function(a,b){Ln(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},e.forEach=function(a,b){for(var t=this.X(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(a,b){var t;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,a instanceof Mn?(this.h=void 0!==b?b:a.h,Vn(this,a.f),this.i=a.i,this.b=a.b,Un(this,a.l),this.c=a.c,Fn(this,sr(a.a)),this.g=a.g):a&&(t=String(a).match(jn))?(this.h=!!b,Vn(this,t[1]||"",!0),this.i=Hn(t[2]||""),this.b=Hn(t[3]||"",!0),Un(this,t[4]),this.c=Hn(t[5]||"",!0),Fn(this,t[6]||"",!0),this.g=Hn(t[7]||"")):(this.h=!!b,this.a=new Zn(null,this.h))}function Vn(a,b,t){a.f=t?Hn(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function Un(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.l=b}else a.l=null}function Fn(a,b,t){b instanceof Zn?(a.a=b,function(a,b){b&&!a.f&&(er(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(rr(this,e),or(this,n,t))}),a)),a.f=b}(a.a,a.h)):(t||(b=Wn(b,Qn)),a.a=new Zn(b,a.h))}function qn(a,b,t){a.a.set(b,t)}function Bn(a,b){return a.a.get(b)}function Gn(a){return a instanceof Mn?new Mn(a):new Mn(a,void 0)}function zn(a,b){var t=new Mn(null,void 0);return Vn(t,"https"),a&&(t.b=a),b&&(t.c=b),t}function Hn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Wn(a,b,t){return"string"==typeof a?(a=encodeURI(a).replace(b,Kn),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Kn(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Mn.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Wn(b,Xn,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.i)&&a.push(Wn(b,Xn,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.l)&&a.push(":",String(t))),(t=this.c)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(Wn(t,"/"==t.charAt(0)?Jn:Yn,!0))),(t=this.a.toString())&&a.push("?",t),(t=this.g)&&a.push("#",Wn(t,$n)),a.join("")},Mn.prototype.resolve=function(a){var b=new Mn(this),t=!!a.f;t?Vn(b,a.f):t=!!a.i,t?b.i=a.i:t=!!a.b,t?b.b=a.b:t=null!=a.l;var e=a.c;if(t)Un(b,a.l);else if(t=!!a.c){if("/"!=e.charAt(0))if(this.b&&!this.c)e="/"+e;else{var n=b.c.lastIndexOf("/");-1!=n&&(e=b.c.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(vt(n,"./")||vt(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],g=0;g<n.length;){var o=n[g++];"."==o?e&&g==n.length&&r.push(""):".."==o?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&g==n.length&&r.push("")):(r.push(o),e=!0)}e=r.join("/")}else e=n}return t?b.c=e:t=""!==a.a.toString(),t?Fn(b,sr(a.a)):t=!!a.g,t&&(b.g=a.g),b};var Xn=/[#\/\?@]/g,Yn=/[#\?:]/g,Jn=/[#\?]/g,Qn=/[#\?@]/g,$n=/#/g;function Zn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function er(a){a.a||(a.a=new Rn,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function nr(a){var b=xn(a);if(void 0===b)throw Error("Keys are undefined");var t=new Zn(null,void 0);a=Dn(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];Array.isArray(r)?or(t,n,r):t.add(n,r)}return t}function rr(a,b){er(a),b=ar(a,b),Ln(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Ln((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Cn(a)))}function ir(a,b){return er(a),b=ar(a,b),Ln(a.a.b,b)}function or(a,b,t){rr(a,b),0<t.length&&(a.c=null,a.a.set(ar(a,b),it(t)),a.b+=t.length)}function sr(a){var b=new Zn;return b.c=a.c,a.a&&(b.a=new Rn(a.a),b.b=a.b),b}function ar(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function ur(a){var b=[];return function t(a,b,e){if(null==b)e.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var n=b;b=n.length,e.push("[");for(var r="",o=0;o<b;o++)e.push(r),t(a,n[o],e),r=",";return void e.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(n in e.push("{"),r="",b)Object.prototype.hasOwnProperty.call(b,n)&&("function"!=typeof(o=b[n])&&(e.push(r),pr(n,e),e.push(":"),t(a,o,e),r=","));return void e.push("}")}b=b.valueOf()}switch(typeof b){case"string":pr(b,e);break;case"number":e.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":e.push(String(b));break;case"function":e.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(new cr,a,b),b.join("")}function cr(){}(e=Zn.prototype).add=function(a,b){er(this),this.c=null,a=ar(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(a,b){er(this),this.a.forEach((function(t,e){Y(t,(function(t){a.call(b,t,e,this)}),this)}),this)},e.X=function(){er(this);for(var a=this.a.V(),b=this.a.X(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},e.V=function(a){er(this);var b=[];if("string"==typeof a)ir(this,a)&&(b=nt(b,this.a.get(ar(this,a))));else{a=this.a.V();for(var t=0;t<a.length;t++)b=nt(b,a[t])}return b},e.set=function(a,b){return er(this),this.c=null,ir(this,a=ar(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},e.get=function(a,b){return a&&0<(a=this.V(a)).length?String(a[0]):b},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.X(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.V(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var fr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function pr(a,b){b.push('"',a.replace(lr,(function(t){var e=fr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),fr[t]=e),e})),'"')}function dr(){var a=Cr();return te&&!!ce&&11==ce||/Edge\/\d+/.test(a)}function vr(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function yr(a,b){b=b||l.window;var t="about:blank";a&&(t=Ut(qt(a))),b.location.href=t}function gr(a){return!!((a=(a||Cr()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function mr(a){a=a||l.window;try{a.close()}catch(t){}}function wr(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=Cr().toLowerCase(),e&&(b.target=e,vt(t,"crios/")&&(b.target="_blank")),Dr(Cr())==kr&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof Vt?t:qt(void 0!==t.href?t.href:String(t)),t=a.target||t.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((bt("iPhone")&&!bt("iPod")&&!bt("iPad")||bt("iPad")||bt("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(At(g=be(document,"A"),"HTMLAnchorElement"),b instanceof Vt||b instanceof Vt||(b="object"==typeof b&&b.ra?b.qa():String(b),Ft.test(b)||(b="about:invalid#zClosurez"),b=new Vt(Gt,b)),g.href=Ut(b),g.setAttribute("target",t),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=e.open("",t,g),a=Ut(b),g&&(ne&&vt(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a=Kt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Jt(a)+'">'),e=g.document)&&(e.write(Ht(a)),e.close())):(g=e.open(Ut(b),t,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(t){}return g}var _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ir=/^[^@]+@[^@]+$/;function Er(){var a=null;return new Se((function(b){"complete"==l.document.readyState?b():(a=function(){b()},yn(window,"load",a))})).o((function(b){throw td(window,"load",a),b}))}function Tr(a){return a=a||Cr(),!("file:"!==Ur()&&"ionic:"!==Ur()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){var a=l.window;try{return!(!a||a==a.top)}catch(t){return!1}}function Nr(){return void 0!==l.WorkerGlobalScope&&"function"==typeof l.importScripts}function Sr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":Nr()?"Worker":"Browser"}function Or(){var a=Sr();return"ReactNative"===a||"Node"===a}var kr="Firefox",Pr="Chrome";function Dr(a){var b=a.toLowerCase();return vt(b,"opera/")||vt(b,"opr/")||vt(b,"opios/")?"Opera":vt(b,"iemobile")?"IEMobile":vt(b,"msie")||vt(b,"trident/")?"IE":vt(b,"edge/")?"Edge":vt(b,"firefox/")?kr:vt(b,"silk/")?"Silk":vt(b,"blackberry")?"Blackberry":vt(b,"webos")?"Webos":!vt(b,"safari/")||vt(b,"chrome/")||vt(b,"crios/")||vt(b,"android")?!vt(b,"chrome/")&&!vt(b,"crios/")||vt(b,"edge/")?vt(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Pr:"Safari"}var xr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Rr(a,b){b=b||[];var t,e=[],n={};for(t in xr)n[xr[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=Sr())?e=Dr(n=Cr()):"Worker"===e&&(e=Dr(n=Cr())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function Cr(){return l.navigator&&l.navigator.userAgent||""}function Lr(a,b){a=a.split("."),b=b||l;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function jr(){try{var a=l.localStorage,b=zr();if(a)return a.setItem(b,"1"),a.removeItem(b),!dr()||!!l.indexedDB}catch(t){return Nr()&&!!l.indexedDB}return!1}function Mr(){return(Vr()||"chrome-extension:"===Ur()||Tr())&&!Or()&&jr()&&!Nr()}function Vr(){return"http:"===Ur()||"https:"===Ur()}function Ur(){return l.location&&l.location.protocol||null}function Fr(a){return!gr(a=a||Cr())&&Dr(a)!=kr}function qr(a){return void 0===a?null:ur(a)}function Br(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function Gr(a){if(null!==a)return JSON.parse(a)}function zr(a){return a||Math.floor(1e9*Math.random()).toString()}function Hr(a){return"Safari"!=Dr(a=a||Cr())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function Wr(){var a=l.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function Kr(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=Cr(),b=Sr(),this.b=gr(a)||"ReactNative"===b}function Xr(){var a=l.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function Yr(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function Jr(){return!(!Lr("fireauth.oauthhelper",l)&&!Lr("fireauth.iframe",l))}Kr.prototype.get=function(){var a=l.navigator;return!a||"boolean"!=typeof a.onLine||!Vr()&&"chrome-extension:"!==Ur()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,$r={};function Zr(a){$r[a]||($r[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var ti={};Object.defineProperty(ti,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ti,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==ti.abcd}catch(a){Qr=!1}function ei(a,b,t){Qr?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function ni(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&ei(a,t,b[t])}function ri(a){var b={};return ni(b,a),b}function ii(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)ei(b,t,ii(a[t]));return b}function oi(a){var b=a&&(a[hi]?"phone":null);if(!(b&&a&&a[ci]))throw new u("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",a[ci]),ei(this,"displayName",a[ai]||null);var t=null;a[ui]&&(t=new Date(a[ui]).toUTCString()),ei(this,"enrollmentTime",t),ei(this,"factorId",b)}function si(a){try{var b=new fi(a)}catch(t){b=null}return b}oi.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",ui="enrolledAt",ci="mfaEnrollmentId",hi="phoneInfo";function fi(a){oi.call(this,a),ei(this,"phoneNumber",a[hi])}function pi(a){var b={},t=a[gi],e=a[bi],n=a[wi];if(a=si(a[mi]),!n||n!=vi&&n!=yi&&!t||n==yi&&!e||n==di&&!a)throw Error("Invalid checkActionCode response!");n==yi?(b[Ii]=t||null,b[Ti]=t||null,b[_i]=e):(b[Ii]=e||null,b[Ti]=e||null,b[_i]=t||null),b[Ei]=a||null,ei(this,Ni,n),ei(this,Ai,ii(b))}P(fi,oi),fi.prototype.v=function(){var a=fi.Za.v.call(this);return a.phoneNumber=this.phoneNumber,a};var di="REVERT_SECOND_FACTOR_ADDITION",vi="EMAIL_SIGNIN",yi="VERIFY_AND_CHANGE_EMAIL",gi="email",mi="mfaInfo",bi="newEmail",wi="requestType",_i="email",Ii="fromEmail",Ei="multiFactorInfo",Ti="previousEmail",Ai="data",Ni="operation";function Si(a){var b=Bn(a=Gn(a),Oi)||null,t=Bn(a,ki)||null,e=Bn(a,xi)||null;if(e=e&&Ci[e]||null,!b||!t||!e)throw new u("argument-error",Oi+", "+ki+"and "+xi+" are required in a valid action code URL.");ni(this,{apiKey:b,operation:e,code:t,continueUrl:Bn(a,Pi)||null,languageCode:Bn(a,Di)||null,tenantId:Bn(a,Ri)||null})}var Oi="apiKey",ki="oobCode",Pi="continueUrl",Di="languageCode",xi="mode",Ri="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:di,signIn:vi,verifyAndChangeEmail:yi,verifyEmail:"VERIFY_EMAIL"};function Li(a){try{return new Si(a)}catch(t){return null}}function ji(a){var b=a[qi];if(void 0===b)throw new u("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new u("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[Mi];if(t&&"object"==typeof t){b=t[zi];var e=t[Bi];if(t=t[Gi],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new u("argument-error",Bi+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new u("argument-error",Gi+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new u("argument-error",zi+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new u("missing-android-pkg-name")}}else if(void 0!==t)throw new u("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(b=a[Fi])&&"object"==typeof b){if("string"==typeof(b=b[Hi])&&b.length)this.f=b;else if(void 0!==b)throw new u("argument-error",Hi+" property must be a non empty string when specified.")}else if(void 0!==b)throw new u("argument-error",Fi+" property must be a non null object when specified.");if(void 0!==(b=a[Ui])&&"boolean"!=typeof b)throw new u("argument-error",Ui+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[Vi])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new u("argument-error",Vi+" property must be a non empty string when specified.");this.i=a||null}var Mi="android",Vi="dynamicLinkDomain",Ui="handleCodeInApp",Fi="iOS",qi="url",Bi="installApp",Gi="minimumVersion",zi="packageName",Hi="bundleId";function Wi(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var Ki=null;function Xi(a){var b="";return function(a,b){function t(t){for(;e<a.length;){var p=a.charAt(e++),n=Ki[p];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return t}!function(){if(!Ki){Ki={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++)for(var e=a.concat(b[t].split("")),n=0;n<e.length;n++){var r=e[n];void 0===Ki[r]&&(Ki[r]=n)}}}();for(var e=0;;){var n=t(-1),r=t(0),g=t(64),o=t(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,(function(t){b+=String.fromCharCode(t)})),b}function Yi(a){var b=Qi(a);if(!(b&&b.sub&&b.iss&&b.aud&&b.exp))throw Error("Invalid JWT");this.g=a,this.c=b.exp,this.h=b.sub,k(),this.a=b.provider_id||b.firebase&&b.firebase.sign_in_provider||null,this.f=b.firebase&&b.firebase.tenant||null,this.b=!!b.is_anonymous||"anonymous"==this.a}function Ji(a){try{return new Yi(a)}catch(t){return null}}function Qi(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{return JSON.parse(Xi(a))}catch(t){}return null}Yi.prototype.S=function(){return this.f},Yi.prototype.i=function(){return this.b},Yi.prototype.toString=function(){return this.g};var $i="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Zi=["client_id","response_type","scope","redirect_uri","state"],to={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Zi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Zi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Zi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:$i},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function eo(a){for(var b in to)if(to[b].ea==a)return to[b];return null}function no(a){var b={};b["facebook.com"]=ao,b["google.com"]=co,b["github.com"]=uo,b["twitter.com"]=ho;var t=a&&a[io];try{if(t)return b[t]?new b[t](a):new so(a);if(void 0!==a[ro])return new oo(a)}catch(t){}return null}var ro="idToken",io="providerId";function oo(a){var b=a[io];if(!b&&a[ro]){var t=Ji(a[ro]);t&&t.a&&(b=t.a)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),ei(this,"providerId",b),ei(this,"isNewUser",t)}function so(a){oo.call(this,a),ei(this,"profile",ii((a=Gr(a.rawUserInfo||"{}"))||{}))}function ao(a){if(so.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(a){if(so.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function co(a){if(so.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ho(a){if(so.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",a.screenName||null)}function fo(a){var b=Gn(a),t=Bn(b,"link"),e=Bn(Gn(t),"link");return b=Bn(b,"deep_link_id"),Bn(Gn(b),"link")||b||e||t||a}function lo(a,b){if(!a&&!b)throw new u("internal-error","Internal assert: no raw session string available");if(a&&b)throw new u("internal-error","Internal assert: unable to determine the session type");this.a=a||null,this.b=b||null,this.type=this.a?po:vo}P(so,oo),P(ao,so),P(uo,so),P(co,so),P(ho,so);var po="enroll",vo="signin";function yo(){}function go(a,b){return a.then((function(t){if(t[na]){var e=Ji(t[na]);if(!e||b!=e.h)throw new u("user-mismatch");return t}throw new u("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==R+"user-not-found"?new u("user-mismatch"):t}))}function mo(a,b){if(!b)throw new u("internal-error","failed to construct a credential");this.a=b,ei(this,"providerId",a),ei(this,"signInMethod",a)}function bo(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function wo(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new mo(a.providerId,a.pendingToken)}catch(t){}return null}function _o(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&ei(this,"idToken",b.idToken),b.accessToken&&ei(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&ei(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new u("internal-error","failed to construct a credential");ei(this,"accessToken",b.oauthToken),ei(this,"secret",b.oauthTokenSecret)}ei(this,"providerId",a),ei(this,"signInMethod",t)}function Io(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:nr(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function Eo(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new _o(a.providerId,b,a.signInMethod)}catch(t){}}return null}function To(a,b){this.Oc=b||[],ni(this,{providerId:a,isOAuthProvider:!0}),this.Fb={},this.lb=(eo(a)||{}).Ha||null,this.kb=null}function Ao(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new u("argument-error",'SAML provider IDs must be prefixed with "saml."');To.call(this,a,[])}function No(a){To.call(this,a,Zi),this.a=[]}function So(){No.call(this,"facebook.com")}function Oo(a){if(!a)throw new u("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return q(a)&&(b=a.accessToken),(new So).credential({accessToken:b})}function ko(){No.call(this,"github.com")}function Po(a){if(!a)throw new u("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return q(a)&&(b=a.accessToken),(new ko).credential({accessToken:b})}function Do(){No.call(this,"google.com"),this.Aa("profile")}function xo(a,b){var t=a;return q(a)&&(t=a.idToken,b=a.accessToken),(new Do).credential({idToken:t,accessToken:b})}function Ro(){To.call(this,"twitter.com",$i)}function Co(a,b){var t=a;if(q(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new u("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new _o("twitter.com",t,"twitter.com")}function Lo(a,b,t){this.a=a,this.f=b,ei(this,"providerId","password"),ei(this,"signInMethod",t===Mo.EMAIL_LINK_SIGN_IN_METHOD?Mo.EMAIL_LINK_SIGN_IN_METHOD:Mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function jo(a){return a&&a.email&&a.password?new Lo(a.email,a.password,a.signInMethod):null}function Mo(){ni(this,{providerId:"password",isOAuthProvider:!1})}function Vo(a,b){if(!(b=Uo(b)))throw new u("argument-error","Invalid email link!");return new Lo(a,b.code,Mo.EMAIL_LINK_SIGN_IN_METHOD)}function Uo(a){return(a=Li(a=fo(a)))&&a.operation===vi?a:null}function Fo(a){if(!(a.bb&&a.ab||a.Ja&&a.da))throw new u("internal-error");this.a=a,ei(this,"providerId","phone"),this.ea="phone",ei(this,"signInMethod","phone")}function qo(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return Y(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(t){a[t]&&(b[t]=a[t])})),new Fo(b)}return null}function Bo(a){return a.a.Ja&&a.a.da?{temporaryProof:a.a.Ja,phoneNumber:a.a.da}:{sessionInfo:a.a.bb,code:a.a.ab}}function Go(a){try{this.a=a||r.a.auth()}catch(t){throw new u("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ni(this,{providerId:"phone",isOAuthProvider:!1})}function zo(a,b){if(!a)throw new u("missing-verification-id");if(!b)throw new u("missing-verification-code");return new Fo({bb:a,ab:b})}function Ho(a){if(a.temporaryProof&&a.phoneNumber)return new Fo({Ja:a.temporaryProof,da:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return xo(r,t);case"facebook.com":return Oo(t);case"github.com":return Po(t);case"twitter.com":return Co(t,e);default:return t||e||r||g?g?0==b.indexOf("saml.")?new mo(b,g):new _o(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new No(b).credential({idToken:r,accessToken:t,rawNonce:n}):null}}catch(t){return null}}function Wo(a){if(!a.isOAuthProvider)throw new u("invalid-oauth-provider")}function Ko(a,b,t,e,n,r,g){if(this.c=a,this.b=b||null,this.g=t||null,this.f=e||null,this.i=r||null,this.h=g||null,this.a=n||null,!this.g&&!this.a)throw new u("invalid-auth-event");if(this.g&&this.a)throw new u("invalid-auth-event");if(this.g&&!this.f)throw new u("invalid-auth-event")}function Xo(a){return(a=a||{}).type?new Ko(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&D(a.error),a.postBody,a.tenantId):null}function Yo(){this.b=null,this.a=[]}lo.prototype.Fa=function(){return this.a?Ce(this.a):Ce(this.b)},lo.prototype.v=function(){return this.type==po?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},yo.prototype.ia=function(){},yo.prototype.b=function(){},yo.prototype.c=function(){},yo.prototype.v=function(){},mo.prototype.ia=function(a){return Ia(a,bo(this))},mo.prototype.b=function(a,b){var t=bo(this);return t.idToken=b,Ea(a,t)},mo.prototype.c=function(a,b){return go(Ta(a,bo(this)),b)},mo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},_o.prototype.ia=function(a){return Ia(a,Io(this))},_o.prototype.b=function(a,b){var t=Io(this);return t.idToken=b,Ea(a,t)},_o.prototype.c=function(a,b){return go(Ta(a,Io(this)),b)},_o.prototype.v=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},To.prototype.Ia=function(a){return this.Fb=It(a),this},P(Ao,To),P(No,To),No.prototype.Aa=function(a){return Z(this.a,a)||this.a.push(a),this},No.prototype.Nb=function(){return it(this.a)},No.prototype.credential=function(a,b){var t;if(!(t=q(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!t.accessToken)throw new u("argument-error","credential failed: must provide the ID token and/or the access token.");return new _o(this.providerId,t,this.providerId)},P(So,No),ei(So,"PROVIDER_ID","facebook.com"),ei(So,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),P(ko,No),ei(ko,"PROVIDER_ID","github.com"),ei(ko,"GITHUB_SIGN_IN_METHOD","github.com"),P(Do,No),ei(Do,"PROVIDER_ID","google.com"),ei(Do,"GOOGLE_SIGN_IN_METHOD","google.com"),P(Ro,To),ei(Ro,"PROVIDER_ID","twitter.com"),ei(Ro,"TWITTER_SIGN_IN_METHOD","twitter.com"),Lo.prototype.ia=function(a){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?ou(a,xa,{email:this.a,oobCode:this.f}):ou(a,tu,{email:this.a,password:this.f})},Lo.prototype.b=function(a,b){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?ou(a,Ra,{idToken:b,email:this.a,oobCode:this.f}):ou(a,Wa,{idToken:b,email:this.a,password:this.f})},Lo.prototype.c=function(a,b){return go(this.ia(a),b)},Lo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ni(Mo,{PROVIDER_ID:"password"}),ni(Mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ni(Mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ia=function(a){return a.cb(Bo(this))},Fo.prototype.b=function(a,b){var t=Bo(this);return t.idToken=b,ou(a,nu,t)},Fo.prototype.c=function(a,b){var t=Bo(this);return t.operation="REAUTH",go(a=ou(a,ru,t),b)},Fo.prototype.v=function(){var a={providerId:"phone"};return this.a.bb&&(a.verificationId=this.a.bb),this.a.ab&&(a.verificationCode=this.a.ab),this.a.Ja&&(a.temporaryProof=this.a.Ja),this.a.da&&(a.phoneNumber=this.a.da),a},Go.prototype.cb=function(a,b){var t=this.a.b;return Ce(b.verify()).then((function(e){if("string"!=typeof e)throw new u("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":var n=q(a)?a.session:null,r=q(a)?a.phoneNumber:a;return(n&&n.type==po?n.Fa().then((function(n){return function(a,b){return ou(a,Xa,b).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(t,{idToken:n,phoneEnrollmentInfo:{phoneNumber:r,recaptchaToken:e}})})):n&&n.type==vo?n.Fa().then((function(n){return function(a,b){return ou(a,Ya,b).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(t,{mfaPendingCredential:n,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}})})):function(a,b){return ou(a,za,b)}(t,{phoneNumber:r,recaptchaToken:e})).then((function(t){return"function"==typeof b.reset&&b.reset(),t}),(function(t){throw"function"==typeof b.reset&&b.reset(),t}));default:throw new u("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ni(Go,{PROVIDER_ID:"phone"}),ni(Go,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},Ko.prototype.S=function(){return this.h},Ko.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Jo,Qo=null;function th(a){var b="unauthorized-domain",t=void 0,e=Gn(a);a=e.b,"chrome-extension"==(e=e.f)?t=Yt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=Yt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",u.call(this,b,t)}function $o(a,b,t){u.call(this,a,t),(a=b||{}).Gb&&ei(this,"email",a.Gb),a.da&&ei(this,"phoneNumber",a.da),a.credential&&ei(this,"credential",a.credential),a.Wb&&ei(this,"tenantId",a.Wb)}function Zo(a){if(a.code){var b=a.code||"";0==b.indexOf(R)&&(b=b.substring(R.length));var t={credential:Ho(a),Wb:a.tenantId};if(a.email)t.Gb=a.email;else if(a.phoneNumber)t.da=a.phoneNumber;else if(!t.credential)return new u(b,a.message||void 0);return new $o(b,t,a.message)}return null}function ts(){}function es(a){return a.c||(a.c=a.b())}function ns(){}function rs(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function is(){}function os(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.oc,this),this.a.onerror=S(this.Pb,this),this.a.onprogress=S(this.pc,this),this.a.ontimeout=S(this.tc,this)}function ss(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function as(a,b,t){this.reset(a,b,t,void 0,void 0)}P(th,u),P($o,u),$o.prototype.v=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.v();return b&&Tt(a,b),a},$o.prototype.toJSON=function(){return this.v()},ts.prototype.c=null,P(ns,ts),ns.prototype.a=function(){var a=rs(this);return a?new ActiveXObject(a):new XMLHttpRequest},ns.prototype.b=function(){var a={};return rs(this)&&(a[0]=!0,a[1]=!0),a},Jo=new ns,P(is,ts),is.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new os;throw Error("Unsupported browser")},is.prototype.b=function(){return{}},(e=os.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},e.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ss(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",ss(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,ss(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},as.prototype.a=null;function us(a){this.f=a,this.b=this.c=this.a=null}function cs(a,b){this.name=a,this.value=b}as.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||k(),delete this.a},cs.prototype.toString=function(){return this.name};var hs=new cs("SEVERE",1e3),fs=new cs("WARNING",900),ls=new cs("CONFIG",700),ps=new cs("FINE",500);us.prototype.log=function(a,b,t){if(a.value>=function t(a){return a.c?a.c:a.a?t(a.a):(F("Root logger has no level set."),null)}(this).value)for(_(b)&&(b=b()),a=new as(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var ds={},vs=null;function ys(a){var b;if(vs||(vs=new us(""),ds[""]=vs,vs.c=ls),!(b=ds[a])){b=new us(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=ys(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,ds[a]=b}return b}function gs(a,b){a&&a.log(ps,b,void 0)}function ms(a){this.f=a}function bs(a){An.call(this),this.s=a,this.readyState=ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ys("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}P(ms,ts),ms.prototype.a=function(){return new bs(this.f)},ms.prototype.b=function(a){return function(){return a}}({}),P(bs,An);var ws=0;function _s(a){a.c.read().then(a.nc.bind(a)).catch(a.Sa.bind(a))}function Is(a,b){b&&a.f&&(a.status=a.f.status,a.statusText=a.f.statusText),a.readyState=4,a.f=null,a.c=null,a.l=null,Es(a)}function Es(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Ts(a){An.call(this),this.headers=new Rn,this.D=a||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=As,this.w=this.R=!1}(e=bs.prototype).open=function(a,b){if(this.readyState!=ws)throw this.abort(),Error("Error reopening a connection");this.m=a,this.g=b,this.readyState=1,Es(this)},e.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.i,method:this.m,credentials:void 0,cache:void 0};a&&(b.body=a),this.s.fetch(new Request(this.g,b)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Is(this,!1)),this.readyState=ws},e.sc=function(a){this.a&&(this.f=a,this.b||(this.b=a.headers,this.readyState=2,Es(this)),this.a&&(this.readyState=3,Es(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==l.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.l=new TextDecoder,_s(this)):a.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(a){if(this.a){var b=this.l.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?Is(this,!0):Es(this),3==this.readyState&&_s(this)}},e.rc=function(a){this.a&&(this.response=this.responseText=a,Is(this,!0))},e.qc=function(a){this.a&&(this.response=a,Is(this,!0))},e.Sa=function(a){var b=this.h;b&&b.log(fs,"Failed to fetch url "+this.g,a instanceof Error?a:Error(a)),this.a&&Is(this,!0)},e.setRequestHeader=function(a,b){this.i.append(a,b)},e.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.h)&&a.log(fs,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var a=this.h;return a&&a.log(fs,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},P(Ts,An);var As="";Ts.prototype.b=ys("goog.net.XhrIo");var Ns=/^https?$/i,Ss=["POST","PUT"];function Os(a,b,t,e,n){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);t=t?t.toUpperCase():"GET",a.l=b,a.h="",a.P=t,a.N=!1,a.c=!0,a.a=a.D?a.D.a():Jo.a(),a.B=a.D?es(a.D):es(Jo),a.a.onreadystatechange=S(a.Sb,a);try{gs(a.b,Ms(a,"Opening Xhr")),a.O=!0,a.a.open(t,String(b),!0),a.O=!1}catch(t){return gs(a.b,Ms(a,"Error opening Xhr: "+t.message)),void Ps(a,t)}b=e||"";var r=new Rn(a.headers);n&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(w(a)||"string"==typeof a)Y(a,b,void 0);else for(var t=xn(a),e=Dn(a),n=e.length,r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}(n,(function(g,t){r.set(t,g)})),n=function(a){t:{for(var b=ks,t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(r.X()),e=l.FormData&&b instanceof l.FormData,!Z(Ss,t)||n||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(g,t){this.a.setRequestHeader(t,g)}),a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.R&&(a.a.withCredentials=a.R);try{Cs(a),0<a.g&&(a.w=function(a){return te&&fe(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),gs(a.b,Ms(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.w)),a.w?(a.a.timeout=a.g,a.a.ontimeout=S(a.Ka,a)):a.s=kn(a.Ka,a.g,a)),gs(a.b,Ms(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){gs(a.b,Ms(a,"Send error: "+t.message)),Ps(a,t)}}function ks(a){return"content-type"==a.toLowerCase()}function Ps(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,Ds(a),Rs(a)}function Ds(a){a.N||(a.N=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function xs(a){if(a.c&&void 0!==f)if(a.B[1]&&4==Ls(a)&&2==js(a))gs(a.b,Ms(a,"Local request error detected and ignored"));else if(a.i&&4==Ls(a))kn(a.Sb,0,a);else if(a.dispatchEvent("readystatechange"),4==Ls(a)){gs(a.b,Ms(a,"Request complete")),a.c=!1;try{var t,b=js(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.l).match(jn)[1]||null;if(!r&&l.self&&l.self.location){var g=l.self.location.protocol;r=g.substr(0,g.length-1)}n=!Ns.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var o=2<Ls(a)?a.a.statusText:""}catch(t){gs(a.b,"Can not get status: "+t.message),o=""}a.h=o+" ["+js(a)+"]",Ds(a)}}finally{Rs(a)}}}function Rs(a,b){if(a.a){Cs(a);var t=a.a,e=a.B[0]?y:null;a.a=null,a.B=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(hs,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Cs(a){a.a&&a.w&&(a.a.ontimeout=null),a.s&&(l.clearTimeout(a.s),a.s=null)}function Ls(a){return a.a?a.a.readyState:0}function js(a){try{return 2<Ls(a)?a.a.status:-1}catch(t){return-1}}function Ms(a,b){return b+" ["+a.P+" "+a.l+" "+js(a)+"]"}function li(a){var b=Xs;this.g=[],this.w=b,this.s=a||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Vs(a,b,t){a.a=!0,a.c=t,a.f=!b,Bs(a)}function Us(a){if(a.a){if(!a.u)throw new Gs(a);a.u=!1}}function Fs(a,b,t,e){a.g.push([b,t,e]),a.a&&Bs(a)}function qs(a){return $(a.g,(function(b){return _(b[1])}))}function Bs(a){if(a.h&&a.a&&qs(a)){var b=a.h,t=Ws[b];t&&(l.clearTimeout(t.a),delete Ws[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var e=t=!1;a.g.length&&!a.i;){var n=a.g.shift(),r=n[0],g=n[1];if(n=n[2],r=a.f?g:r)try{var o=r.call(n||a.s,b);void 0!==o&&(a.f=a.f&&(o==b||o instanceof Error),a.c=b=o),(M(b)||"function"==typeof l.Promise&&b instanceof l.Promise)&&(e=!0,a.i=!0)}catch(e){b=e,a.f=!0,qs(a)||(t=!0)}}a.c=b,e&&(o=S(a.m,a,!0),e=S(a.m,a,!1),b instanceof li?(Fs(b,o,e),b.B=!0):b.then(o,e)),t&&(b=new Hs(b),Ws[b.a]=b,a.h=b.a)}function Gs(){V.call(this)}function zs(){V.call(this)}function Hs(a){this.a=l.setTimeout(S(this.c,this),0),this.b=a}(e=Ts.prototype).Ka=function(){void 0!==f&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",gs(this.b,Ms(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(gs(this.b,Ms(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rs(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Rs(this,!0)),Ts.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?xs(this):this.Hc())},e.Hc=function(){xs(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case As:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(hs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return gs(this.b,"Can not get response: "+t.message),null}},li.prototype.cancel=function(a){if(this.a)this.c instanceof li&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(a=new zs(this),Us(this),Vs(this,!1,a))}},li.prototype.m=function(a,b){this.i=!1,Vs(this,a,b)},li.prototype.then=function(a,b,t){var e,n,r=new Se((function(g,t){e=g,n=t}));return Fs(this,e,(function(g){g instanceof zs?r.cancel():n(g)})),r.then(a,b,t)},li.prototype.$goog_Thenable=!0,P(Gs,V),Gs.prototype.message="Deferred has already fired",Gs.prototype.name="AlreadyCalledError",P(zs,V),zs.prototype.message="Deferred was canceled",zs.prototype.name="CanceledError",Hs.prototype.c=function(){throw delete Ws[this.a],this.b};var Ws={};function Ks(a){var b={},t=b.document||document,e=xt(a).toString(),n=be(document,"SCRIPT"),r={Tb:n,Ka:void 0},g=new li(r),o=null,c=null!=b.timeout?b.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){Ys(n,!0);var p=new $s(Qs,"Timeout reached for loading script "+e);Us(g),Vs(g,!1,p)}),c),r.Ka=o),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(Ys(n,b.ud||!1,o),Us(g),Vs(g,!0,null))},n.onerror=function(){Ys(n,!0,o);var p=new $s(Js,"Error while loading script "+e);Us(g),Vs(g,!1,p)},Tt(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),de(n,r),function(a,b){At(a,"HTMLScriptElement"),a.src=xt(b),null===v&&(v=(b=(b=l.document).querySelector&&b.querySelector("script[nonce]"))&&(b=b.nonce||b.getAttribute("nonce"))&&d.test(b)?b:""),(b=v)&&a.setAttribute("nonce",b)}(n,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(n),g}function Xs(){if(this&&this.Tb){var a=this.Tb;a&&"SCRIPT"==a.tagName&&Ys(a,!0,this.Ka)}}function Ys(a,b,t){null!=t&&l.clearTimeout(t),a.onload=y,a.onerror=y,a.onreadystatechange=y,b&&window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),0)}var Js=0,Qs=1;function $s(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),V.call(this,t),this.code=a}function Zs(a){this.f=a}function ta(a,b,t){if(this.c=a,a=b||{},this.u=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||ra,this.g=It(a.secureTokenHeaders||ia),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=a.firebaseTimeout||oa,this.a=It(a.firebaseHeaders||sa),t&&(this.a["X-Client-Version"]=t,this.g["X-Client-Version"]=t),t="Node"==Sr(),!(t=l.XMLHttpRequest||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!Nr())throw new u("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Nr()?this.f=new ms(self):Or()?this.f=new Zs(t):this.f=new is,this.b=null}P($s,V),P(Zs,ts),Zs.prototype.a=function(){return new this.f},Zs.prototype.b=function(){return{}};var ea,na="idToken",ra=new Kr(3e4,6e4),ia={"Content-Type":"application/x-www-form-urlencoded"},oa=new Kr(3e4,6e4),sa={"Content-Type":"application/json"};function aa(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function ua(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function ca(a,b,t,e,n,r,g){(function(){var a=Cr();return!((a=Dr(a)!=Pr?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a)&&(!te||!ce||9<ce)})()||Nr()?a=S(a.w,a):(ea||(ea=new Se((function(t,e){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{l[fa]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},function(a,b){Fs(a,null,b,void 0)}(Ks(Rt(ha,{onload:fa})),(function(){b(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),a=S(a.s,a)),a(b,t,e,n,r,g)}ta.prototype.S=function(){return this.b},ta.prototype.w=function(a,b,t,e,n,r){if(Nr()&&(void 0===l.fetch||void 0===l.Headers||void 0===l.Request))throw new u("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new Ts(this.f);if(r){g.g=Math.max(0,r);var o=setTimeout((function(){g.dispatchEvent("timeout")}),r)}Nn(g,"complete",(function(){o&&clearTimeout(o);var t=null;try{t=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return gs(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(e){t=null}b&&b(t)})),Sn(g,"ready",(function(){o&&clearTimeout(o),Qe(this)})),Sn(g,"timeout",(function(){o&&clearTimeout(o),Qe(this),b&&b(null)})),Os(g,a,t,e,n)};var ha=new Nt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),fa="__fcb"+Math.floor(1e6*Math.random()).toString();function la(a,b,t,e,n,r,g){var o=Gn(b+t);qn(o,"key",a.c),g&&qn(o,"cb",k().toString());var c="GET"==e;if(c)for(var p in n)n.hasOwnProperty(p)&&qn(o,p,n[p]);return new Se((function(t,h){ca(a,o.toString(),(function(e){e?e.error?h(au(e,r||{})):t(e):h(new u("network-request-failed"))}),e,c?void 0:ur(Br(n)),a.a,a.i.get())}))}function pa(a){if("string"!=typeof(a=a.email)||!Ir.test(a))throw new u("invalid-email")}function da(a){"email"in a&&pa(a)}function va(a){if(!a[na]){if(a.mfaPendingCredential)throw new u("multi-factor-auth-required",null,It(a));throw new u("internal-error")}}function ya(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new u("internal-error")}else{if(!a.sessionInfo)throw new u("missing-verification-id");if(!a.code)throw new u("missing-verification-code")}}ta.prototype.s=function(a,b,t,e,n){var r=this;ea.then((function(){window.gapi.client.setApiKey(r.c);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(t){window.gapi.auth.setToken(g),b&&b(t)}})})).o((function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})}))},ta.prototype.vb=function(){return ou(this,Ka,{})},ta.prototype.xb=function(a,b){return ou(this,Ha,{idToken:a,email:b})},ta.prototype.yb=function(a,b){return ou(this,Wa,{idToken:a,password:b})};var ga={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ma(a){if(!a.phoneVerificationInfo)throw new u("internal-error");if(!a.phoneVerificationInfo.sessionInfo)throw new u("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new u("missing-verification-code")}function ba(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new u("internal-error")}function wa(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(ir(a=new Zn(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function _a(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=Zo(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=Zo(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=Zo(a)):a.errorMessage&&(b=su(a.errorMessage)),b)throw b;va(a)}function Ia(a,b){return b.returnIdpCredential=!0,ou(a,Ja,b)}function Ea(a,b){return b.returnIdpCredential=!0,ou(a,$a,b)}function Ta(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,ou(a,Qa,b)}function Aa(a){if(!a.oobCode)throw new u("invalid-action-code")}(e=ta.prototype).zb=function(a,b){var t={idToken:a},e=[];return wt(ga,(function(n,r){var g=b[r];null===g?e.push(n):r in b&&(t[r]=g)})),e.length&&(t.deleteAttribute=e),ou(this,Ha,t)},e.rb=function(a,b){return Tt(a={requestType:"PASSWORD_RESET",email:a},b),ou(this,Fa,a)},e.sb=function(a,b){return Tt(a={requestType:"EMAIL_SIGNIN",email:a},b),ou(this,Ma,a)},e.qb=function(a,b){return Tt(a={requestType:"VERIFY_EMAIL",idToken:a},b),ou(this,Va,a)},e.Ab=function(a,b,t){return Tt(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:b},t),ou(this,Ua,a)},e.cb=function(a){return ou(this,eu,a)},e.jb=function(a,b){return ou(this,Ga,{oobCode:a,newPassword:b})},e.Pa=function(a){return ou(this,Sa,{oobCode:a})},e.fb=function(a){return ou(this,Na,{oobCode:a})};var Na={endpoint:"setAccountInfo",A:Aa,Y:"email",C:!0},Sa={endpoint:"resetPassword",A:Aa,G:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b&&"VERIFY_AND_CHANGE_EMAIL"!=b)throw new u("internal-error")},C:!0},Oa={endpoint:"signupNewUser",A:function(a){if(pa(a),!a.password)throw new u("weak-password")},G:va,U:!0,C:!0},ka={endpoint:"createAuthUri",C:!0},Pa={endpoint:"deleteAccount",M:["idToken"]},Da={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(a){if("array"!=m(a.deleteProvider))throw new u("internal-error")}},xa={endpoint:"emailLinkSignin",M:["email","oobCode"],A:pa,G:va,U:!0,C:!0},Ra={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:pa,G:va,U:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ma,G:va,C:!0,La:!0},La={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ma,G:va,C:!0,La:!0},ja={endpoint:"getAccountInfo"},Ma={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new u("internal-error");pa(a)},Y:"email",C:!0},Va={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new u("internal-error")},Y:"email",C:!0},Ua={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new u("internal-error")},Y:"email",C:!0},Fa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new u("internal-error");pa(a)},Y:"email",C:!0},qa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ba={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new u("internal-error")}},Ga={endpoint:"resetPassword",A:Aa,Y:"email",C:!0},za={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Ha={endpoint:"setAccountInfo",M:["idToken"],A:da,U:!0},Wa={endpoint:"setAccountInfo",M:["idToken"],A:function(a){if(da(a),!a.password)throw new u("weak-password")},G:va,U:!0},Ka={endpoint:"signupNewUser",G:va,U:!0,C:!0},Xa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new u("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new u("missing-phone-number");if(!a.phoneEnrollmentInfo.recaptchaToken)throw new u("missing-app-credential")},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new u("internal-error")},C:!0,La:!0},Ya={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new u("missing-app-credential")},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new u("internal-error")},C:!0,La:!0},Ja={endpoint:"verifyAssertion",A:ba,Wa:wa,G:_a,U:!0,C:!0},Qa={endpoint:"verifyAssertion",A:ba,Wa:wa,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new u("user-not-found");if(a.errorMessage)throw su(a.errorMessage);va(a)},U:!0,C:!0},$a={endpoint:"verifyAssertion",A:function(a){if(ba(a),!a.idToken)throw new u("internal-error")},Wa:wa,G:_a,U:!0},Za={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new u("invalid-custom-token")},G:va,U:!0,C:!0},tu={endpoint:"verifyPassword",A:function(a){if(pa(a),!a.password)throw new u("wrong-password")},G:va,U:!0,C:!0},eu={endpoint:"verifyPhoneNumber",A:ya,G:va,C:!0},nu={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new u("internal-error");ya(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",Zo(a);va(a)}},ru={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ya,G:va,C:!0},iu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(a){if(!!a[na]^!!a.refreshToken)throw new u("internal-error")},C:!0,La:!0};function ou(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.M))return Le(new u("internal-error"));var e,n=!!b.La,r=b.Rb||"POST";return Ce(t).then(b.A).then((function(){return b.U&&(t.returnSecureToken=!0),b.C&&a.b&&void 0===t.tenantId&&(t.tenantId=a.b),la(a,n?a.l:a.h,b.endpoint,r,t,b.Eb,b.hb||!1)})).then((function(g){return e=g,b.Wa?b.Wa(t,e):e})).then(b.G).then((function(){if(!b.Y)return e;if(!(b.Y in e))throw new u("internal-error");return e[b.Y]}))}function su(a){return au({error:{errors:[{message:a}],code:400,message:a}})}function au(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new u(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",Tt(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new u(e[n],b);return!b&&a&&(b=qr(a)),new u("internal-error",b)}function uu(a){this.b=a,this.a=null,this.nb=function(a){return(lu||(lu=new Se((function(a,b){function t(){Wr(),Lr("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Wr(),b(Error("Network Error"))},timeout:hu.get()})}if(Lr("gapi.iframes.Iframe"))a();else if(Lr("gapi.load"))t();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[e]=function(){Lr("gapi.load")?t():b(Error("Network Error"))},Ce(Ks(e=Rt(cu,{onload:e}))).o((function(){b(Error("Network Error"))}))}})).o((function(a){throw lu=null,a})))).then((function(){return new Se((function(b,t){Lr("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:Lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){t(Error("Network Error"))}),fu.get());e.ping(n).then(n,(function(){t(Error("Network Error"))}))}))}))}))}(this)}var cu=new Nt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),hu=new Kr(3e4,6e4),fu=new Kr(5e3,15e3),lu=null;function pu(a,b,t){this.i=a,this.g=b,this.h=t,this.f=null,this.a=zn(this.i,"/__/auth/iframe"),qn(this.a,"apiKey",this.g),qn(this.a,"appName",this.h),this.b=null,this.c=[]}function du(a,b,t,e,n){this.s=a,this.m=b,this.c=t,this.u=e,this.i=this.g=this.l=null,this.a=n,this.h=this.f=null}function vu(a){try{return r.a.app(a).auth().Ea()}catch(t){return[]}}function yu(a,b,t,e,n){this.u=a,this.f=b,this.b=t,this.c=e||null,this.h=n||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function gu(a){var b=vr();return function(a){return ou(a,qa,{}).then((function(b){return b.authorizedDomains||[]}))}(a).then((function(t){t:{var e=Gn(b),n=e.f;e=e.b;for(var r=0;r<t.length;r++){var g=t[r],o=e,c=n;if(0==g.indexOf("chrome-extension://")?o=Gn(g).b==o&&"chrome-extension"==c:"http"!=c&&"https"!=c?o=!1:_r.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new th(vr())}))}function mu(a){return a.l||(a.l=Er().then((function(){if(!a.s){var b=a.c,t=a.h,e=vu(a.b),n=new pu(a.u,a.f,a.b);n.f=b,n.b=t,n.c=it(e||[]),a.s=n.toString()}a.i=new uu(a.s),function(a){if(!a.i)throw Error("IfcHandler must be initialized!");!function(a,b){a.nb.then((function(){a.a.register("authEvent",b,Lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(a.i,(function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=Xo(b.authEvent),t=0;t<a.g.length;t++)e=a.g[t](b)||e;return(t={}).status=e?"ACK":"ERROR",Ce(t)}return t.status="ERROR",Ce(t)}))}(a)}))),a.l}function bu(a){return a.m||(a.w=a.c?Rr(a.c,vu(a.b)):null,a.m=new ta(a.f,j(a.h),a.w)),a.m}function wu(a,b,t,e,n,r,g,o,c,p,h){return(a=new du(a,b,t,e,n)).l=r,a.g=g,a.i=o,a.b=It(c||null),a.f=p,a.ub(h).toString()}function _u(a){if(this.a=a||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new u("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(a){this.b=a,this.a={},this.f=S(this.c,this)}pu.prototype.toString=function(){return this.f?qn(this.a,"v",this.f):rr(this.a.a,"v"),this.b?qn(this.a,"eid",this.b):rr(this.a.a,"eid"),this.c.length?qn(this.a,"fw",this.c.join(",")):rr(this.a.a,"fw"),this.a.toString()},du.prototype.ub=function(a){return this.h=a,this},du.prototype.toString=function(){var a=zn(this.s,"/__/auth/handler");if(qn(a,"apiKey",this.m),qn(a,"appName",this.c),qn(a,"authType",this.u),this.a.isOAuthProvider){var b=this.a;try{var t=r.a.app(this.c).auth().ja()}catch(e){t=null}for(var e in b.kb=t,qn(a,"providerId",this.a.providerId),t=Br((b=this.a).Fb))t[e]=t[e].toString();e=b.Oc,t=It(t);for(var n=0;n<e.length;n++){var o=e[n];o in t&&delete t[o]}b.lb&&b.kb&&!t[b.lb]&&(t[b.lb]=b.kb),_t(t)||qn(a,"customParameters",qr(t))}if("function"==typeof this.a.Nb&&((b=this.a.Nb()).length&&qn(a,"scopes",b.join(","))),this.l?qn(a,"redirectUrl",this.l):rr(a.a,"redirectUrl"),this.g?qn(a,"eventId",this.g):rr(a.a,"eventId"),this.i?qn(a,"v",this.i):rr(a.a,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!Bn(a,g)&&qn(a,g,this.b[g]);return this.h?qn(a,"tid",this.h):rr(a.a,"tid"),this.f?qn(a,"eid",this.f):rr(a.a,"eid"),(g=vu(this.c)).length&&qn(a,"fw",g.join(",")),a.toString()},(e=yu.prototype).Lb=function(a,b,t){var e=new u("popup-closed-by-user"),n=new u("web-storage-unsupported"),r=this,g=!1;return this.ka().then((function(){(function(a){var b={type:"webStorageSupport"};return mu(a).then((function(){return function(a,b){return a.nb.then((function(){return new Se((function(t){a.a.send(b.type,b,t,Lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(a.i,b)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(r).then((function(t){t||(a&&mr(a),b(n),g=!0)}))})).o((function(){})).then((function(){if(!g)return function(a){return new Se((function(b){return function t(){Pn(2e3).then((function(){if(a&&!a.closed)return t();b()}))}()}))}(a)})).then((function(){if(!g)return Pn(t).then((function(){b(e)}))}))},e.Ub=function(){var a=Cr();return!Fr(a)&&!Hr(a)},e.Qb=function(){return!1},e.Jb=function(a,b,t,e,n,r,g,o){if(!a)return Le(new u("popup-blocked"));if(g&&!Fr())return this.ka().o((function(p){mr(a),n(p)})),e(),Ce();this.a||(this.a=gu(bu(this)));var c=this;return this.a.then((function(){var p=c.ka().o((function(t){throw mr(a),n(t),t}));return e(),p})).then((function(){(Wo(t),g)||yr(wu(c.u,c.f,c.b,b,t,null,r,c.c,void 0,c.h,o),a)})).o((function(p){throw"auth/network-request-failed"==p.code&&(c.a=null),p}))},e.Kb=function(a,b,t,e){this.a||(this.a=gu(bu(this)));var n=this;return this.a.then((function(){Wo(b),yr(wu(n.u,n.f,n.b,a,b,vr(),t,n.c,void 0,n.h,e))})).o((function(t){throw"auth/network-request-failed"==t.code&&(n.a=null),t}))},e.ka=function(){var a=this;return mu(this).then((function(){return a.i.nb})).o((function(){throw a.a=null,new u("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(a){this.g.push(a)},e.Qa=function(a){et(this.g,(function(b){return b==a}))},(e=_u.prototype).get=function(a){return Ce(this.a.getItem(a)).then((function(b){return b&&Gr(b)}))},e.set=function(a,b){return Ce(this.a.setItem(a,qr(b)))},e.T=function(a){return Ce(this.a.removeItem(a))},e.ba=function(){},e.ha=function(){};var Eu,Tu=[];function Au(a,b,t){_t(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[b]&&(a.a[b]=[]),a.a[b].push(t)}function Nu(a){this.a=a}function Su(a){this.c=a,this.b=!1,this.a=[]}function Ou(a,b,t,e){var n,g,r,o,c=t||{},p=null;if(a.b)return Le(Error("connection_unavailable"));var h=e?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Se((function(t,e){f?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),r=setTimeout((function(){e(Error("unsupported_event"))}),h),p={messageChannel:f,onMessage:g=function(c){c.data.eventId===n&&("ack"===c.data.status?(clearTimeout(r),o=setTimeout((function(){e(Error("timeout"))}),3e3)):"done"===c.data.status?(clearTimeout(o),void 0!==c.data.response?t(c.data.response):e(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),e(Error("invalid_response"))))}},a.a.push(p),f.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:c},[f.port2])):e(Error("connection_unavailable"))})).then((function(t){return ku(a,p),t})).o((function(t){throw ku(a,p),t}))}function ku(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),et(a.a,(function(t){return t==b}))}}function Pu(){if(!Ru())throw new u("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=l.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var a=this;Nr()&&self?(this.l=function(){var a=Nr()?self:null;if(Y(Tu,(function(t){t.b==a&&(b=t)})),!b){var b=new Iu(a);Tu.push(b)}return b}(),Au(this.l,"keyChanged",(function(b,t){return Vu(a).then((function(e){return 0<e.length&&Y(a.a,(function(t){t(e)})),{keyProcessed:Z(e,t.key)}}))})),Au(this.l,"ping",(function(){return Ce(["keyChanged"])}))):function(){var a=l.navigator;return a&&a.serviceWorker?Ce().then((function(){return a.serviceWorker.ready})).then((function(b){return b.active||null})).o((function(){return null})):Ce(null)}().then((function(b){(a.h=b)&&(a.g=new Su(new Nu(b)),Ou(a.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Z(t[0].value,"keyChanged")&&(a.s=!0)})).o((function(){})))}))}function Du(a){return new Se((function(b,t){var e=a.u.open("firebaseLocalStorageDb",1);e.onerror=function(e){try{e.preventDefault()}catch(t){}t(Error(e.target.error))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new Se((function(b,t){var e=a.u.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(e){t(Error(e.target.error))}}))}(a).then((function(){return Du(a)})).then((function(t){b(t)})).o((function(e){t(e)}))}}))}function xu(a){return a.m||(a.m=Du(a)),a.m}function Ru(){try{return!!l.indexedDB}catch(t){return!1}}function Cu(a){return a.objectStore("firebaseLocalStorage")}function Lu(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function ju(a){return new Se((function(b,t){a.onsuccess=function(t){t&&t.target?b(t.target.result):b()},a.onerror=function(e){t(e.target.error)}}))}function Mu(a,b){return a.g&&a.h&&function(){var a=l.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?Ou(a.g,"keyChanged",{key:b},a.s).then((function(){})).o((function(){})):Ce()}function Vu(a){return xu(a).then((function(b){var t=Cu(Lu(b,!1));return t.getAll?ju(t.getAll()):new Se((function(e,n){var r=[],g=t.openCursor();g.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},g.onerror=function(t){n(t.target.error)}}))})).then((function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=function t(a,b){var e,n=[];for(e in a)e in b?typeof a[e]!=typeof b[e]?n.push(e):"object"==typeof a[e]&&null!=a[e]&&null!=b[e]?0<t(a[e],b[e]).length&&n.push(e):a[e]!==b[e]&&n.push(e):n.push(e);for(e in b)e in a||n.push(e);return n}(a.c,t),a.c=t}return e}))}function Uu(a){a.i&&a.i.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function Fu(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Ce().then((function(){if(Ru()){var e=zr(),n="__sak"+e;return Eu||(Eu=new Pu),(t=Eu).set(n,e).then((function(){return t.get(n)})).then((function(r){if(r!==e)throw Error("indexedDB not supported!");return t.T(n)})).then((function(){return t})).o((function(){return b.c}))}return b.c})).then((function(t){return b.type=t.type,t.ba((function(t){Y(b.a,(function(e){e(t)}))})),t}))}function qu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var a="Node"==Sr();if(!(a=Gu()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new u("internal-error","The LocalStorage compatibility library was not found.");throw new u("web-storage-unsupported")}this.a=Gu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Gu(){try{var a=l.localStorage,b=zr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function zu(){this.type="nullStorage"}function Hu(){if(!function(){var a="Node"==Sr();if(!(a=Wu()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new u("internal-error","The SessionStorage compatibility library was not found.");throw new u("web-storage-unsupported")}this.a=Wu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var a=l.sessionStorage,b=zr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function Ku(){var a={};a.Browser=Ju,a.Node=Qu,a.ReactNative=$u,a.Worker=Zu,this.a=a[Sr()]}Iu.prototype.c=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];Y(e,(function(t){n.push(Ce().then((function(){return t(a.origin,a.data.data)})))})),Me(n).then((function(e){var g=[];Y(e,(function(t){g.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),Y(g,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:g})}))}},Nu.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},Su.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(e=Pu.prototype).set=function(a,b){var t,e=!1,n=this;return xu(this).then((function(e){return ju((e=Cu(Lu(t=e,!0))).get(a))})).then((function(r){var g=Cu(Lu(t,!0));return r?(r.value=b,ju(g.put(r))):(n.b++,e=!0,(r={}).fbase_key=a,r.value=b,ju(g.add(r)))})).then((function(){return n.c[a]=b,Mu(n,a)})).ma((function(){e&&n.b--}))},e.get=function(a){return xu(this).then((function(b){return ju(Cu(Lu(b,!1)).get(a))})).then((function(b){return b&&b.value}))},e.T=function(a){var b=!1,t=this;return xu(this).then((function(e){return b=!0,t.b++,ju(Cu(Lu(e,!0)).delete(a))})).then((function(){return delete t.c[a],Mu(t,a)})).ma((function(){b&&t.b--}))},e.ba=function(a){0==this.a.length&&function(a){Uu(a),function b(){a.f=setTimeout((function(){a.i=Vu(a).then((function(t){0<t.length&&Y(a.a,(function(e){e(t)}))})).then((function(){b()})).o((function(t){"STOP_EVENT"!=t.message&&b()}))}),800)}()}(this),this.a.push(a)},e.ha=function(a){et(this.a,(function(b){return b==a})),0==this.a.length&&Uu(this)},(e=Fu.prototype).get=function(a){return this.b.then((function(b){return b.get(a)}))},e.set=function(a,b){return this.b.then((function(t){return t.set(a,b)}))},e.T=function(a){return this.b.then((function(b){return b.T(a)}))},e.ba=function(a){this.a.push(a)},e.ha=function(a){et(this.a,(function(b){return b==a}))},(e=qu.prototype).get=function(a){return Ce(this.a[a])},e.set=function(a,b){return this.a[a]=b,Ce()},e.T=function(a){return delete this.a[a],Ce()},e.ba=function(){},e.ha=function(){},(e=Bu.prototype).get=function(a){var b=this;return Ce().then((function(){return Gr(b.a.getItem(a))}))},e.set=function(a,b){var t=this;return Ce().then((function(){var e=qr(b);null===e?t.T(a):t.a.setItem(a,e)}))},e.T=function(a){var b=this;return Ce().then((function(){b.a.removeItem(a)}))},e.ba=function(a){l.window&&dn(l.window,"storage",a)},e.ha=function(a){l.window&&td(l.window,"storage",a)},(e=zu.prototype).get=function(){return Ce(null)},e.set=function(){return Ce()},e.T=function(){return Ce()},e.ba=function(){},e.ha=function(){},(e=Hu.prototype).get=function(a){var b=this;return Ce().then((function(){return Gr(b.a.getItem(a))}))},e.set=function(a,b){var t=this;return Ce().then((function(){var e=qr(b);null===e?t.T(a):t.a.setItem(a,e)}))},e.T=function(a){var b=this;return Ce().then((function(){b.a.removeItem(a)}))},e.ba=function(){},e.ha=function(){};var Xu,Yu,Ju={F:Bu,$a:Hu},Qu={F:Bu,$a:Hu},$u={F:_u,$a:zu},Zu={F:Bu,$a:zu},tc={od:"local",NONE:"none",qd:"session"};function ec(){var a=!(Hr(Cr())||!Ar()),b=Fr(),t=jr();this.m=a,this.h=b,this.l=t,this.a={},Xu||(Xu=new Ku),a=Xu;try{this.g=!dr()&&Jr()||!l.indexedDB?new a.a.F:new Fu(Nr()?new qu:new a.a.F)}catch(t){this.g=new qu,this.h=!0}try{this.i=new a.a.$a}catch(t){this.i=new qu}this.u=new qu,this.f=S(this.Vb,this),this.b={}}function nc(){return Yu||(Yu=new ec),Yu}function rc(a,b){switch(b){case"session":return a.i;case"none":return a.u;default:return a.g}}function ic(a,b){return"firebase:"+a.name+(b?":"+b:"")}function oc(a,b,t){return t=ic(b,t),"local"==b.F&&(a.b[t]=null),rc(a,b.F).T(t)}function sc(a){a.c&&(clearInterval(a.c),a.c=null)}function ac(a){this.a=a,this.b=nc()}(e=ec.prototype).get=function(a,b){return rc(this,a.F).get(ic(a,b))},e.set=function(a,b,t){var e=ic(a,t),n=this,r=rc(this,a.F);return r.set(e,b).then((function(){return r.get(e)})).then((function(g){"local"==a.F&&(n.b[e]=g)}))},e.addListener=function(a,b,t){a=ic(a,b),this.l&&(this.b[a]=l.localStorage.getItem(a)),_t(this.a)&&(rc(this,"local").ba(this.f),this.h||(dr()||!Jr())&&l.indexedDB||!this.l||function(a){sc(a),a.c=setInterval((function(){for(var b in a.a){var t=l.localStorage.getItem(b),e=a.b[b];t!=e&&(a.b[b]=t,t=new rn({type:"storage",key:b,target:window,oldValue:e,newValue:t,a:!0}),a.Vb(t))}}),1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},e.removeListener=function(a,b,t){a=ic(a,b),this.a[a]&&(et(this.a[a],(function(e){return e==t})),0==this.a[a].length&&delete this.a[a]),_t(this.a)&&(rc(this,"local").ha(this.f),sc(this))},e.Vb=function(a){if(a&&a.f){var b=a.a.key;if(null==b)for(var t in this.a){var e=this.b[t];void 0===e&&(e=null);var n=l.localStorage.getItem(t);n!==e&&(this.b[t]=n,this.ib(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?rc(this,"local").ha(this.f):sc(this),this.m)if(t=l.localStorage.getItem(b),(e=a.a.newValue)!==t)null!==e?l.localStorage.setItem(b,e):l.localStorage.removeItem(b);else if(this.b[b]===e&&void 0===a.a.a)return;var r=this;t=function(){void 0===a.a.a&&r.b[b]===l.localStorage.getItem(b)||(r.b[b]=l.localStorage.getItem(b),r.ib(b))},te&&ce&&10==ce&&l.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else Y(a,S(this.ib,this))},e.ib=function(a){this.a[a]&&Y(this.a[a],(function(b){b()}))};var uc,cc={name:"authEvent",F:"local"};function hc(){this.a=nc()}function fc(a,b){this.b=lc,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===uc&&(uc=l.Int32Array?new Int32Array(mc):mc),this.reset()}P(fc,(function(){this.b=-1}));for(var lc=64,dl=lc-1,pc=[],dc=0;dc<dl;dc++)pc[dc]=0;var vc=nt(128,pc);function yc(a){for(var b=a.f,t=a.l,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+g|0}e=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],c=0|a.a[3],p=0|a.a[4],h=0|a.a[5],f=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var l=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&h^~p&f)+(0|uc[b])|0)+(0|t[b])|0)|0,r=f,f=h,h=p,p=c+g|0,c=o,o=n,n=e,e=g+l|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+c|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+h|0,a.a[6]=a.a[6]+f|0,a.a[7]=a.a[7]+r|0}function gc(a,b,t){void 0===t&&(t=b.length);var e=0,n=a.c;if("string"==typeof b)for(;e<t;)a.f[n++]=b.charCodeAt(e++),n==a.b&&(yc(a),n=0);else{if(!w(b))throw Error("message must be string or array");for(;e<t;){var r=b[e++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&(yc(a),n=0)}}a.c=n,a.g+=t}fc.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):it(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){fc.call(this,8,wc)}P(bc,fc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(a,b,t,e,n){this.u=a,this.i=b,this.l=t,this.m=e||null,this.s=n||null,this.h=b+":"+t,this.w=new hc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(a){return new u("invalid-cordova-configuration",a)}function ol(a){var b=new bc;gc(b,a),a=[];var t=8*b.g;56>b.c?gc(b,vc,56-b.c):gc(b,vc,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(yc(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return Q(a,(function(b){return 1<(b=b.toString(16)).length?b:"0"+b})).join("")}(a)}function Ec(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function Tc(a){return a.f||(a.f=a.ka().then((function(){return new Se((function(b){a.Ca((function t(e){return b(e),a.Qa(t),!1})),function(a){function b(g){e=!0,n&&n.cancel(),Ac(a).then((function(e){var n=t;if(e&&g&&g.url){var p=null;-1!=(n=fo(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=Gr(Bn(p=Gn(n),"firebaseError")||null))?D(p):null)?new Ko(e.c,e.b,null,null,p,null,e.S()):new Ko(e.c,e.b,n,e.f,null,null,e.S())),n=p||t}Ec(a,n)}))}var t=new Ko("unknown",null,null,null,new u("no-auth-event")),e=!1,n=Pn(500).then((function(){return Ac(a).then((function(){e||Ec(a,t)}))})),r=l.handleOpenURL;l.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(Lr("BuildInfo.packageName",l).toLowerCase()+"://")&&b({url:g}),"function"==typeof r)try{r(g)}catch(t){console.error(t)}},Qo||(Qo=new Yo),function(a){var b=Qo;b.a.push(a),b.b||(b.b=function(t){for(var e=0;e<b.a.length;e++)b.a[e](t)},"function"==typeof(a=Lr("universalLinks.subscribe",l))&&a(null,b.b))}(b)}(a)}))}))),a.f}function Ac(a){var b=null;return function(a){return a.b.get(cc,a.a).then((function(b){return Xo(b)}))}(a.g).then((function(t){return b=t,oc((t=a.g).b,cc,t.a)})).then((function(){return b}))}function ul(a){this.a=a,this.b=nc()}(e=_c.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(Tr(void 0)?Er().then((function(){return new Se((function(a,b){var t=l.document,e=setTimeout((function(){b(Error("Cordova framework is not ready."))}),1e3);t.addEventListener("deviceready",(function(){clearTimeout(e),a()}),!1)}))})):Le(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Lr("universalLinks.subscribe",l))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Lr("BuildInfo.packageName",l))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Lr("cordova.plugins.browsertab.openUrl",l))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Lr("cordova.InAppBrowser.open",l))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new u("cordova-not-ready")}))},e.Lb=function(a,b){return b(new u("operation-not-supported-in-this-environment")),Ce()},e.Jb=function(){return Le(new u("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(a,b,t,e){if(this.c)return Le(new u("redirect-operation-pending"));var n=this,r=l.document,g=null,o=null,c=null,p=null;return this.c=Ce().then((function(){return Wo(b),Tc(n)})).then((function(){return function(a,b,t,e,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),g=new Ko(b,e,null,r,new u("no-auth-event"),null,n),o=Lr("BuildInfo.packageName",l);if("string"!=typeof o)throw new u("invalid-cordova-configuration");var c=Lr("BuildInfo.displayName",l),p={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=o;else{if(!Cr().toLowerCase().match(/android/))return Le(new u("operation-not-supported-in-this-environment"));p.apn=o}c&&(p.appDisplayName=c),r=ol(r),p.sessionId=r;var h=wu(a.u,a.i,a.l,b,t,null,e,a.m,p,a.s,n);return a.ka().then((function(){var t=a.h;return a.w.a.set(cc,g.v(),t)})).then((function(){var t=Lr("cordova.plugins.browsertab.isAvailable",l);if("function"!=typeof t)throw new u("invalid-cordova-configuration");var e=null;t((function(t){if(t){if("function"!=typeof(e=Lr("cordova.plugins.browsertab.openUrl",l)))throw new u("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=Lr("cordova.InAppBrowser.open",l)))throw new u("invalid-cordova-configuration");t=Cr(),a.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(n,a,b,t,e)})).then((function(){return new Se((function(t,e){o=function(){var e=Lr("cordova.plugins.browsertab.close",l);return t(),"function"==typeof e&&e(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.Ca(o),c=function(){g||(g=Pn(2e3).then((function(){e(new u("redirect-cancelled-by-user"))})))},p=function(){Xr()&&c()},r.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)})).o((function(t){return Ac(n).then((function(){throw t}))}))})).ma((function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),g&&g.cancel(),o&&n.Qa(o),n.c=null}))},e.Ca=function(a){this.b.push(a),Tc(this).o((function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new Ko("unknown",null,null,null,new u("no-auth-event")),a(b))}))},e.Qa=function(a){et(this.b,(function(b){return b==a}))};var Nc={name:"pendingRedirect",F:"session"};function Sc(a){return oc(a.b,Nc,a.a)}function Oc(a,b,t){this.i={},this.w=0,this.D=a,this.u=b,this.m=t,this.h=[],this.f=!1,this.l=S(this.s,this),this.b=new Bc,this.B=new Kc,this.g=new ul(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=kc(this.D,this.u,this.m,x)}function kc(a,b,t,e){var n=r.a.SDK_VERSION||null;return Tr()?new _c(a,b,t,n,e):new yu(a,b,t,n,e)}function Pc(a){a.f||(a.f=!0,a.a.Ca(a.l));var b=a.a;return a.a.ka().o((function(t){throw a.a==b&&a.reset(),t}))}function Dc(a){a.a.Ub()&&Pc(a).o((function(b){var t=new Ko("unknown",null,null,null,new u("operation-not-supported-in-this-environment"));Mc(b)&&a.s(t)})),a.a.Qb()||Gc(a.b)}function xc(a,b){Z(a.h,b)||a.h.push(b),a.f||function(a){return a.b.get(Nc,a.a).then((function(b){return"pending"==b}))}(a.g).then((function(t){t?Sc(a.g).then((function(){Pc(a).o((function(t){var e=new Ko("unknown",null,null,null,new u("operation-not-supported-in-this-environment"));Mc(t)&&a.s(e)}))})):Dc(a)})).o((function(){Dc(a)}))}function Rc(a,b){et(a.h,(function(t){return t==b}))}Oc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=kc(this.D,this.u,this.m),this.i={}},Oc.prototype.s=function(a){if(!a)throw new u("invalid-auth-event");if(6e5<=k()-this.w&&(this.i={},this.w=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.Cb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,e),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.w=k())),b=!0;break}}return Gc(this.b),b};var Cc=new Kr(2e3,1e4),Lc=new Kr(3e4,6e4);function jc(a,b,t,e,n,r,g){return a.a.Jb(b,t,e,(function(){a.f||(a.f=!0,a.a.Ca(a.l))}),(function(){a.reset()}),n,r,g)}function Mc(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function Vc(a,b,t,e,n){var r;return function(a){return a.b.set(Nc,"pending",a.a)}(a.g).then((function(){return a.a.Kb(b,t,e,n).o((function(g){if(Mc(g))throw new u("operation-not-supported-in-this-environment");return r=g,Sc(a.g).then((function(){throw r}))})).then((function(){return a.a.Xb()?new Se((function(){})):Sc(a.g).then((function(){return a.pa()})).then((function(){})).o((function(){}))}))}))}function Uc(a,b,t,e,n){return a.a.Lb(e,(function(e){b.la(t,null,e,n)}),Cc.get())}Oc.prototype.pa=function(){return this.b.pa()};var Fc={};function qc(a,b,t){var e=b+":"+t;return Fc[e]||(Fc[e]=new Oc(a,b,t)),Fc[e]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(a){a.g||(a.g=!0,Wc(a,!1,null,null))}function zc(a){a.g&&!a.i&&Wc(a,!1,null,null)}function Hc(a,b){if(a.b=function(){return Ce(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function Wc(a,b,t,e){b?e?function(a,b){if(a.b=function(){return Le(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):Hc(a,t):Hc(a,{user:null}),a.f=[],a.c=[]}function Kc(){}function Xc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(a){this.Bb=a},enumerable:!1})}function Yc(a,b){this.a=b,ei(this,"verificationId",a)}function Jc(a,b,t,e){return new Go(a).cb(b,t).then((function(t){return new Yc(t,e)}))}function Qc(a){var b=Qi(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new u("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ni(this,{token:a,expirationTime:Yr(1e3*b.exp),authTime:Yr(1e3*b.auth_time),issuedAtTime:Yr(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,signInSecondFactor:b.firebase&&b.firebase.sign_in_second_factor?b.firebase.sign_in_second_factor:null,claims:b})}function $c(a,b,t){var e=b&&b[eh];if(!e)throw new u("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=a,this.f=It(b),this.g=t,this.c=new lo(null,e),this.b=[];var n=this;Y(b[Zc]||[],(function(t){(t=si(t))&&n.b.push(t)})),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.c,e=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(Wc(this,!0,null,a.a),Ce()):b.Da(t,e)?function(a,b,t){t=t.Da(b.c,b.b);var e=b.g,n=b.f,r=b.i,g=b.S(),o=!!b.c.match(/Redirect$/);t(e,n,g,r).then((function(t){Wc(a,o,t,null)})).o((function(t){Wc(a,o,null,t)}))}(this,a,b):Le(new u("invalid-auth-event")):(Wc(this,!1,null,null),Ce())}else Le(new u("invalid-auth-event"))},Bc.prototype.pa=function(){var a=this;return new Se((function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new u("timeout");a.a&&a.a.cancel(),a.a=Pn(Lc.get()).then((function(){a.b||(a.g=!0,Wc(a,!0,null,b))}))}(a))}))},Kc.prototype.h=function(a,b){if(a){var t=a.c,e=a.b;a.a?(b.la(a.c,null,a.a,a.b),Ce()):b.Da(t,e)?function(a,b){var t=a.b,e=a.c;b.Da(e,t)(a.g,a.f,a.S(),a.i).then((function(n){b.la(e,n,null,t)})).o((function(n){b.la(e,null,n,t)}))}(a,b):Le(new u("invalid-auth-event"))}else Le(new u("invalid-auth-event"))},Yc.prototype.confirm=function(a){return a=zo(this.verificationId,a),this.a(a)};var Zc="mfaInfo",eh="mfaPendingCredential";function nh(a,b,t,e){u.call(this,"multi-factor-auth-required",e,b),this.b=new $c(a,b,t),ei(this,"resolver",this.b)}function em(a,b,t){if(a&&q(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new nh(b,a.serverResponse,t,a.message)}catch(t){}return null}function rh(){}function ih(a){ei(this,"factorId",a.ea),this.a=a}function oh(a){if(ih.call(this,a),this.a.ea!=Go.PROVIDER_ID)throw new u("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sh(a,b){for(var t in nn.call(this,a),b)this[t]=b[t]}function ah(a,b){this.a=a,this.b=[],this.c=S(this.wc,this),dn(this.a,"userReloaded",this.c);var t=[];b&&b.multiFactor&&b.multiFactor.enrolledFactors&&Y(b.multiFactor.enrolledFactors,(function(e){var n=null,r={};if(e){e.uid&&(r[ci]=e.uid),e.displayName&&(r[ai]=e.displayName),e.enrollmentTime&&(r[ui]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[hi]=e.phoneNumber);try{n=new fi(r)}catch(t){}e=n}else e=null;e&&t.push(e)})),uh(this,t)}function uh(a,b){a.b=b,ei(a,"enrolledFactors",b)}function ch(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hh(a){this.c=a,this.b=this.a=null}function fh(a){return a.b&&1e3*a.b.c||0}function lh(a,b){var t=b.refreshToken;a.b=Ji(b[na]||""),a.a=t}function ph(a,b){return function(a,b){return new Se((function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?ca(a,a.u+"?key="+encodeURIComponent(a.c),(function(n){n?n.error?e(au(n)):n.access_token&&n.refresh_token?t(n):e(new u("internal-error")):e(new u("network-request-failed"))}),"POST",nr(b).toString(),a.g,a.m.get()):e(new u("internal-error"))}))}(a.c,b).then((function(t){return a.b=Ji(t.access_token),a.a=t.refresh_token,{accessToken:a.b.toString(),refreshToken:a.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(a.a=null),t}))}function dh(a,b){this.a=a||null,this.b=b||null,ni(this,{lastSignInTime:Yr(b||null),creationTime:Yr(a||null)})}function vh(a,b,t,e,n,r){ni(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function yh(a,b,t){this.N=[],this.l=a.apiKey,this.m=a.appName,this.s=a.authDomain||null,a=r.a.SDK_VERSION?Rr(r.a.SDK_VERSION):null,this.a=new ta(this.l,j(x),a),this.b=new hh(this.a),Eh(this,b[na]),lh(this.b,b),ei(this,"refreshToken",this.b.a),Nh(this,t||{}),An.call(this),this.P=!1,this.s&&Mr()&&(this.i=qc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(a){return new ch((function(){return a.I(!0)}),(function(b){return!(!b||"auth/network-request-failed"!=b.code)}),(function(){var b=fh(a.b)-k()-3e5;return 0<b?b:0}))}(this),this.Z=S(this.Ma,this);var e=this;this.oa=null,this.za=function(t){e.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){mh(e,t.c)},this.$=null,this.O=new ah(this,t),ei(this,"multiFactor",this.O)}function gh(a,b){a.aa&&td(a.aa,"languageCodeChanged",a.za),(a.aa=b)&&dn(b,"languageCodeChanged",a.za)}function mh(a,b){a.W=b,ua(a.a,r.a.SDK_VERSION?Rr(r.a.SDK_VERSION,a.W):null)}function bh(a,b){a.$&&td(a.$,"frameworkChanged",a.ya),(a.$=b)&&dn(b,"frameworkChanged",a.ya)}function wh(a){try{return r.a.app(a.m).auth()}catch(t){throw new u("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function _h(a){a.D||a.B.b||(a.B.start(),td(a,"tokenChanged",a.Z),dn(a,"tokenChanged",a.Z))}function Ih(a){td(a,"tokenChanged",a.Z),a.B.stop()}function Eh(a,b){a.xa=b,ei(a,"_lat",b)}function Th(a){for(var b=[],t=0;t<a.R.length;t++)b.push(a.R[t](a));return Me(b).then((function(){return a}))}function Ah(a){a.i&&!a.P&&(a.P=!0,xc(a.i,a))}function Nh(a,b){ni(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new dh(b.createdAt,b.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function Sh(){}function Oh(a){return Ce().then((function(){if(a.D)throw new u("app-deleted")}))}function kh(a){return Q(a.providerData,(function(b){return b.providerId}))}function Ph(a,b){b&&(Dh(a,b.providerId),a.providerData.push(b))}function Dh(a,b){et(a.providerData,(function(t){return t.providerId==b}))}function xh(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&ei(a,b,t)}function Rh(a,b){a!=b&&(ni(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?ei(a,"metadata",function(a){return new dh(a.a,a.b)}(b.metadata)):ei(a,"metadata",new dh),Y(b.providerData,(function(t){Ph(a,t)})),function(a,b){a.b=b.b,a.a=b.a}(a.b,b.b),ei(a,"refreshToken",a.b.a),uh(a.O,b.O.b))}function Ch(a){return a.I().then((function(b){var t=a.isAnonymous;return function(a,b){return ou(a.a,ja,{idToken:b}).then(S(a.Ic,a))}(a,b).then((function(){return t||xh(a,"isAnonymous",!1),b}))}))}function Lh(a,b){b[na]&&a.xa!=b[na]&&(lh(a.b,b),a.dispatchEvent(new sh("tokenChanged")),Eh(a,b[na]),xh(a,"refreshToken",a.b.a))}function jh(a,b){return Ch(a).then((function(){if(Z(kh(a),b))return Th(a).then((function(){throw new u("provider-already-linked")}))}))}function Mh(a,b,t){return ri({user:a,credential:Ho(b),additionalUserInfo:b=no(b),operationType:t})}function Vh(a,b){return Lh(a,b),a.reload().then((function(){return a}))}function Uh(a,b,t,e,n){if(!Mr())return Le(new u("operation-not-supported-in-this-environment"));if(a.h&&!n)return Le(a.h);var o=eo(t.providerId),g=zr(a.uid+":::"),c=null;(!Fr()||Ar())&&a.s&&t.isOAuthProvider&&(c=wu(a.s,a.l,a.m,b,t,null,g,r.a.SDK_VERSION||null,null,null,a.tenantId));var h=wr(c,o&&o.ta,o&&o.sa);return e=e().then((function(){if(qh(a),!n)return a.I().then((function(){}))})).then((function(){return jc(a.i,h,b,t,g,!!c,a.tenantId)})).then((function(){return new Se((function(p,t){a.la(b,null,new u("cancelled-popup-request"),a.g||null),a.f=p,a.w=t,a.g=g,a.c=Uc(a.i,a,b,h,g)}))})).then((function(p){return h&&mr(h),p?ri(p):null})).o((function(p){throw h&&mr(h),p})),Bh(a,e,n)}function Fh(a,b,t,e,n){if(!Mr())return Le(new u("operation-not-supported-in-this-environment"));if(a.h&&!n)return Le(a.h);var r=null,g=zr(a.uid+":::");return e=e().then((function(){if(qh(a),!n)return a.I().then((function(){}))})).then((function(){return a.fa=g,Th(a)})).then((function(t){return a.ga&&(t=(t=a.ga).b.set(Hh,a.v(),t.a)),t})).then((function(){return Vc(a.i,b,t,g,a.tenantId)})).o((function(t){if(r=t,a.ga)return Wh(a.ga);throw r})).then((function(){if(r)throw r})),Bh(a,e,n)}function qh(a){if(!a.i||!a.P){if(a.i&&!a.P)throw new u("internal-error");throw new u("auth-domain-config-required")}}function Bh(a,b,t){var e=function(a,b,t){return a.h&&!t?(b.cancel(),Le(a.h)):b.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(a.h||a.dispatchEvent(new sh("userInvalidated")),a.h=t),t}))}(a,b,t);return a.N.push(e),e.ma((function(){tt(a.N,e)})),e.o((function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=em(t.v(),wh(a),S(a.hc,a))),e||t}))}function Gh(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},t={};if(!a.stsTokenManager||!a.stsTokenManager.accessToken)return null;t[na]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null;var e=new yh(b,t,a);return a.providerData&&Y(a.providerData,(function(t){t&&Ph(e,ri(t))})),a.redirectEventId&&(e.fa=a.redirectEventId),e}function zh(a){this.a=a,this.b=nc()}$c.prototype.Pc=function(a){var b=this;return a.ob(this.a.b,this.c).then((function(t){var e=It(b.f);return delete e[Zc],delete e[eh],Tt(e,t),b.g(e)}))},P(nh,u),rh.prototype.ob=function(a,b,t){return b.type==po?function(a,b,t,e){return t.Fa().then((function(t){return t={idToken:t},void 0!==e&&(t.displayName=e),Tt(t,{phoneVerificationInfo:Bo(a.a)}),ou(b,Ca,t)}))}(this,a,b,t):function(a,b,t){return t.Fa().then((function(t){return Tt(t={mfaPendingCredential:t},{phoneVerificationInfo:Bo(a.a)}),ou(b,La,t)}))}(this,a,b)},P(ih,rh),P(oh,ih),P(sh,nn),(e=ah.prototype).wc=function(a){uh(this,function(a){var b=[];return Y(a.mfaInfo||[],(function(t){(t=si(t))&&b.push(t)})),b}(a.ed))},e.Ob=function(){return this.a.I().then((function(a){return new lo(a,null)}))},e.dc=function(a,b){var t=this,e=this.a.a;return this.Ob().then((function(t){return a.ob(e,t,b)})).then((function(e){return Lh(t.a,e),t.a.reload()}))},e.$c=function(a){var b=this,t="string"==typeof a?a:a.uid,e=this.a.a;return this.a.I().then((function(n){return ou(e,iu,{idToken:n,mfaEnrollmentId:t})})).then((function(e){var n=J(b.b,(function(g){return g.uid!=t}));return uh(b,n),Lh(b.a,e),b.a.reload().o((function(g){if("auth/user-token-expired"!=g.code)throw g}))}))},e.v=function(){return{multiFactor:{enrolledFactors:Q(this.b,(function(a){return a.v()}))}}},ch.prototype.start=function(){this.a=this.c,function t(a,b){a.stop(),a.b=Pn(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then((function(){return function(){var a=l.document,b=null;return Xr()||!a?Ce():new Se((function(t){b=function(){Xr()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)})).o((function(t){throw a.removeEventListener("visibilitychange",b,!1),t}))}()})).then((function(){return a.h()})).then((function(){t(a,!0)})).o((function(e){a.i(e)&&t(a,!1)}))}(this,!0)},ch.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},hh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:fh(this)}},hh.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?Le(new u("user-token-expired")):a||!this.b||k()>fh(this)-3e4?this.a?ph(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},dh.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},P(yh,An),yh.prototype.va=function(a){this.oa=a,aa(this.a,a)},yh.prototype.ja=function(){return this.oa},yh.prototype.Ea=function(){return it(this.W)},yh.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},ei(yh.prototype,"providerId","firebase"),(e=yh.prototype).reload=function(){var a=this;return Bh(this,Oh(this).then((function(){return Ch(a).then((function(){return Th(a)})).then(Sh)})))},e.mc=function(a){return this.I(a).then((function(b){return new Qc(b)}))},e.I=function(a){var b=this;return Bh(this,Oh(this).then((function(){return b.b.getToken(a)})).then((function(t){if(!t)throw new u("internal-error");return t.accessToken!=b.xa&&(Eh(b,t.accessToken),b.dispatchEvent(new sh("tokenChanged"))),xh(b,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(a){if(!(a=a.users)||!a.length)throw new u("internal-error");Nh(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?Q(a,(function(b){return new vh(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)})):[]}(a),t=0;t<b.length;t++)Ph(this,b[t]);xh(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sh("userReloaded",{ed:a}))},e.Jc=function(a){return Zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(a)},e.pb=function(a){var b=this,t=null;return Bh(this,a.c(this.a,this.uid).then((function(e){return Lh(b,e),t=Mh(b,e,"reauthenticate"),b.h=null,b.reload()})).then((function(){return t})),!0)},e.Ac=function(a){return Zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(a)},e.mb=function(a){var b=this,t=null;return Bh(this,jh(this,a.providerId).then((function(){return b.I()})).then((function(t){return a.b(b.a,t)})).then((function(e){return t=Mh(b,e,"link"),Vh(b,e)})).then((function(){return t})))},e.Bc=function(a,b){var t=this;return Bh(this,jh(this,"phone").then((function(){return Jc(wh(t),a,b,S(t.mb,t))})))},e.Kc=function(a,b){var t=this;return Bh(this,Ce().then((function(){return Jc(wh(t),a,b,S(t.pb,t))})),!0)},e.xb=function(a){var b=this;return Bh(this,this.I().then((function(t){return b.a.xb(t,a)})).then((function(t){return Lh(b,t),b.reload()})))},e.cd=function(a){var b=this;return Bh(this,this.I().then((function(t){return a.b(b.a,t)})).then((function(t){return Lh(b,t),b.reload()})))},e.yb=function(a){var b=this;return Bh(this,this.I().then((function(t){return b.a.yb(t,a)})).then((function(t){return Lh(b,t),b.reload()})))},e.zb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Oh(this);var b=this;return Bh(this,this.I().then((function(t){return b.a.zb(t,{displayName:a.displayName,photoUrl:a.photoURL})})).then((function(t){return Lh(b,t),xh(b,"displayName",t.displayName||null),xh(b,"photoURL",t.photoUrl||null),Y(b.providerData,(function(t){"password"===t.providerId&&(ei(t,"displayName",b.displayName),ei(t,"photoURL",b.photoURL))})),Th(b)})).then(Sh))},e.ad=function(a){var b=this;return Bh(this,Ch(this).then((function(t){return Z(kh(b),a)?function(a,b,t){return ou(a,Da,{idToken:b,deleteProvider:t})}(b.a,t,[a]).then((function(t){var e={};return Y(t.providerUserInfo||[],(function(t){e[t.providerId]=!0})),Y(kh(b),(function(t){e[t]||Dh(b,t)})),e[Go.PROVIDER_ID]||ei(b,"phoneNumber",null),Th(b)})):Th(b).then((function(){throw new u("no-such-provider")}))})))},e.delete=function(){var a=this;return Bh(this,this.I().then((function(b){return ou(a.a,Pa,{idToken:b})})).then((function(){a.dispatchEvent(new sh("userDeleted"))}))).then((function(){for(var b=0;b<a.N.length;b++)a.N[b].cancel("app-deleted");gh(a,null),bh(a,null),a.N=[],a.D=!0,Ih(a),ei(a,"refreshToken",null),a.i&&Rc(a.i,a)}))},e.Cb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.fa||null)==b||"reauthViaRedirect"==a&&(this.fa||null)==b)},e.la=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.w?this.w(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?S(this.Hb,this):"reauthViaPopup"==a&&b==(this.g||null)?S(this.Ib,this):"linkViaRedirect"==a&&(this.fa||null)==b?S(this.Hb,this):"reauthViaRedirect"==a&&(this.fa||null)==b?S(this.Ib,this):null},e.Cc=function(a){var b=this;return Uh(this,"linkViaPopup",a,(function(){return jh(b,a.providerId).then((function(){return Th(b)}))}),!1)},e.Lc=function(a){return Uh(this,"reauthViaPopup",a,(function(){return Ce()}),!0)},e.Dc=function(a){var b=this;return Fh(this,"linkViaRedirect",a,(function(){return jh(b,a.providerId)}),!1)},e.Mc=function(a){return Fh(this,"reauthViaRedirect",a,(function(){return Ce()}),!0)},e.Hb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Bh(this,this.I().then((function(g){return Ea(n.a,{requestUri:a,postBody:e,sessionId:b,idToken:g})})).then((function(g){return r=Mh(n,g,"link"),Vh(n,g)})).then((function(){return r})))},e.Ib=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Bh(this,Ce().then((function(){return go(Ta(n.a,{requestUri:a,sessionId:b,postBody:e,tenantId:t}),n.uid)})).then((function(t){return r=Mh(n,t,"reauthenticate"),Lh(n,t),n.h=null,n.reload()})).then((function(){return r})),!0)},e.qb=function(a){var b=this,t=null;return Bh(this,this.I().then((function(e){return t=e,void 0===a||_t(a)?{}:Wi(new ji(a))})).then((function(e){return b.a.qb(t,e)})).then((function(t){if(b.email!=t)return b.reload()})).then((function(){})))},e.Ab=function(a,b){var t=this,e=null;return Bh(this,this.I().then((function(t){return e=t,void 0===b||_t(b)?{}:Wi(new ji(b))})).then((function(n){return t.a.Ab(e,a,n)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.hc=function(a){var b=null,t=this;return Bh(this,a=go(Ce(a),t.uid).then((function(e){return b=Mh(t,e,"reauthenticate"),Lh(t,e),t.h=null,t.reload()})).then((function(){return b})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&Tt(a,this.metadata.v()),Y(this.providerData,(function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))})),Tt(a,this.O.v()),a};var Hh={name:"redirectUser",F:"session"};function Wh(a){return oc(a.b,Hh,a.a)}function Kh(a){this.a=a,this.b=nc(),this.c=null,this.f=function(a){var b=Jh("local"),t=Jh("session"),e=Jh("none");return function(a,b,t){var e=ic(b,t),n=rc(a,b.F);return a.get(b,t).then((function(r){var g=null;try{g=Gr(l.localStorage.getItem(e))}catch(t){}if(g&&!r)return l.localStorage.removeItem(e),a.set(b,g,t);g&&r&&"localStorage"!=n.type&&l.localStorage.removeItem(e)}))}(a.b,b,a.a).then((function(){return a.b.get(t,a.a)})).then((function(n){return n?t:a.b.get(e,a.a).then((function(t){return t?e:a.b.get(b,a.a).then((function(g){return g?b:a.b.get(Yh,a.a).then((function(t){return t?Jh(t):b}))}))}))})).then((function(t){return a.c=t,Xh(a,t.F)})).o((function(){a.c||(a.c=b)}))}(this),this.b.addListener(Jh("local"),this.a,S(this.g,this))}function Xh(a,b){var t,e=[];for(t in tc)tc[t]!==b&&e.push(oc(a.b,Jh(tc[t]),a.a));return e.push(oc(a.b,Yh,a.a)),function(a){return new Se((function(b,t){var e=a.length,n=[];if(e)for(var r=function(p,t){e--,n[p]=t,0==e&&b(n)},g=function(p){t(p)},o=0;o<a.length;o++)je(a[o],O(r,o),g);else b(n)}))}(e)}Kh.prototype.g=function(){var a=this,b=Jh("local");tf(this,(function(){return Ce().then((function(){return a.c&&"local"!=a.c.F?a.b.get(b,a.a):null})).then((function(t){if(t)return Xh(a,"local").then((function(){a.c=b}))}))}))};var Yh={name:"persistence",F:"session"};function Jh(a){return{name:"authUser",F:a}}function Qh(a,b){return tf(a,(function(){return a.b.set(a.c,b.v(),a.a)}))}function $h(a){return tf(a,(function(){return oc(a.b,a.c,a.a)}))}function Zh(a,b){return tf(a,(function(){return a.b.get(a.c,a.a).then((function(t){return t&&b&&(t.authDomain=b),Gh(t||{})}))}))}function tf(a,b){return a.f=a.f.then(b,b),a.f}function ef(a){if(this.l=!1,ei(this,"settings",new Xc),ei(this,"app",a),!hf(this).options||!hf(this).options.apiKey)throw new u("invalid-api-key");a=r.a.SDK_VERSION?Rr(r.a.SDK_VERSION):null,this.b=new ta(hf(this).options&&hf(this).options.apiKey,j(x),a),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(S(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(S(this.yc,this)),uf(this,null),this.i=new Kh(hf(this).options.apiKey+":"+hf(this).name),this.B=new zh(hf(this).options.apiKey+":"+hf(this).name),this.Z=df(this,function(a){var b=hf(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(Hh,a.a).then((function(t){return t&&b&&(t.authDomain=b),Gh(t||{})}))}(a.B,hf(a).options.authDomain).then((function(t){return(a.D=t)&&(t.ga=a.B),Wh(a.B)}));return df(a,b)}(a).then((function(){return Zh(a.i,b)})).then((function(t){return t?(t.ga=a.B,a.D&&(a.D.fa||null)==(t.fa||null)?t:t.reload().then((function(){return Qh(a.i,t).then((function(){return t}))})).o((function(e){return"auth/network-request-failed"==e.code?t:$h(a.i)}))):null})).then((function(t){uf(a,t||null)}));return df(a,t)}(this)),this.h=df(this,function(a){return a.Z.then((function(){return sf(a)})).o((function(){})).then((function(){if(!a.l)return a.oa()})).o((function(){})).then((function(){if(!a.l){a.aa=!0;var b=a.i;b.b.addListener(Jh("local"),b.a,a.oa)}}))}(this)),this.aa=!1,this.oa=S(this.Xc,this),this.Ma=S(this.ca,this),this.xa=S(this.jc,this),this.ya=S(this.uc,this),this.za=S(this.vc,this),this.a=null,function(a){var b=hf(a).options.authDomain,t=hf(a).options.apiKey;b&&Mr()&&(a.Zb=a.Z.then((function(){if(!a.l){if(a.a=qc(b,t,hf(a).name),xc(a.a,a),ff(a)&&Ah(ff(a)),a.D){Ah(a.D);var e=a.D;e.va(a.ja()),gh(e,a),mh(e=a.D,a.N),bh(e,a),a.D=null}return a.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.Ec,this),this.s=0,An.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.ja()},set:function(b){this.va(b)},enumerable:!1}),a.$=null,Object.defineProperty(a,"ti",{get:function(){return this.S()},set:function(b){this.ub(b)},enumerable:!1}),a.R=null}(this),this.N=[]}function nf(a){nn.call(this,"languageCodeChanged"),this.g=a}function rf(a){nn.call(this,"frameworkChanged"),this.c=a}function of(a){return a.Zb||Le(new u("auth-domain-config-required"))}function sf(a){if(!Mr())return Le(new u("operation-not-supported-in-this-environment"));var b=of(a).then((function(){return a.a.pa()})).then((function(t){return t?ri(t):null}));return df(a,b)}function af(a,b){var t={};return t.apiKey=hf(a).options.apiKey,t.authDomain=hf(a).options.authDomain,t.appName=hf(a).name,a.Z.then((function(){return function(a,b,t,e){var n=new yh(a,b);return t&&(n.ga=t),e&&mh(n,e),n.reload().then((function(){return n}))}(t,b,a.B,a.Ea())})).then((function(t){return ff(a)&&t.uid==ff(a).uid?(Rh(ff(a),t),a.ca(t)):(uf(a,t),Ah(t),a.ca(t))})).then((function(){pf(a)}))}function uf(a,b){ff(a)&&(function(a,b){et(a.R,(function(t){return t==b}))}(ff(a),a.Ma),td(ff(a),"tokenChanged",a.xa),td(ff(a),"userDeleted",a.ya),td(ff(a),"userInvalidated",a.za),Ih(ff(a))),b&&(b.R.push(a.Ma),dn(b,"tokenChanged",a.xa),dn(b,"userDeleted",a.ya),dn(b,"userInvalidated",a.za),0<a.s&&_h(b)),ei(a,"currentUser",b),b&&(b.va(a.ja()),gh(b,a),mh(b,a.N),bh(b,a))}function cf(a,b){var t=null,e=null;return df(a,b.then((function(n){return t=Ho(n),e=no(n),af(a,n)}),(function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=em(t.v(),a,S(a.ic,a))),e||t})).then((function(){return ri({user:ff(a),credential:t,additionalUserInfo:e,operationType:"signIn"})})))}function hf(a){return a.app}function ff(a){return a.currentUser}function lf(a){return ff(a)&&ff(a)._lat||null}function pf(a){if(a.aa){for(var b=0;b<a.m.length;b++)a.m[b]&&a.m[b](lf(a));if(a.W!==a.getUid()&&a.O.length)for(a.W=a.getUid(),b=0;b<a.O.length;b++)a.O[b]&&a.O[b](lf(a))}}function df(a,b){return a.P.push(b),b.ma((function(){tt(a.P,b)})),b}function vf(){}function yf(){this.a={},this.b=1e12}Kh.prototype.tb=function(a){var b=null,t=this;return function(a){var b=new u("invalid-persistence-type"),t=new u("unsupported-persistence-type");t:{for(e in tc)if(tc[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(Sr()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;case"Worker":if("session"===a||!Ru()&&"none"!==a)throw t;break;default:if(!jr()&&"none"!==a)throw t}}(a),tf(this,(function(){return a!=t.c.F?t.b.get(t.c,t.a).then((function(e){return b=e,Xh(t,a)})).then((function(){if(t.c=Jh(a),b)return t.b.set(t.c,b,t.a)})):Ce()}))},P(ef,An),P(nf,nn),P(rf,nn),(e=ef.prototype).tb=function(a){return df(this,a=this.i.tb(a))},e.va=function(a){this.$===a||this.l||(this.$=a,aa(this.b,this.$),this.dispatchEvent(new nf(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var a=l.navigator;this.va(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},e.Ec=function(a){this.N.push(a),ua(this.b,r.a.SDK_VERSION?Rr(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new rf(this.N))},e.Ea=function(){return it(this.N)},e.ub=function(a){this.R===a||this.l||(this.R=a,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:hf(this).options.apiKey,authDomain:hf(this).options.authDomain,appName:hf(this).name,currentUser:ff(this)&&ff(this).v()}},e.Cb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},e.la=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.w?this.w(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?S(this.gc,this):null},e.gc=function(a,b,t,e){var n=this,r={requestUri:a,postBody:e,sessionId:b,tenantId:t};return this.c&&(this.c.cancel(),this.c=null),n.Z.then((function(){return cf(n,Ia(n.b,r))}))},e.Vc=function(a){if(!Mr())return Le(new u("operation-not-supported-in-this-environment"));var b=this,t=eo(a.providerId),e=zr(),n=null;(!Fr()||Ar())&&hf(this).options.authDomain&&a.isOAuthProvider&&(n=wu(hf(this).options.authDomain,hf(this).options.apiKey,hf(this).name,"signInViaPopup",a,null,e,r.a.SDK_VERSION||null,null,null,this.S()));var o=wr(n,t&&t.ta,t&&t.sa);return df(this,t=of(this).then((function(g){return jc(g,o,"signInViaPopup",a,e,!!n,b.S())})).then((function(){return new Se((function(g,t){b.la("signInViaPopup",null,new u("cancelled-popup-request"),b.g),b.f=g,b.w=t,b.g=e,b.c=Uc(b.a,b,"signInViaPopup",o,e)}))})).then((function(g){return o&&mr(o),g?ri(g):null})).o((function(g){throw o&&mr(o),g})))},e.Wc=function(a){if(!Mr())return Le(new u("operation-not-supported-in-this-environment"));var b=this;return df(this,of(this).then((function(){return function(a){return tf(a,(function(){return a.b.set(Yh,a.c.F,a.a)}))}(b.i)})).then((function(){return Vc(b.a,"signInViaRedirect",a,void 0,b.S())})))},e.pa=function(){var a=this;return sf(this).then((function(b){return a.a&&zc(a.a.b),b})).o((function(b){throw a.a&&zc(a.a.b),b}))},e.bd=function(a){if(!a)return Le(new u("null-user"));if(this.R!=a.tenantId)return Le(new u("tenant-id-mismatch"));var b=this,t={};t.apiKey=hf(this).options.apiKey,t.authDomain=hf(this).options.authDomain,t.appName=hf(this).name;var e=function(a,b,t,e){var n=a.b,r={};return r[na]=n.b&&n.b.toString(),r.refreshToken=n.a,b=new yh(b||{apiKey:a.l,authDomain:a.s,appName:a.m},r),t&&(b.ga=t),e&&mh(b,e),Rh(b,a),b}(a,t,b.B,b.Ea());return df(this,this.h.then((function(){if(hf(b).options.apiKey!=a.l)return e.reload()})).then((function(){return ff(b)&&a.uid==ff(b).uid?(Rh(ff(b),a),b.ca(a)):(uf(b,e),Ah(e),b.ca(e))})).then((function(){pf(b)})))},e.wb=function(){var a=this;return df(this,this.h.then((function(){return a.a&&zc(a.a.b),ff(a)?(uf(a,null),$h(a.i).then((function(){pf(a)}))):Ce()})))},e.Xc=function(){var a=this;return Zh(this.i,hf(this).options.authDomain).then((function(b){if(!a.l){var t;if(t=ff(a)&&b){t=ff(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return Rh(ff(a),b),ff(a).I();(ff(a)||b)&&(uf(a,b),b&&(Ah(b),b.ga=a.B),a.a&&xc(a.a,a),pf(a))}}))},e.ca=function(a){return Qh(this.i,a)},e.jc=function(){pf(this),this.ca(ff(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(a){var b=this;return this.h.then((function(){return cf(b,Ce(a))}))},e.xc=function(a){var b=this;this.addAuthTokenListener((function(){a.next(ff(b))}))},e.yc=function(a){var b=this;!function(a,b){a.O.push(b),df(a,a.h.then((function(){!a.l&&Z(a.O,b)&&a.W!==a.getUid()&&(a.W=a.getUid(),b(lf(a)))})))}(this,(function(){a.next(ff(b))}))},e.Gc=function(a,b,t){var e=this;return this.aa&&Promise.resolve().then((function(){_(a)?a(ff(e)):_(a.next)&&a.next(ff(e))})),this.$b(a,b,t)},e.Fc=function(a,b,t){var e=this;return this.aa&&Promise.resolve().then((function(){e.W=e.getUid(),_(a)?a(ff(e)):_(a.next)&&a.next(ff(e))})),this.ac(a,b,t)},e.kc=function(a){var b=this;return df(this,this.h.then((function(){return ff(b)?ff(b).I(a).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(a){var b=this;return this.h.then((function(){return cf(b,ou(b.b,Za,{token:a}))})).then((function(t){var e=t.user;return xh(e,"isAnonymous",!1),b.ca(e),t}))},e.Sc=function(a,b){var t=this;return this.h.then((function(){return cf(t,ou(t.b,tu,{email:a,password:b}))}))},e.cc=function(a,b){var t=this;return this.h.then((function(){return cf(t,ou(t.b,Oa,{email:a,password:b}))}))},e.Ya=function(a){var b=this;return this.h.then((function(){return cf(b,a.ia(b.b))}))},e.Qc=function(a){return Zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(a)},e.vb=function(){var a=this;return this.h.then((function(){var b=ff(a);if(b&&b.isAnonymous){var t=ri({providerId:null,isNewUser:!1});return ri({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return cf(a,a.b.vb()).then((function(t){var e=t.user;return xh(e,"isAnonymous",!0),a.ca(e),t}))}))},e.getUid=function(){return ff(this)&&ff(this).uid||null},e.bc=function(a){this.addAuthTokenListener(a),this.s++,0<this.s&&ff(this)&&_h(ff(this))},e.Nc=function(a){var b=this;Y(this.m,(function(t){t==a&&b.s--})),0>this.s&&(this.s=0),0==this.s&&ff(this)&&Ih(ff(this)),this.removeAuthTokenListener(a)},e.addAuthTokenListener=function(a){var b=this;this.m.push(a),df(this,this.h.then((function(){b.l||Z(b.m,a)&&a(lf(b))})))},e.removeAuthTokenListener=function(a){et(this.m,(function(b){return b==a}))},e.delete=function(){this.l=!0;for(var a=0;a<this.P.length;a++)this.P[a].cancel("app-deleted");return this.P=[],this.i&&(a=this.i).b.removeListener(Jh("local"),a.a,this.oa),this.a&&(Rc(this.a,this),zc(this.a.b)),Promise.resolve()},e.fc=function(a){return df(this,function(a,b){return ou(a,ka,{identifier:b,continueUri:Vr()?vr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,a))},e.zc=function(a){return!!Uo(a)},e.sb=function(a,b){var t=this;return df(this,Ce().then((function(){var t=new ji(b);if(!t.c)throw new u("argument-error",Ui+" must be true when sending sign in link to email");return Wi(t)})).then((function(e){return t.b.sb(a,e)})).then((function(){})))},e.fd=function(a){return this.Pa(a).then((function(b){return b.data.email}))},e.jb=function(a,b){return df(this,this.b.jb(a,b).then((function(){})))},e.Pa=function(a){return df(this,this.b.Pa(a).then((function(b){return new pi(b)})))},e.fb=function(a){return df(this,this.b.fb(a).then((function(){})))},e.rb=function(a,b){var t=this;return df(this,Ce().then((function(){return void 0===b||_t(b)?{}:Wi(new ji(b))})).then((function(e){return t.b.rb(a,e)})).then((function(){})))},e.Uc=function(a,b){return df(this,Jc(this,a,b,S(this.Ya,this)))},e.Tc=function(a,b){var t=this;return df(this,Ce().then((function(){var e=b||vr(),n=Vo(a,e);if(!(e=Uo(e)))throw new u("argument-error","Invalid email link!");if(e.tenantId!==t.S())throw new u("tenant-id-mismatch");return t.Ya(n)})))},vf.prototype.render=function(){},vf.prototype.reset=function(){},vf.prototype.getResponse=function(){},vf.prototype.execute=function(){};var gf=null;function mf(a,b){return(b=bf(b))&&a.a[b]||null}function bf(a){return(a=void 0===a?1e12:a)?a.toString():null}function wf(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=pe(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():dn(this.f,"click",this.i)}function _f(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function If(){}function Ef(){}yf.prototype.render=function(a,b){return this.a[this.b.toString()]=new wf(a,b),this.b++},yf.prototype.reset=function(a){var b=mf(this,a);a=bf(a),b&&a&&(b.delete(),delete this.a[a])},yf.prototype.getResponse=function(a){return(a=mf(this,a))?a.getResponse():null},yf.prototype.execute=function(a){(a=mf(this,a))&&a.execute()},wf.prototype.getResponse=function(){return _f(this),this.b},wf.prototype.execute=function(){_f(this);var a=this;this.a||(this.a=setTimeout((function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout((function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()}),6e4)}),500))},wf.prototype.delete=function(){_f(this),this.g=!0,clearTimeout(this.a),this.a=null,td(this.f,"click",this.i)},ei(If,"FACTOR_ID","phone"),Ef.prototype.g=function(){return gf||(gf=new yf),Ce(gf)},Ef.prototype.c=function(){};var Tf=null;function Af(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nf=new Nt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sf=new Kr(3e4,6e4);Af.prototype.g=function(a){var b=this;return new Se((function(t,e){var n=setTimeout((function(){e(new u("network-request-failed"))}),Sf.get());!l.grecaptcha||a!==b.f&&!b.b?(l[b.a]=function(){if(l.grecaptcha){b.f=a;var g=l.grecaptcha.render;l.grecaptcha.render=function(t,e){return t=g(t,e),b.b++,t},clearTimeout(n),t(l.grecaptcha)}else clearTimeout(n),e(new u("internal-error"));delete l[b.a]},Ce(Ks(Rt(Nf,{onload:b.a,hl:a||""}))).o((function(){clearTimeout(n),e(new u("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(n),t(l.grecaptcha))}))},Af.prototype.c=function(){this.b--};var Of=null;function kf(a,b,t,e,n,r,g){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=b,this.g=null,g?(Tf||(Tf=new Ef),g=Tf):(Of||(Of=new Af),g=Of),this.m=g,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[xf])throw new u("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rf],!l.document)throw new u("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!pe(b)||!this.i&&pe(b).hasChildNodes())throw new u("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ta(a,r||null,n||null),this.w=e||function(){return null};var o=this;this.l=[];var c=this.a[Pf];this.a[Pf]=function(t){if(Cf(o,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Lr(c,l);"function"==typeof e&&e(t)}};var p=this.a[Df];this.a[Df]=function(){if(Cf(o,null),"function"==typeof p)p();else if("string"==typeof p){var t=Lr(p,l);"function"==typeof t&&t()}}}var Pf="callback",Df="expired-callback",xf="sitekey",Rf="size";function Cf(a,b){for(var t=0;t<a.l.length;t++)try{a.l[t](b)}catch(t){}}function Lf(a,b){return a.h.push(b),b.ma((function(){tt(a.h,b)})),b}function jf(a){if(a.D)throw new u("internal-error","RecaptchaVerifier instance has been destroyed.")}function Mf(a,b,t){var e=!1;try{this.b=t||r.a.app()}catch(t){throw new u("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new u("invalid-api-key");t=this.b.options.apiKey;var n=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{e=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=r.a.SDK_VERSION?Rr(r.a.SDK_VERSION,o):null,kf.call(this,t,a,b,(function(){try{var g=n.b.auth().ja()}catch(t){g=null}return g}),o,j(x),e)}function Vf(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new u("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].K(t[n])&&!r){if(b=b[n],0>n||n>=Uf.length)throw new u("internal-error","Argument validator received an unsupported number of arguments.");t=Uf[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.J+".";break t}e=null}}if(e)throw new u("argument-error",a+" failed: "+e)}(e=kf.prototype).Ga=function(){var a=this;return this.f?this.f:this.f=Lf(this,Ce().then((function(){if(Vr()&&!Nr())return Er();throw new u("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return a.m.g(a.w())})).then((function(b){return a.g=b,ou(a.s,Ba,{})})).then((function(b){a.a[xf]=b.recaptchaSiteKey})).o((function(b){throw a.f=null,b})))},e.render=function(){jf(this);var a=this;return Lf(this,this.Ga().then((function(){if(null===a.c){var b=a.u;if(!a.i){var t=pe(b);b=function(a,b,t){var e=arguments,n=document,r=String(e[0]),g=e[1];if(!le&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',Jt(g.name),'"'),g.type){r.push(' type="',Jt(g.type),'"');var o={};Tt(o,g),delete o.type,g=o}r.push(">"),r=r.join("")}return r=be(n,r),g&&("string"==typeof g?r.className=g:Array.isArray(g)?r.className=g.join(" "):de(r,g)),2<e.length&&me(n,r,e),r}("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c})))},e.verify=function(){jf(this);var a=this;return Lf(this,this.render().then((function(b){return new Se((function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(e){e&&(function(a,b){et(a.l,(function(t){return t==b}))}(a,n),t(e))};a.l.push(n),a.i&&a.g.execute(a.c)}}))})))},e.reset=function(){jf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){jf(this),this.D=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=pe(this.u);for(var b;b=a.firstChild;)a.removeChild(b)}},P(Mf,kf);var Uf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ff(a,b){return{name:a||"",J:"a valid string",optional:!!b,K:function(t){return"string"==typeof t}}}function qf(a,b){return{name:a||"",J:"a boolean",optional:!!b,K:function(t){return"boolean"==typeof t}}}function Bf(a,b){return{name:a||"",J:"a valid object",optional:!!b,K:q}}function Gf(a,b){return{name:a||"",J:"a function",optional:!!b,K:_}}function zf(a,b){return{name:a||"",J:"null",optional:!!b,K:function(t){return null===t}}}function Hf(a){return{name:a?a+"Credential":"credential",J:a?"a valid "+a+" credential":"a valid credential",optional:!1,K:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.ia||!t)}}}function Wf(a,b){return q(a)&&"string"==typeof a.type&&a.type===b&&_(a.Fa)}function Kf(a){return q(a)&&"string"==typeof a.uid}function Xf(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(a){return!(!a||"string"!=typeof a.type||!_(a.verify))}}}function Yf(a,b,t,e){return{name:t||"",J:a.J+" or "+b.J,optional:!!e,K:function(t){return a.K(t)||b.K(t)}}}function Jf(a,b){for(var t in b){var e=b[t].name;a[e]=Zf(e,a[t],b[t].j)}}function Qf(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:O((function(t){return this[t]}),t),set:O((function(t,e,g,n){Vf(t,[g],[n],!0),this[e]=n}),e,t,b[t].gb),enumerable:!0})}}function $f(a,b,t,e){a[b]=Zf(b,t,e)}function Zf(a,b,t){function e(){var g=Array.prototype.slice.call(arguments);return Vf(r,t,g),b.apply(this,g)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}Jf(ef.prototype,{fb:{name:"applyActionCode",j:[Ff("code")]},Pa:{name:"checkActionCode",j:[Ff("code")]},jb:{name:"confirmPasswordReset",j:[Ff("code"),Ff("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ff("email"),Ff("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ff("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ff("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Yf(Bf(),Gf(),"nextOrObserver"),Gf("opt_error",!0),Gf("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Yf(Bf(),Gf(),"nextOrObserver"),Gf("opt_error",!0),Gf("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ff("email"),Yf(Bf("opt_actionCodeSettings",!0),zf(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ff("email"),Bf("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ff("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Hf()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Hf()]},Rc:{name:"signInWithCustomToken",j:[Ff("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ff("email"),Ff("password")]},Tc:{name:"signInWithEmailLink",j:[Ff("email"),Ff("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ff("phoneNumber"),Xf()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Yf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(b){return!!(b&&b instanceof yh)}},zf(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ff(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ff("code")]}}),Qf(ef.prototype,{lc:{name:"languageCode",gb:Yf(Ff(),zf(),"languageCode")},ti:{name:"tenantId",gb:Yf(Ff(),zf(),"tenantId")}}),ef.Persistence=tc,ef.Persistence.LOCAL="local",ef.Persistence.SESSION="session",ef.Persistence.NONE="none",Jf(yh.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[qf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[qf("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Hf()]},mb:{name:"linkWithCredential",j:[Hf()]},Bc:{name:"linkWithPhoneNumber",j:[Ff("phoneNumber"),Xf()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hf()]},pb:{name:"reauthenticateWithCredential",j:[Hf()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ff("phoneNumber"),Xf()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Yf(Bf("opt_actionCodeSettings",!0),zf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ff(null,!0)]},ad:{name:"unlink",j:[Ff("provider")]},xb:{name:"updateEmail",j:[Ff("email")]},yb:{name:"updatePassword",j:[Ff("password")]},cd:{name:"updatePhoneNumber",j:[Hf("phone")]},zb:{name:"updateProfile",j:[Bf("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ff("email"),Yf(Bf("opt_actionCodeSettings",!0),zf(null,!0),"opt_actionCodeSettings",!0)]}}),Jf(yf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jf(vf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jf(Se.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qf(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:qf("appVerificationDisabledForTesting")}}),Jf(Yc.prototype,{confirm:{name:"confirm",j:[Ff("verificationCode")]}}),$f(yo,"fromJSON",(function(a){a="string"==typeof a?JSON.parse(a):a;for(var b,t=[Eo,jo,qo,wo],e=0;e<t.length;e++)if(b=t[e](a))return b;return null}),[Yf(Ff(),Bf(),"json")]),$f(Mo,"credential",(function(a,b){return new Lo(a,b)}),[Ff("email"),Ff("password")]),Jf(Lo.prototype,{v:{name:"toJSON",j:[Ff(null,!0)]}}),Jf(So.prototype,{Aa:{name:"addScope",j:[Ff("scope")]},Ia:{name:"setCustomParameters",j:[Bf("customOAuthParameters")]}}),$f(So,"credential",Oo,[Yf(Ff(),Bf(),"token")]),$f(Mo,"credentialWithLink",Vo,[Ff("email"),Ff("emailLink")]),Jf(ko.prototype,{Aa:{name:"addScope",j:[Ff("scope")]},Ia:{name:"setCustomParameters",j:[Bf("customOAuthParameters")]}}),$f(ko,"credential",Po,[Yf(Ff(),Bf(),"token")]),Jf(Do.prototype,{Aa:{name:"addScope",j:[Ff("scope")]},Ia:{name:"setCustomParameters",j:[Bf("customOAuthParameters")]}}),$f(Do,"credential",xo,[Yf(Ff(),Yf(Bf(),zf()),"idToken"),Yf(Ff(),zf(),"accessToken",!0)]),Jf(Ro.prototype,{Ia:{name:"setCustomParameters",j:[Bf("customOAuthParameters")]}}),$f(Ro,"credential",Co,[Yf(Ff(),Bf(),"token"),Ff("secret",!0)]),Jf(No.prototype,{Aa:{name:"addScope",j:[Ff("scope")]},credential:{name:"credential",j:[Yf(Ff(),Yf(Bf(),zf()),"optionsOrIdToken"),Yf(Ff(),zf(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Bf("customOAuthParameters")]}}),Jf(_o.prototype,{v:{name:"toJSON",j:[Ff(null,!0)]}}),Jf(mo.prototype,{v:{name:"toJSON",j:[Ff(null,!0)]}}),$f(Go,"credential",zo,[Ff("verificationId"),Ff("verificationCode")]),Jf(Go.prototype,{cb:{name:"verifyPhoneNumber",j:[Yf(Ff(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Wf(t.session,po)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Wf(t.session,vo)&&Kf(t.multiFactorHint):t.session&&t.multiFactorUid?Wf(t.session,vo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Xf()]}}),Jf(Fo.prototype,{v:{name:"toJSON",j:[Ff(null,!0)]}}),Jf(u.prototype,{toJSON:{name:"toJSON",j:[Ff(null,!0)]}}),Jf($o.prototype,{toJSON:{name:"toJSON",j:[Ff(null,!0)]}}),Jf(th.prototype,{toJSON:{name:"toJSON",j:[Ff(null,!0)]}}),Jf(nh.prototype,{toJSON:{name:"toJSON",j:[Ff(null,!0)]}}),Jf($c.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(a){return!!a&&!!a.ob}}]}}),Jf(ah.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(a){return!!a&&!!a.ob}},Ff("displayName",!0)]},$c:{name:"unenroll",j:[Yf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Kf},Ff(),"multiFactorInfoIdentifier")]}}),Jf(Mf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$f(Si,"parseLink",Li,[Ff("link")]),$f(If,"assertion",(function(a){return new oh(a)}),[Hf("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:di,VERIFY_AND_CHANGE_EMAIL:yi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ef,AuthCredential:yo,Error:u};$f(a,"EmailAuthProvider",Mo,[]),$f(a,"FacebookAuthProvider",So,[]),$f(a,"GithubAuthProvider",ko,[]),$f(a,"GoogleAuthProvider",Do,[]),$f(a,"TwitterAuthProvider",Ro,[]),$f(a,"OAuthProvider",No,[Ff("providerId")]),$f(a,"SAMLAuthProvider",Ao,[Ff("providerId")]),$f(a,"PhoneAuthProvider",Go,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(a){return!!(a&&a instanceof ef)}}]),$f(a,"RecaptchaVerifier",Mf,[Yf(Ff(),{name:"",J:"an HTML element",optional:!1,K:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),Bf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(a){return!!(a&&a instanceof r.a.app.App)}}]),$f(a,"ActionCodeURL",Si,[]),$f(a,"PhoneMultiFactorGenerator",If,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(b){return new ef(b=b.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(b){return{getUid:S((b=b.getProvider("auth").getImmediate()).getUid,b),getToken:S(b.kc,b),addAuthTokenListener:S(b.bc,b),removeAuthTokenListener:S(b.Nc,b)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.14.8"),r.a.INTERNAL.extendNamespace({User:yh})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(21))}}]);